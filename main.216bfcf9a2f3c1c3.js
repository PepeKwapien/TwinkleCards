"use strict";(self.webpackChunkTwinkleCards=self.webpackChunkTwinkleCards||[]).push([[179],{9058:(bt,je,$)=>{$.d(je,{BH:()=>He,L:()=>Ie,LL:()=>Je,P0:()=>et,Pz:()=>Ue,Sg:()=>Me,ZR:()=>ze,aH:()=>ce,b$:()=>Zn,eu:()=>we,hl:()=>ye,m9:()=>or,ne:()=>Er,q4:()=>St,ru:()=>ht,tV:()=>ne,uI:()=>me,vZ:()=>Gt,w1:()=>Xt,xO:()=>Gn,xb:()=>Ii,z$:()=>nt});const Te=function(ae){const K=[];let Q=0;for(let W=0;W<ae.length;W++){let Y=ae.charCodeAt(W);Y<128?K[Q++]=Y:Y<2048?(K[Q++]=Y>>6|192,K[Q++]=63&Y|128):55296==(64512&Y)&&W+1<ae.length&&56320==(64512&ae.charCodeAt(W+1))?(Y=65536+((1023&Y)<<10)+(1023&ae.charCodeAt(++W)),K[Q++]=Y>>18|240,K[Q++]=Y>>12&63|128,K[Q++]=Y>>6&63|128,K[Q++]=63&Y|128):(K[Q++]=Y>>12|224,K[Q++]=Y>>6&63|128,K[Q++]=63&Y|128)}return K},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ae,K){if(!Array.isArray(ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let Y=0;Y<ae.length;Y+=3){const Ee=ae[Y],qe=Y+1<ae.length,lt=qe?ae[Y+1]:0,Yt=Y+2<ae.length,$t=Yt?ae[Y+2]:0;let qn=(15&lt)<<2|$t>>6,kr=63&$t;Yt||(kr=64,qe||(qn=64)),W.push(Q[Ee>>2],Q[(3&Ee)<<4|lt>>4],Q[qn],Q[kr])}return W.join("")},encodeString(ae,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(ae):this.encodeByteArray(Te(ae),K)},decodeString(ae,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(ae):function(ae){const K=[];let Q=0,W=0;for(;Q<ae.length;){const Y=ae[Q++];if(Y<128)K[W++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ee=ae[Q++];K[W++]=String.fromCharCode((31&Y)<<6|63&Ee)}else if(Y>239&&Y<365){const Yt=((7&Y)<<18|(63&ae[Q++])<<12|(63&ae[Q++])<<6|63&ae[Q++])-65536;K[W++]=String.fromCharCode(55296+(Yt>>10)),K[W++]=String.fromCharCode(56320+(1023&Yt))}else{const Ee=ae[Q++],qe=ae[Q++];K[W++]=String.fromCharCode((15&Y)<<12|(63&Ee)<<6|63&qe)}}return K.join("")}(this.decodeStringToByteArray(ae,K))},decodeStringToByteArray(ae,K){this.init_();const Q=K?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let Y=0;Y<ae.length;){const Ee=Q[ae.charAt(Y++)],lt=Y<ae.length?Q[ae.charAt(Y)]:0;++Y;const $t=Y<ae.length?Q[ae.charAt(Y)]:64;++Y;const un=Y<ae.length?Q[ae.charAt(Y)]:64;if(++Y,null==Ee||null==lt||null==$t||null==un)throw new Pe;W.push(Ee<<2|lt>>4),64!==$t&&(W.push(lt<<4&240|$t>>2),64!==un&&W.push($t<<6&192|un))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ae=0;ae<this.ENCODED_VALS.length;ae++)this.byteToCharMap_[ae]=this.ENCODED_VALS.charAt(ae),this.charToByteMap_[this.byteToCharMap_[ae]]=ae,this.byteToCharMapWebSafe_[ae]=this.ENCODED_VALS_WEBSAFE.charAt(ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ae]]=ae,ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ae)]=ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ae)]=ae)}}};class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(ae){return function(ae){const K=Te(ae);return ie.encodeByteArray(K,!0)}(ae).replace(/\./g,"")},ne=function(ae){try{return ie.decodeString(ae,!0)}catch(K){console.error("base64Decode failed: ",K)}return null},We=()=>{try{return function de(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ae=process.env.__FIREBASE_DEFAULTS__;return ae?JSON.parse(ae):void 0})()||(()=>{if(typeof document>"u")return;let ae;try{ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const K=ae&&ne(ae[1]);return K&&JSON.parse(K)})()}catch(ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ae}`)}},St=ae=>{var K,Q;return null===(Q=null===(K=We())||void 0===K?void 0:K.emulatorHosts)||void 0===Q?void 0:Q[ae]},et=ae=>{const K=St(ae);if(!K)return;const Q=K.lastIndexOf(":");if(Q<=0||Q+1===K.length)throw new Error(`Invalid host ${K} with no separate hostname and port!`);const W=parseInt(K.substring(Q+1),10);return"["===K[0]?[K.substring(1,Q-1),W]:[K.substring(0,Q),W]},ce=()=>{var ae;return null===(ae=We())||void 0===ae?void 0:ae.config},Ue=ae=>{var K;return null===(K=We())||void 0===K?void 0:K[`_${ae}`]};class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,Q)=>{this.resolve=K,this.reject=Q})}wrapCallback(K){return(Q,W)=>{Q?this.reject(Q):this.resolve(W),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(Q):K(Q,W))}}}function Me(ae,K){if(ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=K||"demo-project",Y=ae.iat||0,Ee=ae.sub||ae.user_id;if(!Ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qe=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:Y,exp:Y+3600,auth_time:Y,sub:Ee,user_id:Ee,firebase:{sign_in_provider:"custom",identities:{}}},ae);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(qe)),""].join(".")}function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function ht(){const ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ae&&void 0!==ae.id}function Zn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xt(){const ae=nt();return ae.indexOf("MSIE ")>=0||ae.indexOf("Trident/")>=0}function ye(){try{return"object"==typeof indexedDB}catch{return!1}}function we(){return new Promise((ae,K)=>{try{let Q=!0;const W="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(W);Y.onsuccess=()=>{Y.result.close(),Q||self.indexedDB.deleteDatabase(W),ae(!0)},Y.onupgradeneeded=()=>{Q=!1},Y.onerror=()=>{var Ee;K((null===(Ee=Y.error)||void 0===Ee?void 0:Ee.message)||"")}}catch(Q){K(Q)}})}class ze extends Error{constructor(K,Q,W){super(Q),this.code=K,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Je.prototype.create)}}class Je{constructor(K,Q,W){this.service=K,this.serviceName=Q,this.errors=W}create(K,...Q){const W=Q[0]||{},Y=`${this.service}/${K}`,Ee=this.errors[K],qe=Ee?function Bt(ae,K){return ae.replace(vn,(Q,W)=>{const Y=K[W];return null!=Y?String(Y):`<${W}?>`})}(Ee,W):"Error";return new ze(Y,`${this.serviceName}: ${qe} (${Y}).`,W)}}const vn=/\{\$([^}]+)}/g;function Ii(ae){for(const K in ae)if(Object.prototype.hasOwnProperty.call(ae,K))return!1;return!0}function Gt(ae,K){if(ae===K)return!0;const Q=Object.keys(ae),W=Object.keys(K);for(const Y of Q){if(!W.includes(Y))return!1;const Ee=ae[Y],qe=K[Y];if(Br(Ee)&&Br(qe)){if(!Gt(Ee,qe))return!1}else if(Ee!==qe)return!1}for(const Y of W)if(!Q.includes(Y))return!1;return!0}function Br(ae){return null!==ae&&"object"==typeof ae}function Gn(ae){const K=[];for(const[Q,W]of Object.entries(ae))Array.isArray(W)?W.forEach(Y=>{K.push(encodeURIComponent(Q)+"="+encodeURIComponent(Y))}):K.push(encodeURIComponent(Q)+"="+encodeURIComponent(W));return K.length?"&"+K.join("&"):""}function Er(ae,K){const Q=new dr(ae,K);return Q.subscribe.bind(Q)}class dr{constructor(K,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{K(this)}).catch(W=>{this.error(W)})}next(K){this.forEachObserver(Q=>{Q.next(K)})}error(K){this.forEachObserver(Q=>{Q.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,Q,W){let Y;if(void 0===K&&void 0===Q&&void 0===W)throw new Error("Missing Observer.");Y=function Or(ae,K){if("object"!=typeof ae||null===ae)return!1;for(const Q of K)if(Q in ae&&"function"==typeof ae[Q])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:Q,complete:W},void 0===Y.next&&(Y.next=tr),void 0===Y.error&&(Y.error=tr),void 0===Y.complete&&(Y.complete=tr);const Ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Ee}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,K)}sendOne(K,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{Q(this.observers[K])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tr(){}function or(ae){return ae&&ae._delegate?ae._delegate:ae}},2588:(bt,je,$)=>{$.d(je,{N:()=>le});var _=$(6689),J=$(6814);const j=["mainButton"],Te=["options"];function ge(de,Re){if(1&de&&_.GkF(0,8),2&de){const st=_.oxw();_.Q6J("ngTemplateOutlet",st.properties.mainButtonTemplate)}}const ie=function(de){return{"icon-rotated-180":de}};function Pe(de,Re){if(1&de&&_._UZ(0,"img",9),2&de){const st=_.oxw();_.Q6J("ngClass",_.VKq(1,ie,st.optionsExpanded))}}function Oe(de,Re){if(1&de&&_.GkF(0,8),2&de){const st=_.oxw().$implicit;_.Q6J("ngTemplateOutlet",st.displayTemplate)}}const Ie=function(de){return{"dropdown-option-selected":de}};function ne(de,Re){if(1&de){const st=_.EpF();_.TgZ(0,"button",10),_.NdJ("click",function(){const We=_.CHM(st),St=We.$implicit,et=We.index,ce=_.oxw();return _.KtG(ce.emitValue(St.emitValue,et))}),_.TgZ(1,"span"),_._uU(2),_.qZA(),_.YNc(3,Oe,1,1,"ng-container",3),_.qZA()}if(2&de){const st=Re.$implicit,it=Re.index,We=_.oxw();_.Q6J("ngClass",_.VKq(3,Ie,We.isOptionSelected(it))),_.xp6(2),_.Oqu(st.display),_.xp6(1),_.Q6J("ngIf",void 0!==st.displayTemplate)}}const se=function(de){return{active:de}},he=function(de){return{"light-box-shadow":de}};let le=(()=>{class de{get optionsExpanded(){return this._optionsExpanded}constructor(){this.usernameElement=void 0,this.optionsElement=void 0,this._optionsExpanded=!1,this.optionClicked=new _.vpe}ngOnInit(){this.properties.selectBehavior&&"boolean"!=typeof this.properties.selectBehavior&&(this._selectedValue=this.properties.selectBehavior.initValue)}closeOptionsWhenClickedOutside(st){void 0===this.usernameElement||void 0===this.optionsElement||!this.checkIfClickedInside(st,this.usernameElement)&&!this.checkIfClickedInside(st,this.optionsElement)&&(this._optionsExpanded=!1)}checkIfClickedInside(st,it){return it.nativeElement.contains(st.target)}closeOptions(){this._optionsExpanded=!1}toggleOptions(){this._optionsExpanded=!this._optionsExpanded}emitValue(st,it){this._selectedValue=it,this.optionClicked.next(st)}isOptionSelected(st){return this._selectedValue===st}static#e=this.\u0275fac=function(it){return new(it||de)};static#t=this.\u0275cmp=_.Xpm({type:de,selectors:[["app-dropdown-menu"]],viewQuery:function(it,We){if(1&it&&(_.Gf(j,5),_.Gf(Te,5)),2&it){let St;_.iGM(St=_.CRH())&&(We.usernameElement=St.first),_.iGM(St=_.CRH())&&(We.optionsElement=St.first)}},hostBindings:function(it,We){1&it&&_.NdJ("click",function(et){return We.closeOptionsWhenClickedOutside(et)},!1,_.evT)("keydown.escape",function(et){return We.closeOptions(et)},!1,_.evT)},inputs:{properties:"properties"},outputs:{optionClicked:"optionClicked"},decls:9,vars:13,consts:[[1,"dropdown-container",3,"ngClass","click"],["mainButton",""],[1,"dropdown-button","empty-button",3,"ngClass"],[3,"ngTemplateOutlet",4,"ngIf"],["src","./assets/expand_more.svg","class","arrow-icon",3,"ngClass",4,"ngIf"],[1,"dropdown-options",3,"ngClass"],["options",""],["class","empty-button dropdown-menu-option",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["src","./assets/expand_more.svg",1,"arrow-icon",3,"ngClass"],[1,"empty-button","dropdown-menu-option",3,"ngClass","click"]],template:function(it,We){1&it&&(_.TgZ(0,"div",0,1),_.NdJ("click",function(){return We.toggleOptions()}),_.TgZ(2,"button",2),_._uU(3),_.YNc(4,ge,1,1,"ng-container",3),_.YNc(5,Pe,1,3,"img",4),_.qZA(),_.TgZ(6,"div",5,6),_.YNc(8,ne,4,5,"button",7),_.qZA()()),2&it&&(_.Q6J("ngClass",_.VKq(7,se,We.optionsExpanded)),_.xp6(2),_.Q6J("ngClass",_.VKq(9,he,We.optionsExpanded)),_.xp6(1),_.hij(" ",We.properties.mainButton," "),_.xp6(1),_.Q6J("ngIf",void 0!==We.properties.mainButtonTemplate),_.xp6(1),_.Q6J("ngIf",We.properties.showArrow),_.xp6(1),_.Q6J("ngClass",_.VKq(11,he,We.optionsExpanded)),_.xp6(2),_.Q6J("ngForOf",We.properties.options))},dependencies:[J.mk,J.sg,J.O5,J.tP],styles:[".collection-group-header-text-margin[_ngcontent-%COMP%]{margin:.2em 0}*[_ngcontent-%COMP%]{font-size:inherit}.arrow-icon[_ngcontent-%COMP%]{height:24px;transition:.3s}.dropdown-container[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;margin:0}.dropdown-button[_ngcontent-%COMP%]{padding:.5em;display:flex;align-items:center;column-gap:.3em;border:3px transparent solid;border-radius:5px;border-bottom:unset}.active[_ngcontent-%COMP%] > .dropdown-button[_ngcontent-%COMP%]{border:3px hsl(283,81%,52%) solid;border-bottom:unset;border-bottom-left-radius:unset;border-bottom-right-radius:unset;background:hsl(0,0%,93%);transition:.3s;filter:brightness(100%)}.active[_ngcontent-%COMP%] > .dropdown-button[_ngcontent-%COMP%]:hover{filter:brightness(95%)}.active[_ngcontent-%COMP%] > .dropdown-button[_ngcontent-%COMP%]:active{filter:brightness(90%)}.dropdown-options[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;display:flex;flex-direction:column;top:100%;left:0;width:100%;transform:scaleY(0);opacity:0;transform-origin:top;transition:.2s;border:3px transparent solid}.active[_ngcontent-%COMP%] > .dropdown-options[_ngcontent-%COMP%]{transform:scaleY(1);opacity:1;z-index:1;border-radius:5px;border:3px hsl(283,81%,52%) solid;border-top:unset;border-top-left-radius:unset;border-top-right-radius:unset}.dropdown-options[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.5rem 0}.dropdown-options[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.dropdown-option-selected){background:hsl(0,0%,93%)}.dropdown-options[_ngcontent-%COMP%] > *.dropdown-option-selected[_ngcontent-%COMP%]{background-color:#dec3e9}.dropdown-options[_ngcontent-%COMP%] > *.dropdown-option-selected[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:unset}.active[_ngcontent-%COMP%]   .dropdown-options[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-top:3px hsla(283,81%,52%,.5) solid;transition:.3s;filter:brightness(100%)}.active[_ngcontent-%COMP%]   .dropdown-options[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:hover{filter:brightness(95%)}.active[_ngcontent-%COMP%]   .dropdown-options[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:active{filter:brightness(90%)}.dropdown-options[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:3px;border-bottom-right-radius:3px}.dropdown-menu-option[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]})}return de})()},6663:(bt,je,$)=>{$.d(je,{R:()=>J});var _=$(6689);let J=(()=>{class j{static#e=this.\u0275fac=function(ie){return new(ie||j)};static#t=this.\u0275cmp=_.Xpm({type:j,selectors:[["app-loader"]],decls:3,vars:0,consts:[[1,"footer","under-navbar-container"],[1,"loader-container"],[1,"loader"]],template:function(ie,Pe){1&ie&&(_.TgZ(0,"div",0)(1,"div",1),_._UZ(2,"div",2),_.qZA()())}})}return j})()},8524:(bt,je,$)=>{$.d(je,{m:()=>Te});var _=$(6814),J=$(95),j=$(6689);let Te=(()=>{class ge{static#e=this.\u0275fac=function(Oe){return new(Oe||ge)};static#t=this.\u0275mod=j.oAB({type:ge});static#n=this.\u0275inj=j.cJS({imports:[_.ez,J.UX]})}return ge})()},361:(bt,je,$)=>{$.d(je,{e:()=>Ie});var _=$(5861),J=$(9339),j=$(2637);class Te{constructor(se,he,le,de,Re){this.displayName=se,this.email=he,this.photo=le,this.firstLogin=de,this.lastLogin=Re,this.collectionGroups=[{name:"Unassigned \u{1f648}",color:"pink",collections:[]}]}static FromFirebaseUser(se){return new Te(se.displayName,se.email,se.photoURL,new Date,new Date)}}var ge=$(2181),ie=$(6689),Pe=$(9805),Oe=$(3451);let Ie=(()=>{class ne{get userId(){return this._user?.uid??"Unknown"}get username(){return this._user?.displayName??"Unknown"}get isUserAuthenticated(){return null!==this._user}get user$(){return this._userRepository.user$.pipe((0,ge.h)(he=>void 0!==he))}constructor(he,le,de){var Re=this;this._auth=he,this._router=le,this._userRepository=de,this._user=this._auth.currentUser,this._auth.onAuthStateChanged(function(){var st=(0,_.Z)(function*(it){Re._user=it,null!==it?yield Re._setupUser(it):Re._userRepository.clearUser()});return function(it){return st.apply(this,arguments)}}())}registerOnAuthStateChanged(he){this._auth.onAuthStateChanged(he)}signWithGooglePopup(){var he=this;return(0,_.Z)(function*(){const le=new J.hJ;return yield(0,j.rh)(he._auth,le)})()}signOut(){var he=this;return(0,_.Z)(function*(){yield(0,j.w7)(he._auth),he._router.navigate([""])})()}_setupUser(he){var le=this;return(0,_.Z)(function*(){const de=he.uid;(yield le._userRepository.readUser(de))?yield le._userRepository.updateLastLogin(de):yield le._userRepository.upsertUser(de,Te.FromFirebaseUser(he)),le._userRepository.setupUserChanges(de)})()}static#e=this.\u0275fac=function(le){return new(le||ne)(ie.LFG(j.gx),ie.LFG(Pe.F0),ie.LFG(Oe.E))};static#t=this.\u0275prov=ie.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})()},8727:(bt,je,$)=>{$.d(je,{Z:()=>Pe});var _=$(5619),J=$(8645),j=$(6973),Te=$(305),ie=$(6689);let Pe=(()=>{class Oe{get showModal$(){return this._showModal.asObservable()}get setTemplate$(){return this._setTemplate.asObservable()}get confirmProperties$(){return this._confirmProperties.asObservable()}get modalProperties$(){return this._modalProperties.asObservable()}constructor(){this._DEFAULT_MODAL_PROPERTIES={showClose:!0,transparentBackground:!0},this._DEFAULT_ACTION_PROPERTIES={title:"Irreversible action",description:"Are you sure?",color:"pink"},this._showModal=new _.X(!1),this._setTemplate=new _.X(void 0),this._confirmDecision=new J.x,this._confirmProperties=new _.X(this._DEFAULT_ACTION_PROPERTIES),this._modalProperties=new _.X(this._DEFAULT_MODAL_PROPERTIES)}close(){this._showModal.next(!1),this._confirmDecision.next(!1)}open(ne,se={showClose:!0,transparentBackground:!0}){this._setTemplate.next(ne),this._modalProperties.next(se),this._showModal.next(!0)}confirm(){this._confirmDecision.next(!0),this._showModal.next(!1)}getConfirmation(ne){return this._confirmProperties.next(ne||this._DEFAULT_ACTION_PROPERTIES),this._modalProperties.next(this._DEFAULT_MODAL_PROPERTIES),this._setTemplate.next(void 0),this._showModal.next(!0),function ge(Oe,Ie){const ne="object"==typeof Ie;return new Promise((se,he)=>{const le=new Te.Hp({next:de=>{se(de),le.unsubscribe()},error:he,complete:()=>{ne?se(Ie.defaultValue):he(new j.K)}});Oe.subscribe(le)})}(this._confirmDecision)}static#e=this.\u0275fac=function(se){return new(se||Oe)};static#t=this.\u0275prov=ie.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})()},3451:(bt,je,$)=>{$.d(je,{E:()=>ge});var _=$(5861),J=$(9774),j=$(5619),Te=$(6689);let ge=(()=>{class ie{get user$(){return this._userSubject}get userCollectionGroupNames(){return this._userSubject.value?this._userSubject.value.collectionGroups.map(Oe=>Oe.name):[]}constructor(Oe){this._firestore=Oe,this._collectionName="users",this._userSubject=new j.X(void 0)}ngOnDestroy(){void 0!==this._userChangesUnsubscribe&&this._userChangesUnsubscribe()}readUser(Oe){var Ie=this;return(0,_.Z)(function*(){return(yield(0,J.QT)((0,J.JU)(Ie._firestore,Ie._collectionName,Oe))).data()})()}readUsername(Oe){var Ie=this;return(0,_.Z)(function*(){return(yield Ie.readUser(Oe))?.displayName})()}upsertUser(Oe,Ie){var ne=this;return(0,_.Z)(function*(){return yield(0,J.pl)((0,J.JU)(ne._firestore,ne._collectionName,Oe),{...Ie})})()}updateLastLogin(Oe){var Ie=this;return(0,_.Z)(function*(){yield(0,J.r7)((0,J.JU)(Ie._firestore,Ie._collectionName,Oe),{lastLogin:new Date})})()}setupUserChanges(Oe){this._userChangesUnsubscribe=(0,J.cf)((0,J.JU)(this._firestore,this._collectionName,Oe),Ie=>this._userSubject.next(Ie.data()))}clearUser(){var Oe=this;return(0,_.Z)(function*(){Oe._userSubject.next(void 0)})()}createCollectionGroup(Oe,Ie){var ne=this;return(0,_.Z)(function*(){const se={name:Ie.name,color:Ie.color,collections:[]};yield(0,J.r7)((0,J.JU)(ne._firestore,ne._collectionName,Oe),{collectionGroups:(0,J.vr)(se)})})()}editCollectionGroup(Oe,Ie,ne){var se=this;return(0,_.Z)(function*(){const he=se._userSubject.value.collectionGroups,le=he.find(de=>JSON.stringify(de)===JSON.stringify(Ie));le&&(le.name=ne.name,le.color=ne.color,yield(0,J.r7)((0,J.JU)(se._firestore,se._collectionName,Oe),{collectionGroups:he}))})()}deleteCollectionGroup(Oe,Ie){var ne=this;return(0,_.Z)(function*(){yield(0,J.r7)((0,J.JU)(ne._firestore,ne._collectionName,Oe),{collectionGroups:(0,J.Ab)({...Ie})})})()}createCollectionReference(Oe,Ie,ne,se){var he=this;return(0,_.Z)(function*(){const le=he._userSubject.value.collectionGroups,de=le.find(Re=>Re.name==Ie);de&&(de.collections.push({name:se,id:ne}),yield(0,J.r7)((0,J.JU)(he._firestore,he._collectionName,Oe),{collectionGroups:le}))})()}updateCollectionReference(Oe,Ie,ne,se){var he=this;return(0,_.Z)(function*(){let le=!1;const de=he._userSubject.value.collectionGroups;let Re,st,it,We;for(const St of de)if(We=St.collections.findIndex(et=>et.id===ne),-1!==We&&(Re=St,it=St.collections[We]),St.name===Ie&&(st=St),Re&&st)break;if(Re&&st){if(Re!==st){Re.collections.splice(We,1);const St={id:ne,name:se};st.collections.push({...St}),We=st.collections.length-1,it=St,Re=st,le=!0}it.name!==se&&(Re.collections[We].name=se,le=!0),le&&(yield(0,J.r7)((0,J.JU)(he._firestore,he._collectionName,Oe),{collectionGroups:de}))}})()}deleteCollectionReference(Oe,Ie,ne){var se=this;return(0,_.Z)(function*(){const he=se._userSubject.value.collectionGroups,le=he.find(Re=>Re.name==Ie);if(!le)return;const de=le.collections.indexOf(ne);de>-1&&(le.collections.splice(de,1),yield(0,J.r7)((0,J.JU)(se._firestore,se._collectionName,Oe),{collectionGroups:he}))})()}static#e=this.\u0275fac=function(Ie){return new(Ie||ie)(Te.LFG(J.gg))};static#t=this.\u0275prov=Te.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})()},2303:(bt,je,$)=>{var _=$(6593),J=$(9805),j=$(6689),Te=$(361),ge=$(6814);function ie(I,d){1&I&&j.GkF(0)}const Pe=function(I){return{$implicit:I}};function Oe(I,d){if(1&I&&(j.ynx(0),j.YNc(1,ie,1,0,"ng-container",3),j.BQk()),2&I){const p=d.$implicit;j.oxw();const E=j.MAs(3);j.xp6(1),j.Q6J("ngTemplateOutlet",E)("ngTemplateOutletContext",j.VKq(2,Pe,p))}}function Ie(I,d){if(1&I&&(j.TgZ(0,"h2",10),j._uU(1),j.qZA()),2&I){const p=d.$implicit;j.xp6(1),j.hij(" ",p," ")}}function ne(I,d){if(1&I&&(j.TgZ(0,"div",4)(1,"div",5)(2,"h1",6),j._uU(3),j.qZA()(),j.TgZ(4,"p",7),j._uU(5),j.qZA(),j.TgZ(6,"div",8),j.YNc(7,Ie,2,1,"h2",9),j.qZA()()),2&I){const p=d.$implicit;j.xp6(3),j.Oqu(p.title),j.xp6(2),j.Oqu(p.description),j.xp6(2),j.Q6J("ngForOf",p.additional)}}const he=[{path:"",component:(()=>{class I{constructor(p){this._authService=p,this.landingPageComponents=[{title:"One place for all your flashcards \u{1f5c3}\ufe0f",description:"TwinkleCards\u2728 is an app from a flashcard lover for other flashcard lovers. The goal is to make the process of studying with flashcard easier and more convenient",additional:["Create your flashcards \u{1f44f}","Manage them with ease \u{1f64c}","Have fun while studying \u{1f973}"]},{title:"Study and memorize easier \u{1f4a1}",description:"TwinkleCards\u2728 is here to make your learning process easier. No more searching through hundreds of your flashcards to find that one word that you have on the tip of your tongue...",additional:["Search for words \u{1f50d}","Sort your collections \u{1f5c2}\ufe0f","View and flip flashcards \u{1f373}"]},{title:"Share with your friends \u{1f91d}",description:"Maybe there is that one special friend that will share their collections with you. You can share your TwinkleCards\u2728 collection by copying the link. Authentication is not required",additional:["Browse collections of friends \u{1f9d0}","Share your collections \u{1f4e1}","...or keep them hidden \u{1f648}"]}]}ngAfterViewInit(){this._authService.registerOnAuthStateChanged(()=>{setTimeout(()=>{const p=new IntersectionObserver(O=>{O.forEach(U=>{U.isIntersecting&&U.target.classList.add("intersection-detected")})});document.querySelectorAll(".observe-intersection").forEach(O=>p.observe(O))})})}static#e=this.\u0275fac=function(E){return new(E||I)(j.Y36(Te.e))};static#t=this.\u0275cmp=j.Xpm({type:I,selectors:[["app-landing-page"]],decls:4,vars:1,consts:[[1,"dissolve-animation-enter"],[4,"ngFor","ngForOf"],["titleAndDescription",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"landing-page-container"],[1,"landing-page-section-title-container"],[1,"landing-page-section-title","observe-intersection","text-shadow"],[1,"landing-page-section-description","observe-intersection"],[1,"landing-page-section-additional-container"],["class","landing-page-section-additional observe-intersection box-shadow",4,"ngFor","ngForOf"],[1,"landing-page-section-additional","observe-intersection","box-shadow"]],template:function(E,O){1&E&&(j.TgZ(0,"div",0),j.YNc(1,Oe,2,4,"ng-container",1),j.qZA(),j.YNc(2,ne,8,3,"ng-template",null,2,j.W1O)),2&E&&(j.xp6(1),j.Q6J("ngForOf",O.landingPageComponents))},dependencies:[ge.sg,ge.tP],styles:['.landing-page-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;padding-left:1.5em;padding-right:1.5em;height:100vh;scroll-snap-align:start;scroll-snap-stop:always;row-gap:1em;z-index:1}.landing-page-container[_ngcontent-%COMP%]:not(:first-child):before{z-index:-2;content:"";position:absolute;background-image:url(waves-background-top.e9cfd339744a61c0.svg);background-size:cover;background-repeat:no-repeat;background-position:center top;background-color:inherit;height:100%;width:100%;top:0;left:0;aspect-ratio:16/9}.landing-page-container[_ngcontent-%COMP%]:after{content:"";z-index:-2;position:absolute;background-image:url(waves-background-bottom.2246c1884f71415a.svg);background-size:cover;background-repeat:no-repeat;background-position:center bottom;background-color:inherit;height:100%;width:100%;top:0;left:0;aspect-ratio:16/9}.landing-page-container[_ngcontent-%COMP%]:last-child:after{display:flex;justify-content:center;align-items:flex-end;color:#ededed;content:"Contact: pppkwapien@gmail.com";z-index:-2;position:absolute;background-image:url(waves-background-bottom.2246c1884f71415a.svg);background-size:cover;background-repeat:no-repeat;background-position:center bottom;background-color:inherit;height:100%;width:100%;top:0;left:0;aspect-ratio:16/9}.landing-page-section-title-container[_ngcontent-%COMP%]{padding:.4em;border-radius:20px;background-color:#ededed}.landing-page-section-title[_ngcontent-%COMP%]{margin:0;text-align:center}.landing-page-section-description[_ngcontent-%COMP%]{text-align:center;max-width:75ch;font-size:1.2rem}.landing-page-section-additional-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;column-gap:1em}.landing-page-section-additional[_ngcontent-%COMP%]{background:linear-gradient(135deg,hsl(0,0%,93%) 0%,hsl(290,78%,64%) 100%);border-radius:15px;padding:1em;font-size:1.05rem}@media (max-width: 600px){.landing-page-container[_ngcontent-%COMP%]:last-child:after{font-size:.7rem}.landing-page-section-title[_ngcontent-%COMP%]{font-size:1.2rem}.landing-page-section-description[_ngcontent-%COMP%]{font-size:.9rem;max-width:45ch}.landing-page-section-additional-container[_ngcontent-%COMP%]{flex-direction:column}.landing-page-section-additional[_ngcontent-%COMP%]{text-align:center;font-size:.8rem}}.observe-intersection[_ngcontent-%COMP%]{opacity:0}.observe-intersection.landing-page-section-additional[_ngcontent-%COMP%]{transform:translateY(100%)}.intersection-detected[_ngcontent-%COMP%]{opacity:1}.intersection-detected.landing-page-section-title[_ngcontent-%COMP%]{transition:.7s}.intersection-detected.landing-page-section-description[_ngcontent-%COMP%]{transition:.7s .5s}.intersection-detected.landing-page-section-additional[_ngcontent-%COMP%]{transform:translateY(0)}.intersection-detected.landing-page-section-additional[_ngcontent-%COMP%]:nth-child(1){transition:.7s 1s}.intersection-detected.landing-page-section-additional[_ngcontent-%COMP%]:nth-child(2){transition:.7s 1.3s}.intersection-detected.landing-page-section-additional[_ngcontent-%COMP%]:nth-child(3){transition:.7s 1.6s}.intersection-detected.landing-page-section-additional[_ngcontent-%COMP%]:nth-child(4){transition:.7s 1.9s}.intersection-detected.landing-page-section-additional[_ngcontent-%COMP%]:nth-child(5){transition:.7s 2.2s}.intersection-detected.landing-page-section-additional[_ngcontent-%COMP%]:nth-child(6){transition:.7s 2.5s}.intersection-detected.landing-page-section-additional[_ngcontent-%COMP%]:nth-child(7){transition:.7s 2.8s}.intersection-detected.landing-page-section-additional[_ngcontent-%COMP%]:nth-child(8){transition:.7s 3.1s}.intersection-detected.landing-page-section-additional[_ngcontent-%COMP%]:nth-child(9){transition:.7s 3.4s}.intersection-detected.landing-page-section-additional[_ngcontent-%COMP%]:nth-child(10){transition:.7s 3.7s}']})}return I})()},{path:"home",loadChildren:()=>Promise.all([$.e(592),$.e(146)]).then($.bind($,7146)).then(I=>I.HomeModule)},{path:":collectionId",loadChildren:()=>Promise.all([$.e(592),$.e(694)]).then($.bind($,8694)).then(I=>I.CollectionModule)}];let le=(()=>{class I{static#e=this.\u0275fac=function(E){return new(E||I)};static#t=this.\u0275mod=j.oAB({type:I});static#n=this.\u0275inj=j.cJS({imports:[J.Bz.forRoot(he,{bindToComponentInputs:!0}),J.Bz]})}return I})();var de=$(6825),Re=$(5861),st=$(2588);const it=["usernameTemplate"];function We(I,d){if(1&I){const p=j.EpF();j.TgZ(0,"button",3),j.NdJ("click",function(){j.CHM(p);const O=j.oxw();return j.KtG(O.signWithGooglePopup())}),j._uU(1," Sign in"),j._UZ(2,"img",4),j.qZA()}}function St(I,d){if(1&I){const p=j.EpF();j.TgZ(0,"div",5),j._uU(1," Hi, "),j.TgZ(2,"app-dropdown-menu",6),j.NdJ("optionClicked",function(){j.CHM(p);const O=j.oxw();return j.KtG(O.signOut())}),j.qZA()()}if(2&I){const p=j.oxw();j.xp6(2),j.Q6J("properties",p.userDropdownOptions)}}function et(I,d){if(1&I&&(j.TgZ(0,"div",7),j._uU(1),j.qZA()),2&I){const p=j.oxw();j.xp6(1),j.hij(" ",p.username," ")}}let ce=(()=>{class I{get isUserAuthenticated(){return this._authService.isUserAuthenticated}get username(){return this._authService.username}get userDropdownOptions(){return this._userDropdownOptions}constructor(p){this._authService=p,this._userDropdownOptions={mainButton:this.username,options:[{display:"Sign out",emitValue:""}],showArrow:!0,selectBehavior:!1}}ngAfterViewInit(){this._userDropdownOptions.mainButton="",this._userDropdownOptions.mainButtonTemplate=this.usernameTemplate}signWithGooglePopup(){var p=this;return(0,Re.Z)(function*(){yield p._authService.signWithGooglePopup()})()}signOut(){var p=this;return(0,Re.Z)(function*(){yield p._authService.signOut()})()}static#e=this.\u0275fac=function(E){return new(E||I)(j.Y36(Te.e))};static#t=this.\u0275cmp=j.Xpm({type:I,selectors:[["app-auth"]],viewQuery:function(E,O){if(1&E&&j.Gf(it,5),2&E){let U;j.iGM(U=j.CRH())&&(O.usernameTemplate=U.first)}},decls:5,vars:2,consts:[["class","login-button",3,"click",4,"ngIf","ngIfElse"],["authenticated",""],["usernameTemplate",""],[1,"login-button",3,"click"],["src","./assets/google.png","alt","Google logo",1,"user-icon","inverted-black-icon"],[1,"user-outer-container"],[3,"properties","optionClicked"],[1,"username-min-width"]],template:function(E,O){if(1&E&&(j.YNc(0,We,3,0,"button",0),j.YNc(1,St,3,1,"ng-template",null,1,j.W1O),j.YNc(3,et,2,1,"ng-template",null,2,j.W1O)),2&E){const U=j.MAs(2);j.Q6J("ngIf",!O.isUserAuthenticated)("ngIfElse",U)}},dependencies:[ge.O5,st.N],styles:[".user-outer-container[_ngcontent-%COMP%], .user-outer-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:1.1rem}@media (max-width: 600px){.user-outer-container[_ngcontent-%COMP%], .user-outer-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:.95rem}}.user-icon[_ngcontent-%COMP%]{height:14px}.username-min-width[_ngcontent-%COMP%]{min-width:4em}"]})}return I})();function Ue(I,d){if(1&I){const p=j.EpF();j.TgZ(0,"button",6),j.NdJ("click",function(){j.CHM(p);const O=j.oxw();return j.KtG(O.navigateBack())}),j._UZ(1,"img",7),j.qZA()}2&I&&j.Q6J("@arrow",void 0)}let He=(()=>{class I{get displayBackArrow(){return"/home"!==this._router.url&&"/"!==this._router.url}constructor(p,E){this._router=p,this._location=E,this._routingHistory=[],this._navigationSub=this._router.events.subscribe(O=>{O instanceof J.m2&&this._routingHistory.push(O.urlAfterRedirects)})}ngOnDestroy(){this._navigationSub.unsubscribe()}navigateBack(){this._routingHistory.pop(),this._routingHistory.length>0?this._location.back():this._router.navigateByUrl("/home")}navigateToSearch(p){this._router.navigateByUrl(`search/${p}`)}static#e=this.\u0275fac=function(E){return new(E||I)(j.Y36(J.F0),j.Y36(ge.Ye))};static#t=this.\u0275cmp=j.Xpm({type:I,selectors:[["app-navbar"]],decls:8,vars:1,consts:[[1,"navbar-container","default-x-padding"],[1,"navbar-content-container"],[1,"logo-container"],["class","empty-button back-button",3,"click",4,"ngIf"],["routerLink","/home",1,"header-text","empty-button"],[1,"navbar-search-auth"],[1,"empty-button","back-button",3,"click"],["src","./assets/arrow_back.svg",1,"hover-icon"]],template:function(E,O){1&E&&(j.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),j.YNc(3,Ue,2,1,"button",3),j.TgZ(4,"button",4),j._uU(5,"TwinkleCards\u2728"),j.qZA()(),j.TgZ(6,"div",5),j._UZ(7,"app-auth"),j.qZA()()()),2&E&&(j.xp6(3),j.Q6J("ngIf",O.displayBackArrow))},dependencies:[ge.O5,J.rH,ce],styles:['.default-x-padding[_ngcontent-%COMP%]{padding-left:3em;padding-right:3em}.under-navbar-container[_ngcontent-%COMP%]{padding:2.5em 3em;min-height:calc(100vh - 4rem);display:flex;justify-content:center}.under-navbar-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:1300px;width:100%}@media (max-width: 600px){.under-navbar-container[_ngcontent-%COMP%]{padding:1em 2em;min-height:calc(100vh - 3rem)}.default-x-padding[_ngcontent-%COMP%]{padding-left:2em;padding-right:2em}}.loader-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;position:absolute;top:0}.loader-container[_ngcontent-%COMP%] > .loader[_ngcontent-%COMP%]{width:100px;aspect-ratio:1;padding:10px;box-sizing:border-box;display:flex;justify-content:center;align-items:center;background:#fff;filter:blur(3px) contrast(7) hue-rotate(290deg);mix-blend-mode:darken}.loader-container[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]:before{content:"";margin:auto;width:30px;height:30px;border-radius:50%;color:red;background:currentColor;box-shadow:-30px 0,30px 0,0 30px,0 -30px;animation:_ngcontent-%COMP%_l6 1s infinite alternate}@keyframes _ngcontent-%COMP%_l6{90%,to{box-shadow:-10px 0,10px 0,0 10px,0 -10px;transform:rotate(180deg)}}.invisible[_ngcontent-%COMP%]{pointer-events:none;opacity:0}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:sticky;top:0;left:0;height:4rem;background-color:#f2f2f2;box-shadow:3px 3px 5px #8080807c;z-index:2}@media (max-width: 600px){.navbar-container[_ngcontent-%COMP%]{height:3rem}}.navbar-content-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;max-width:1300px}.navbar-search-auth[_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:1.5em}.logo-container[_ngcontent-%COMP%]{position:relative}.logo-container[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{position:absolute;left:-3em;top:50%;transform:translateY(-50%);height:100%}@media (max-width: 600px){.logo-container[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{left:-2em}.logo-container[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}}'],data:{animation:[(0,de.X$)("arrow",[(0,de.eR)(":enter",[(0,de.oB)({opacity:0,transform:"translateX(-100%) translateY(-50%)"}),(0,de.jt)("0.3s",(0,de.oB)({opacity:1,transform:"translateX(0%) translateY(-50%)"}))]),(0,de.eR)(":leave",[(0,de.jt)("0.3s",(0,de.oB)({opacity:0,transform:"translateX(-100%) translateY(-50%)"}))])])]}})}return I})();var Me=$(7398),nt=$(8727);const me=["default"];function jt(I,d){if(1&I){const p=j.EpF();j.TgZ(0,"button",7)(1,"img",8),j.NdJ("click",function(){j.CHM(p);const O=j.oxw(3);return j.KtG(O.close())}),j.qZA()()}}const Qt=function(I){return{"modal-overlay-container-solid":I}};function ht(I,d){if(1&I){const p=j.EpF();j.TgZ(0,"div",3),j.NdJ("mousedown",function(){j.CHM(p);const O=j.oxw(2);return j.KtG(O.close())}),j.TgZ(1,"div",4),j.NdJ("mousedown",function(O){return O.stopPropagation()}),j.YNc(2,jt,2,0,"button",5),j.GkF(3,6),j.ALo(4,"async"),j.qZA()()}if(2&I){const p=d.ngIf,E=j.oxw(2),O=j.MAs(3);j.Q6J("ngClass",j.VKq(5,Qt,!p.transparentBackground)),j.xp6(2),j.Q6J("ngIf",p.showClose),j.xp6(1),j.Q6J("ngTemplateOutlet",j.lcZ(4,3,E.setTemplate$)||O)}}function Zn(I,d){if(1&I&&(j.TgZ(0,"div"),j.YNc(1,ht,5,7,"div",2),j.ALo(2,"async"),j.qZA()),2&I){const p=j.oxw();j.xp6(1),j.Q6J("ngIf",j.lcZ(2,1,p.modalProperties$))}}function ot(I,d){if(1&I){const p=j.EpF();j.TgZ(0,"div",10)(1,"h3"),j._uU(2),j.qZA(),j.TgZ(3,"p",11),j._uU(4),j.qZA(),j.TgZ(5,"p",12),j._uU(6),j.qZA(),j.TgZ(7,"div",13)(8,"button",14),j.NdJ("click",function(){j.CHM(p);const O=j.oxw(2);return j.KtG(O.confirm())}),j._uU(9," Yes "),j._UZ(10,"img",15),j.qZA(),j.TgZ(11,"button",16),j.NdJ("click",function(){j.CHM(p);const O=j.oxw(2);return j.KtG(O.close())}),j._uU(12," Cancel "),j._UZ(13,"img",17),j.qZA()()()}if(2&I){const p=d.ngIf;j.xp6(1),j.Tol(p.color),j.xp6(1),j.Oqu(p.title),j.xp6(2),j.Oqu(p.description),j.xp6(2),j.Oqu(p.confirmation)}}function Xt(I,d){if(1&I&&(j.YNc(0,ot,14,5,"div",9),j.ALo(1,"async")),2&I){const p=j.oxw();j.Q6J("ngIf",j.lcZ(1,1,p.confirmProperties$))}}let Rt=(()=>{class I{get showModal$(){return this._modalService.showModal$}get confirmProperties$(){return this._modalService.confirmProperties$}get modalProperties$(){return this._modalService.modalProperties$}get setTemplate$(){return this._modalService.setTemplate$.pipe((0,Me.U)(p=>void 0===p?this.defaultTemplate:p))}constructor(p){this._modalService=p}close(){this._modalService.close()}confirm(){this._modalService.confirm()}static#e=this.\u0275fac=function(E){return new(E||I)(j.Y36(nt.Z))};static#t=this.\u0275cmp=j.Xpm({type:I,selectors:[["app-modal-overlay"]],viewQuery:function(E,O){if(1&E&&j.Gf(me,5),2&E){let U;j.iGM(U=j.CRH())&&(O.defaultTemplate=U.first)}},decls:4,vars:3,consts:[[4,"ngIf"],["default",""],["class","modal-overlay-container",3,"ngClass","mousedown",4,"ngIf"],[1,"modal-overlay-container",3,"ngClass","mousedown"],[1,"modal-overlay-body","dissolve-animation-enter",3,"mousedown"],["class","empty-button close-modal-icon",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"empty-button","close-modal-icon"],["src","./assets/close.svg",1,"hover-icon","grayed-icon",3,"click"],["class","form-outer-container modal-confirmation light-box-shadow",4,"ngIf"],[1,"form-outer-container","modal-confirmation","light-box-shadow"],[1,"modal-confirmation-description"],[1,"modal-confirmation-question"],[1,"confirmation-buttons"],[1,"confirm-button",3,"click"],["src","./assets/check-circle.svg",1,"inverted-black-icon"],[1,"cancel-button",3,"click"],["src","./assets/cancel.svg",1,"inverted-black-icon"]],template:function(E,O){1&E&&(j.YNc(0,Zn,3,3,"div",0),j.ALo(1,"async"),j.YNc(2,Xt,2,3,"ng-template",null,1,j.W1O)),2&E&&j.Q6J("ngIf",j.lcZ(1,1,O.showModal$))},dependencies:[ge.mk,ge.O5,ge.tP,ge.Ov],styles:[".modal-overlay-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:2;width:100%;height:100%;overflow-y:auto;overflow-x:hidden;padding:3em;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,hsla(0,0%,93%,.5) 0%,hsla(290,78%,64%,.5) 100%)}.modal-overlay-container-solid[_ngcontent-%COMP%]{background:linear-gradient(135deg,hsl(0,0%,93%) 0%,hsl(290,78%,64%) 100%)}.modal-overlay-body[_ngcontent-%COMP%]{margin:auto;position:relative;width:clamp(400px,50%,600px);border-radius:15px}.modal-confirmation[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.modal-confirmation[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{width:100%}.modal-confirmation[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:.5rem 0}.confirmation-buttons[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;justify-content:space-between;column-gap:3em}.confirmation-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:7em}.close-modal-icon[_ngcontent-%COMP%]{z-index:2;position:absolute;right:.5em;top:.5em}.modal-confirmation-description[_ngcontent-%COMP%]{text-align:center}.modal-confirmation-question[_ngcontent-%COMP%]{text-align:center;text-decoration:underline}"]})}return I})();var Ht=$(6663);function Mt(I,d){1&I&&j.Hsn(0,0,["*ngIf","isUserEstimated; else loading"])}function ye(I,d){1&I&&j._UZ(0,"app-loader")}const we=["*"];let Ne=(()=>{class I{constructor(p,E){this._authService=p,this._router=E,this.isUserEstimated=!1,this._authService.registerOnAuthStateChanged(O=>{this.isUserEstimated=!0,"/"===this._router.url&&null!==O?this._router.navigate(["home"]):"/home"===this._router.url&&null==O&&this._router.navigate(["/"])})}static#e=this.\u0275fac=function(E){return new(E||I)(j.Y36(Te.e),j.Y36(J.F0))};static#t=this.\u0275cmp=j.Xpm({type:I,selectors:[["app-user-loading-guard"]],ngContentSelectors:we,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""]],template:function(E,O){if(1&E&&(j.F$t(),j.YNc(0,Mt,1,0,"ng-content",0),j.YNc(1,ye,1,0,"ng-template",null,1,j.W1O)),2&E){const U=j.MAs(2);j.Q6J("ngIf",O.isUserEstimated)("ngIfElse",U)}},dependencies:[ge.O5,Ht.R]})}return I})(),Ce=(()=>{class I{constructor(){this.title="TwinkleCards"}static#e=this.\u0275fac=function(E){return new(E||I)};static#t=this.\u0275cmp=j.Xpm({type:I,selectors:[["app-root"]],decls:4,vars:0,template:function(E,O){1&E&&(j._UZ(0,"app-navbar"),j.TgZ(1,"app-user-loading-guard"),j._UZ(2,"router-outlet"),j.qZA(),j._UZ(3,"app-modal-overlay"))},dependencies:[J.lC,He,Rt,Ne]})}return I})();var ze=$(721),Je=$(2637),Bt=$(9774),vn=$(8524);function Ut(I){return new j.vHH(3e3,!1)}function or(I){switch(I.length){case 0:return new de.ZN;case 1:return I[0];default:return new de.ZE(I)}}function ae(I,d,p=new Map,E=new Map){const O=[],U=[];let ee=-1,oe=null;if(d.forEach(ve=>{const xe=ve.get("offset"),Ke=xe==ee,ut=Ke&&oe||new Map;ve.forEach((Ft,Nt)=>{let Vt=Nt,wt=Ft;if("offset"!==Nt)switch(Vt=I.normalizePropertyName(Vt,O),wt){case de.k1:wt=p.get(Nt);break;case de.l3:wt=E.get(Nt);break;default:wt=I.normalizeStyleValue(Nt,Vt,wt,O)}ut.set(Vt,wt)}),Ke||U.push(ut),oe=ut,ee=xe}),O.length)throw function Cn(I){return new j.vHH(3502,!1)}();return U}function K(I,d,p,E){switch(d){case"start":I.onStart(()=>E(p&&Q(p,"start",I)));break;case"done":I.onDone(()=>E(p&&Q(p,"done",I)));break;case"destroy":I.onDestroy(()=>E(p&&Q(p,"destroy",I)))}}function Q(I,d,p){const U=W(I.element,I.triggerName,I.fromState,I.toState,d||I.phaseName,p.totalTime??I.totalTime,!!p.disabled),ee=I._data;return null!=ee&&(U._data=ee),U}function W(I,d,p,E,O="",U=0,ee){return{element:I,triggerName:d,fromState:p,toState:E,phaseName:O,totalTime:U,disabled:!!ee}}function Y(I,d,p){let E=I.get(d);return E||I.set(d,E=p),E}function Ee(I){const d=I.indexOf(":");return[I.substring(1,d),I.slice(d+1)]}const qe=(()=>typeof document>"u"?null:document.documentElement)();function lt(I){const d=I.parentNode||I.host||null;return d===qe?null:d}let $t=null,An=!1;function wr(I,d){for(;d;){if(d===I)return!0;d=lt(d)}return!1}function es(I,d,p){if(p)return Array.from(I.querySelectorAll(d));const E=I.querySelector(d);return E?[E]:[]}let De=(()=>{class I{validateStyleProperty(p){return function un(I){$t||($t=function kr(){return typeof document<"u"?document.body:null}()||{},An=!!$t.style&&"WebkitAppearance"in $t.style);let d=!0;return $t.style&&!function Yt(I){return"ebkit"==I.substring(1,6)}(I)&&(d=I in $t.style,!d&&An&&(d="Webkit"+I.charAt(0).toUpperCase()+I.slice(1)in $t.style)),d}(p)}matchesElement(p,E){return!1}containsElement(p,E){return wr(p,E)}getParentElement(p){return lt(p)}query(p,E,O){return es(p,E,O)}computeStyle(p,E,O){return O||""}animate(p,E,O,U,ee,oe=[],ve){return new de.ZN(O,U)}static#e=this.\u0275fac=function(E){return new(E||I)};static#t=this.\u0275prov=j.Yz7({token:I,factory:I.\u0275fac})}return I})(),$e=(()=>{class I{static#e=this.NOOP=new De}return I})();const Et=1e3,fn="ng-enter",nr="ng-leave",Nn="ng-trigger",Dr=".ng-trigger",ts="ng-animating",Cr=".ng-animating";function Ar(I){if("number"==typeof I)return I;const d=I.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:En(parseFloat(d[1]),d[2])}function En(I,d){return"s"===d?I*Et:I}function ns(I,d,p){return I.hasOwnProperty("duration")?I:function Ms(I,d,p){let O,U=0,ee="";if("string"==typeof I){const oe=I.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===oe)return d.push(Ut()),{duration:0,delay:0,easing:""};O=En(parseFloat(oe[1]),oe[2]);const ve=oe[3];null!=ve&&(U=En(parseFloat(ve),oe[4]));const xe=oe[5];xe&&(ee=xe)}else O=I;if(!p){let oe=!1,ve=d.length;O<0&&(d.push(function pn(){return new j.vHH(3100,!1)}()),oe=!0),U<0&&(d.push(function Jn(){return new j.vHH(3101,!1)}()),oe=!0),oe&&d.splice(ve,0,Ut())}return{duration:O,delay:U,easing:ee}}(I,d,p)}function On(I,d={}){return Object.keys(I).forEach(p=>{d[p]=I[p]}),d}function br(I){const d=new Map;return Object.keys(I).forEach(p=>{d.set(p,I[p])}),d}function Zr(I,d=new Map,p){if(p)for(let[E,O]of p)d.set(E,O);for(let[E,O]of I)d.set(E,O);return d}function Si(I,d,p){d.forEach((E,O)=>{const U=ps(O);p&&!p.has(O)&&p.set(O,I.style[U]),I.style[U]=E})}function _i(I,d){d.forEach((p,E)=>{const O=ps(E);I.style[O]=""})}function jr(I){return Array.isArray(I)?1==I.length?I[0]:(0,de.vP)(I):I}const gr=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ui(I){let d=[];if("string"==typeof I){let p;for(;p=gr.exec(I);)d.push(p[1]);gr.lastIndex=0}return d}function Jr(I,d,p){const E=I.toString(),O=E.replace(gr,(U,ee)=>{let oe=d[ee];return null==oe&&(p.push(function Ct(I){return new j.vHH(3003,!1)}()),oe=""),oe.toString()});return O==E?I:O}function Xr(I){const d=[];let p=I.next();for(;!p.done;)d.push(p.value),p=I.next();return d}const ao=/-+([a-z0-9])/g;function ps(I){return I.replace(ao,(...d)=>d[1].toUpperCase())}function ci(I,d,p){switch(d.type){case 7:return I.visitTrigger(d,p);case 0:return I.visitState(d,p);case 1:return I.visitTransition(d,p);case 2:return I.visitSequence(d,p);case 3:return I.visitGroup(d,p);case 4:return I.visitAnimate(d,p);case 5:return I.visitKeyframes(d,p);case 6:return I.visitStyle(d,p);case 8:return I.visitReference(d,p);case 9:return I.visitAnimateChild(d,p);case 10:return I.visitAnimateRef(d,p);case 11:return I.visitQuery(d,p);case 12:return I.visitStagger(d,p);default:throw function Dn(I){return new j.vHH(3004,!1)}()}}function Mo(I,d){return window.getComputedStyle(I)[d]}const Gi="*";function Qs(I,d){const p=[];return"string"==typeof I?I.split(/\s*,\s*/).forEach(E=>function ms(I,d,p){if(":"==I[0]){const ve=function Ys(I,d){switch(I){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(p,E)=>parseFloat(E)>parseFloat(p);case":decrement":return(p,E)=>parseFloat(E)<parseFloat(p);default:return d.push(function Or(I){return new j.vHH(3016,!1)}()),"* => *"}}(I,p);if("function"==typeof ve)return void d.push(ve);I=ve}const E=I.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==E||E.length<4)return p.push(function ui(I){return new j.vHH(3015,!1)}()),d;const O=E[1],U=E[2],ee=E[3];d.push(_s(O,ee));"<"==U[0]&&!(O==Gi&&ee==Gi)&&d.push(_s(ee,O))}(E,p,d)):p.push(I),p}const Os=new Set(["true","1"]),xs=new Set(["false","0"]);function _s(I,d){const p=Os.has(I)||xs.has(I),E=Os.has(d)||xs.has(d);return(O,U)=>{let ee=I==Gi||I==O,oe=d==Gi||d==U;return!ee&&p&&"boolean"==typeof O&&(ee=O?Os.has(I):xs.has(I)),!oe&&E&&"boolean"==typeof U&&(oe=U?Os.has(d):xs.has(d)),ee&&oe}}const rs=new RegExp("s*:selfs*,?","g");function Ri(I,d,p,E){return new fr(I).build(d,p,E)}class fr{constructor(d){this._driver=d}build(d,p,E){const O=new mn(p);return this._resetContextStyleTimingState(O),ci(this,jr(d),O)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles=new Map,d.collectedStyles.set("",new Map),d.currentTime=0}visitTrigger(d,p){let E=p.queryCount=0,O=p.depCount=0;const U=[],ee=[];return"@"==d.name.charAt(0)&&p.errors.push(function er(){return new j.vHH(3006,!1)}()),d.definitions.forEach(oe=>{if(this._resetContextStyleTimingState(p),0==oe.type){const ve=oe,xe=ve.name;xe.toString().split(/\s*,\s*/).forEach(Ke=>{ve.name=Ke,U.push(this.visitState(ve,p))}),ve.name=xe}else if(1==oe.type){const ve=this.visitTransition(oe,p);E+=ve.queryCount,O+=ve.depCount,ee.push(ve)}else p.errors.push(function Ii(){return new j.vHH(3007,!1)}())}),{type:7,name:d.name,states:U,transitions:ee,queryCount:E,depCount:O,options:null}}visitState(d,p){const E=this.visitStyle(d.styles,p),O=d.options&&d.options.params||null;if(E.containsDynamicStyles){const U=new Set,ee=O||{};E.styles.forEach(oe=>{oe instanceof Map&&oe.forEach(ve=>{Ui(ve).forEach(xe=>{ee.hasOwnProperty(xe)||U.add(xe)})})}),U.size&&(Xr(U.values()),p.errors.push(function Vi(I,d){return new j.vHH(3008,!1)}()))}return{type:0,name:d.name,style:E,options:O?{params:O}:null}}visitTransition(d,p){p.queryCount=0,p.depCount=0;const E=ci(this,jr(d.animation),p);return{type:1,matchers:Qs(d.expr,p.errors),animation:E,queryCount:p.queryCount,depCount:p.depCount,options:ei(d.options)}}visitSequence(d,p){return{type:2,steps:d.steps.map(E=>ci(this,E,p)),options:ei(d.options)}}visitGroup(d,p){const E=p.currentTime;let O=0;const U=d.steps.map(ee=>{p.currentTime=E;const oe=ci(this,ee,p);return O=Math.max(O,p.currentTime),oe});return p.currentTime=O,{type:3,steps:U,options:ei(d.options)}}visitAnimate(d,p){const E=function Wi(I,d){if(I.hasOwnProperty("duration"))return I;if("number"==typeof I)return Zs(ns(I,d).duration,0,"");const p=I;if(p.split(/\s+/).some(U=>"{"==U.charAt(0)&&"{"==U.charAt(1))){const U=Zs(0,0,"");return U.dynamic=!0,U.strValue=p,U}const O=ns(p,d);return Zs(O.duration,O.delay,O.easing)}(d.timings,p.errors);p.currentAnimateTimings=E;let O,U=d.styles?d.styles:(0,de.oB)({});if(5==U.type)O=this.visitKeyframes(U,p);else{let ee=d.styles,oe=!1;if(!ee){oe=!0;const xe={};E.easing&&(xe.easing=E.easing),ee=(0,de.oB)(xe)}p.currentTime+=E.duration+E.delay;const ve=this.visitStyle(ee,p);ve.isEmptyStep=oe,O=ve}return p.currentAnimateTimings=null,{type:4,timings:E,style:O,options:null}}visitStyle(d,p){const E=this._makeStyleAst(d,p);return this._validateStyleAst(E,p),E}_makeStyleAst(d,p){const E=[],O=Array.isArray(d.styles)?d.styles:[d.styles];for(let oe of O)"string"==typeof oe?oe===de.l3?E.push(oe):p.errors.push(new j.vHH(3002,!1)):E.push(br(oe));let U=!1,ee=null;return E.forEach(oe=>{if(oe instanceof Map&&(oe.has("easing")&&(ee=oe.get("easing"),oe.delete("easing")),!U))for(let ve of oe.values())if(ve.toString().indexOf("{{")>=0){U=!0;break}}),{type:6,styles:E,easing:ee,offset:d.offset,containsDynamicStyles:U,options:null}}_validateStyleAst(d,p){const E=p.currentAnimateTimings;let O=p.currentTime,U=p.currentTime;E&&U>0&&(U-=E.duration+E.delay),d.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((oe,ve)=>{const xe=p.collectedStyles.get(p.currentQuerySelector),Ke=xe.get(ve);let ut=!0;Ke&&(U!=O&&U>=Ke.startTime&&O<=Ke.endTime&&(p.errors.push(function Pr(I,d,p,E,O){return new j.vHH(3010,!1)}()),ut=!1),U=Ke.startTime),ut&&xe.set(ve,{startTime:U,endTime:O}),p.options&&function Pi(I,d,p){const E=d.params||{},O=Ui(I);O.length&&O.forEach(U=>{E.hasOwnProperty(U)||p.push(function Fn(I){return new j.vHH(3001,!1)}())})}(oe,p.options,p.errors)})})}visitKeyframes(d,p){const E={type:5,styles:[],options:null};if(!p.currentAnimateTimings)return p.errors.push(function Gn(){return new j.vHH(3011,!1)}()),E;let U=0;const ee=[];let oe=!1,ve=!1,xe=0;const Ke=d.steps.map(Tn=>{const Qn=this._makeStyleAst(Tn,p);let Wr=null!=Qn.offset?Qn.offset:function Bi(I){if("string"==typeof I)return null;let d=null;if(Array.isArray(I))I.forEach(p=>{if(p instanceof Map&&p.has("offset")){const E=p;d=parseFloat(E.get("offset")),E.delete("offset")}});else if(I instanceof Map&&I.has("offset")){const p=I;d=parseFloat(p.get("offset")),p.delete("offset")}return d}(Qn.styles),Ge=0;return null!=Wr&&(U++,Ge=Qn.offset=Wr),ve=ve||Ge<0||Ge>1,oe=oe||Ge<xe,xe=Ge,ee.push(Ge),Qn});ve&&p.errors.push(function Yr(){return new j.vHH(3012,!1)}()),oe&&p.errors.push(function ln(){return new j.vHH(3200,!1)}());const ut=d.steps.length;let Ft=0;U>0&&U<ut?p.errors.push(function en(){return new j.vHH(3202,!1)}()):0==U&&(Ft=1/(ut-1));const Nt=ut-1,Vt=p.currentTime,wt=p.currentAnimateTimings,Un=wt.duration;return Ke.forEach((Tn,Qn)=>{const Wr=Ft>0?Qn==Nt?1:Ft*Qn:ee[Qn],Ge=Wr*Un;p.currentTime=Vt+wt.delay+Ge,wt.duration=Ge,this._validateStyleAst(Tn,p),Tn.offset=Wr,E.styles.push(Tn)}),E}visitReference(d,p){return{type:8,animation:ci(this,jr(d.animation),p),options:ei(d.options)}}visitAnimateChild(d,p){return p.depCount++,{type:9,options:ei(d.options)}}visitAnimateRef(d,p){return{type:10,animation:this.visitReference(d.animation,p),options:ei(d.options)}}visitQuery(d,p){const E=p.currentQuerySelector,O=d.options||{};p.queryCount++,p.currentQuery=d;const[U,ee]=function ar(I){const d=!!I.split(/\s*,\s*/).find(p=>":self"==p);return d&&(I=I.replace(rs,"")),I=I.replace(/@\*/g,Dr).replace(/@\w+/g,p=>Dr+"-"+p.slice(1)).replace(/:animating/g,Cr),[I,d]}(d.selector);p.currentQuerySelector=E.length?E+" "+U:U,Y(p.collectedStyles,p.currentQuerySelector,new Map);const oe=ci(this,jr(d.animation),p);return p.currentQuery=null,p.currentQuerySelector=E,{type:11,selector:U,limit:O.limit||0,optional:!!O.optional,includeSelf:ee,animation:oe,originalSelector:d.selector,options:ei(d.options)}}visitStagger(d,p){p.currentQuery||p.errors.push(function Er(){return new j.vHH(3013,!1)}());const E="full"===d.timings?{duration:0,delay:0,easing:"full"}:ns(d.timings,p.errors,!0);return{type:12,animation:ci(this,jr(d.animation),p),timings:E,options:null}}}class mn{constructor(d){this.errors=d,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ei(I){return I?(I=On(I)).params&&(I.params=function zi(I){return I?On(I):null}(I.params)):I={},I}function Zs(I,d,p){return{duration:I,delay:d,easing:p}}function Js(I,d,p,E,O,U,ee=null,oe=!1){return{type:1,element:I,keyframes:d,preStyleProps:p,postStyleProps:E,duration:O,delay:U,totalTime:O+U,easing:ee,subTimeline:oe}}class Rn{constructor(){this._map=new Map}get(d){return this._map.get(d)||[]}append(d,p){let E=this._map.get(d);E||this._map.set(d,E=[]),E.push(...p)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const $n=new RegExp(":enter","g"),Hr=new RegExp(":leave","g");function mr(I,d,p,E,O,U=new Map,ee=new Map,oe,ve,xe=[]){return(new ys).buildKeyframes(I,d,p,E,O,U,ee,oe,ve,xe)}class ys{buildKeyframes(d,p,E,O,U,ee,oe,ve,xe,Ke=[]){xe=xe||new Rn;const ut=new Gr(d,p,xe,O,U,Ke,[]);ut.options=ve;const Ft=ve.delay?Ar(ve.delay):0;ut.currentTimeline.delayNextStep(Ft),ut.currentTimeline.setStyles([ee],null,ut.errors,ve),ci(this,E,ut);const Nt=ut.timelines.filter(Vt=>Vt.containsAnimation());if(Nt.length&&oe.size){let Vt;for(let wt=Nt.length-1;wt>=0;wt--){const Un=Nt[wt];if(Un.element===p){Vt=Un;break}}Vt&&!Vt.allowOnlyTimelineStyles()&&Vt.setStyles([oe],null,ut.errors,ve)}return Nt.length?Nt.map(Vt=>Vt.buildKeyframes()):[Js(p,[],[],[],0,Ft,"",!1)]}visitTrigger(d,p){}visitState(d,p){}visitTransition(d,p){}visitAnimateChild(d,p){const E=p.subInstructions.get(p.element);if(E){const O=p.createSubContext(d.options),U=p.currentTimeline.currentTime,ee=this._visitSubInstructions(E,O,O.options);U!=ee&&p.transformIntoNewTimeline(ee)}p.previousNode=d}visitAnimateRef(d,p){const E=p.createSubContext(d.options);E.transformIntoNewTimeline(),this._applyAnimationRefDelays([d.options,d.animation.options],p,E),this.visitReference(d.animation,E),p.transformIntoNewTimeline(E.currentTimeline.currentTime),p.previousNode=d}_applyAnimationRefDelays(d,p,E){for(const O of d){const U=O?.delay;if(U){const ee="number"==typeof U?U:Ar(Jr(U,O?.params??{},p.errors));E.delayNextStep(ee)}}}_visitSubInstructions(d,p,E){let U=p.currentTimeline.currentTime;const ee=null!=E.duration?Ar(E.duration):null,oe=null!=E.delay?Ar(E.delay):null;return 0!==ee&&d.forEach(ve=>{const xe=p.appendInstructionToTimeline(ve,ee,oe);U=Math.max(U,xe.duration+xe.delay)}),U}visitReference(d,p){p.updateOptions(d.options,!0),ci(this,d.animation,p),p.previousNode=d}visitSequence(d,p){const E=p.subContextCount;let O=p;const U=d.options;if(U&&(U.params||U.delay)&&(O=p.createSubContext(U),O.transformIntoNewTimeline(),null!=U.delay)){6==O.previousNode.type&&(O.currentTimeline.snapshotCurrentStyles(),O.previousNode=hr);const ee=Ar(U.delay);O.delayNextStep(ee)}d.steps.length&&(d.steps.forEach(ee=>ci(this,ee,O)),O.currentTimeline.applyStylesToKeyframe(),O.subContextCount>E&&O.transformIntoNewTimeline()),p.previousNode=d}visitGroup(d,p){const E=[];let O=p.currentTimeline.currentTime;const U=d.options&&d.options.delay?Ar(d.options.delay):0;d.steps.forEach(ee=>{const oe=p.createSubContext(d.options);U&&oe.delayNextStep(U),ci(this,ee,oe),O=Math.max(O,oe.currentTimeline.currentTime),E.push(oe.currentTimeline)}),E.forEach(ee=>p.currentTimeline.mergeTimelineCollectedStyles(ee)),p.transformIntoNewTimeline(O),p.previousNode=d}_visitTiming(d,p){if(d.dynamic){const E=d.strValue;return ns(p.params?Jr(E,p.params,p.errors):E,p.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,p){const E=p.currentAnimateTimings=this._visitTiming(d.timings,p),O=p.currentTimeline;E.delay&&(p.incrementTime(E.delay),O.snapshotCurrentStyles());const U=d.style;5==U.type?this.visitKeyframes(U,p):(p.incrementTime(E.duration),this.visitStyle(U,p),O.applyStylesToKeyframe()),p.currentAnimateTimings=null,p.previousNode=d}visitStyle(d,p){const E=p.currentTimeline,O=p.currentAnimateTimings;!O&&E.hasCurrentStyleProperties()&&E.forwardFrame();const U=O&&O.easing||d.easing;d.isEmptyStep?E.applyEmptyStep(U):E.setStyles(d.styles,U,p.errors,p.options),p.previousNode=d}visitKeyframes(d,p){const E=p.currentAnimateTimings,O=p.currentTimeline.duration,U=E.duration,oe=p.createSubContext().currentTimeline;oe.easing=E.easing,d.styles.forEach(ve=>{oe.forwardTime((ve.offset||0)*U),oe.setStyles(ve.styles,ve.easing,p.errors,p.options),oe.applyStylesToKeyframe()}),p.currentTimeline.mergeTimelineCollectedStyles(oe),p.transformIntoNewTimeline(O+U),p.previousNode=d}visitQuery(d,p){const E=p.currentTimeline.currentTime,O=d.options||{},U=O.delay?Ar(O.delay):0;U&&(6===p.previousNode.type||0==E&&p.currentTimeline.hasCurrentStyleProperties())&&(p.currentTimeline.snapshotCurrentStyles(),p.previousNode=hr);let ee=E;const oe=p.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!O.optional,p.errors);p.currentQueryTotal=oe.length;let ve=null;oe.forEach((xe,Ke)=>{p.currentQueryIndex=Ke;const ut=p.createSubContext(d.options,xe);U&&ut.delayNextStep(U),xe===p.element&&(ve=ut.currentTimeline),ci(this,d.animation,ut),ut.currentTimeline.applyStylesToKeyframe(),ee=Math.max(ee,ut.currentTimeline.currentTime)}),p.currentQueryIndex=0,p.currentQueryTotal=0,p.transformIntoNewTimeline(ee),ve&&(p.currentTimeline.mergeTimelineCollectedStyles(ve),p.currentTimeline.snapshotCurrentStyles()),p.previousNode=d}visitStagger(d,p){const E=p.parentContext,O=p.currentTimeline,U=d.timings,ee=Math.abs(U.duration),oe=ee*(p.currentQueryTotal-1);let ve=ee*p.currentQueryIndex;switch(U.duration<0?"reverse":U.easing){case"reverse":ve=oe-ve;break;case"full":ve=E.currentStaggerTime}const Ke=p.currentTimeline;ve&&Ke.delayNextStep(ve);const ut=Ke.currentTime;ci(this,d.animation,p),p.previousNode=d,E.currentStaggerTime=O.currentTime-ut+(O.startTime-E.currentTimeline.startTime)}}const hr={};class Gr{constructor(d,p,E,O,U,ee,oe,ve){this._driver=d,this.element=p,this.subInstructions=E,this._enterClassName=O,this._leaveClassName=U,this.errors=ee,this.timelines=oe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ve||new ji(this._driver,p,0),oe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,p){if(!d)return;const E=d;let O=this.options;null!=E.duration&&(O.duration=Ar(E.duration)),null!=E.delay&&(O.delay=Ar(E.delay));const U=E.params;if(U){let ee=O.params;ee||(ee=this.options.params={}),Object.keys(U).forEach(oe=>{(!p||!ee.hasOwnProperty(oe))&&(ee[oe]=Jr(U[oe],ee,this.errors))})}}_copyOptions(){const d={};if(this.options){const p=this.options.params;if(p){const E=d.params={};Object.keys(p).forEach(O=>{E[O]=p[O]})}}return d}createSubContext(d=null,p,E){const O=p||this.element,U=new Gr(this._driver,O,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(O,E||0));return U.previousNode=this.previousNode,U.currentAnimateTimings=this.currentAnimateTimings,U.options=this._copyOptions(),U.updateOptions(d),U.currentQueryIndex=this.currentQueryIndex,U.currentQueryTotal=this.currentQueryTotal,U.parentContext=this,this.subContextCount++,U}transformIntoNewTimeline(d){return this.previousNode=hr,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,p,E){const O={duration:p??d.duration,delay:this.currentTimeline.currentTime+(E??0)+d.delay,easing:""},U=new Jt(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,O,d.stretchStartingKeyframe);return this.timelines.push(U),O}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,p,E,O,U,ee){let oe=[];if(O&&oe.push(this.element),d.length>0){d=(d=d.replace($n,"."+this._enterClassName)).replace(Hr,"."+this._leaveClassName);let xe=this._driver.query(this.element,d,1!=E);0!==E&&(xe=E<0?xe.slice(xe.length+E,xe.length):xe.slice(0,E)),oe.push(...xe)}return!U&&0==oe.length&&ee.push(function dr(I){return new j.vHH(3014,!1)}()),oe}}class ji{constructor(d,p,E,O){this._driver=d,this.element=p,this.startTime=E,this._elementTimelineStylesLookup=O,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(p),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(p,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const p=1===this._keyframes.size&&this._pendingStyles.size;this.duration||p?(this.forwardTime(this.currentTime+d),p&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,p){return this.applyStylesToKeyframe(),new ji(this._driver,d,p||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,p){this._localTimelineStyles.set(d,p),this._globalTimelineStyles.set(d,p),this._styleSummary.set(d,{time:this.currentTime,value:p})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&this._previousKeyframe.set("easing",d);for(let[p,E]of this._globalTimelineStyles)this._backFill.set(p,E||de.l3),this._currentKeyframe.set(p,de.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,p,E,O){p&&this._previousKeyframe.set("easing",p);const U=O&&O.params||{},ee=function Eo(I,d){const p=new Map;let E;return I.forEach(O=>{if("*"===O){E=E||d.keys();for(let U of E)p.set(U,de.l3)}else Zr(O,p)}),p}(d,this._globalTimelineStyles);for(let[oe,ve]of ee){const xe=Jr(ve,U,E);this._pendingStyles.set(oe,xe),this._localTimelineStyles.has(oe)||this._backFill.set(oe,this._globalTimelineStyles.get(oe)??de.l3),this._updateStyle(oe,xe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((d,p)=>{this._currentKeyframe.set(p,d)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((d,p)=>{this._currentKeyframe.has(p)||this._currentKeyframe.set(p,d)}))}snapshotCurrentStyles(){for(let[d,p]of this._localTimelineStyles)this._pendingStyles.set(d,p),this._updateStyle(d,p)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let p in this._currentKeyframe)d.push(p);return d}mergeTimelineCollectedStyles(d){d._styleSummary.forEach((p,E)=>{const O=this._styleSummary.get(E);(!O||p.time>O.time)&&this._updateStyle(E,p.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,p=new Set,E=1===this._keyframes.size&&0===this.duration;let O=[];this._keyframes.forEach((oe,ve)=>{const xe=Zr(oe,new Map,this._backFill);xe.forEach((Ke,ut)=>{Ke===de.k1?d.add(ut):Ke===de.l3&&p.add(ut)}),E||xe.set("offset",ve/this.duration),O.push(xe)});const U=d.size?Xr(d.values()):[],ee=p.size?Xr(p.values()):[];if(E){const oe=O[0],ve=new Map(oe);oe.set("offset",0),ve.set("offset",1),O=[oe,ve]}return Js(this.element,O,U,ee,this.duration,this.startTime,this.easing,!1)}}class Jt extends ji{constructor(d,p,E,O,U,ee,oe=!1){super(d,p,ee.delay),this.keyframes=E,this.preStyleProps=O,this.postStyleProps=U,this._stretchStartingKeyframe=oe,this.timings={duration:ee.duration,delay:ee.delay,easing:ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:p,duration:E,easing:O}=this.timings;if(this._stretchStartingKeyframe&&p){const U=[],ee=E+p,oe=p/ee,ve=Zr(d[0]);ve.set("offset",0),U.push(ve);const xe=Zr(d[0]);xe.set("offset",Bs(oe)),U.push(xe);const Ke=d.length-1;for(let ut=1;ut<=Ke;ut++){let Ft=Zr(d[ut]);const Nt=Ft.get("offset");Ft.set("offset",Bs((p+Nt*E)/ee)),U.push(Ft)}E=ee,p=0,O="",d=U}return Js(this.element,d,this.preStyleProps,this.postStyleProps,E,p,O,!0)}}function Bs(I,d=3){const p=Math.pow(10,d-1);return Math.round(I*p)/p}class Vn{}const js=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Di extends Vn{normalizePropertyName(d,p){return ps(d)}normalizeStyleValue(d,p,E,O){let U="";const ee=E.toString().trim();if(js.has(p)&&0!==E&&"0"!==E)if("number"==typeof E)U="px";else{const oe=E.match(/^[+-]?[\d\.]+([a-z]*)$/);oe&&0==oe[1].length&&O.push(function gt(I,d){return new j.vHH(3005,!1)}())}return ee+U}}function lo(I,d,p,E,O,U,ee,oe,ve,xe,Ke,ut,Ft){return{type:0,element:I,triggerName:d,isRemovalTransition:O,fromState:p,fromStyles:U,toState:E,toStyles:ee,timelines:oe,queriedElements:ve,preStyleProps:xe,postStyleProps:Ke,totalTime:ut,errors:Ft}}const ks={};class ti{constructor(d,p,E){this._triggerName=d,this.ast=p,this._stateStyles=E}match(d,p,E,O){return function Fs(I,d,p,E,O){return I.some(U=>U(d,p,E,O))}(this.ast.matchers,d,p,E,O)}buildStyles(d,p,E){let O=this._stateStyles.get("*");return void 0!==d&&(O=this._stateStyles.get(d?.toString())||O),O?O.buildStyles(p,E):new Map}build(d,p,E,O,U,ee,oe,ve,xe,Ke){const ut=[],Ft=this.ast.options&&this.ast.options.params||ks,Vt=this.buildStyles(E,oe&&oe.params||ks,ut),wt=ve&&ve.params||ks,Un=this.buildStyles(O,wt,ut),Tn=new Set,Qn=new Map,Wr=new Map,Ge="void"===O,pr={params:is(wt,Ft),delay:this.ast.options?.delay},Vr=Ke?[]:mr(d,p,this.ast.animation,U,ee,Vt,Un,pr,xe,ut);let Ni=0;if(Vr.forEach(At=>{Ni=Math.max(At.duration+At.delay,Ni)}),ut.length)return lo(p,this._triggerName,E,O,Ge,Vt,Un,[],[],Qn,Wr,Ni,ut);Vr.forEach(At=>{const fi=At.element,ct=Y(Qn,fi,new Set);At.preStyleProps.forEach(Ze=>ct.add(Ze));const Ve=Y(Wr,fi,new Set);At.postStyleProps.forEach(Ze=>Ve.add(Ze)),fi!==p&&Tn.add(fi)});const Tt=Xr(Tn.values());return lo(p,this._triggerName,E,O,Ge,Vt,Un,Vr,Tt,Qn,Wr,Ni)}}function is(I,d){const p=On(d);for(const E in I)I.hasOwnProperty(E)&&null!=I[E]&&(p[E]=I[E]);return p}class Zt{constructor(d,p,E){this.styles=d,this.defaultParams=p,this.normalizer=E}buildStyles(d,p){const E=new Map,O=On(this.defaultParams);return Object.keys(d).forEach(U=>{const ee=d[U];null!==ee&&(O[U]=ee)}),this.styles.styles.forEach(U=>{"string"!=typeof U&&U.forEach((ee,oe)=>{ee&&(ee=Jr(ee,O,p));const ve=this.normalizer.normalizePropertyName(oe,p);ee=this.normalizer.normalizeStyleValue(oe,ve,ee,p),E.set(oe,ee)})}),E}}class Es{constructor(d,p,E){this.name=d,this.ast=p,this._normalizer=E,this.transitionFactories=[],this.states=new Map,p.states.forEach(O=>{this.states.set(O.name,new Zt(O.style,O.options&&O.options.params||{},E))}),vi(this.states,"true","1"),vi(this.states,"false","0"),p.transitions.forEach(O=>{this.transitionFactories.push(new ti(d,O,this.states))}),this.fallbackTransition=function $s(I,d,p){return new ti(I,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ee,oe)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,p,E,O){return this.transitionFactories.find(ee=>ee.match(d,p,E,O))||null}matchStyles(d,p,E){return this.fallbackTransition.buildStyles(d,p,E)}}function vi(I,d,p){I.has(d)?I.has(p)||I.set(p,I.get(d)):I.has(p)&&I.set(d,I.get(p))}const ss=new Rn;class Io{constructor(d,p,E){this.bodyNode=d,this._driver=p,this._normalizer=E,this._animations=new Map,this._playersById=new Map,this.players=[]}register(d,p){const E=[],U=Ri(this._driver,p,E,[]);if(E.length)throw function Pt(I){return new j.vHH(3503,!1)}();this._animations.set(d,U)}_buildPlayer(d,p,E){const O=d.element,U=ae(this._normalizer,d.keyframes,p,E);return this._driver.animate(O,U,d.duration,d.delay,d.easing,[],!0)}create(d,p,E={}){const O=[],U=this._animations.get(d);let ee;const oe=new Map;if(U?(ee=mr(this._driver,p,U,fn,nr,new Map,new Map,E,ss,O),ee.forEach(Ke=>{const ut=Y(oe,Ke.element,new Map);Ke.postStyleProps.forEach(Ft=>ut.set(Ft,null))})):(O.push(function fs(){return new j.vHH(3300,!1)}()),ee=[]),O.length)throw function Ti(I){return new j.vHH(3504,!1)}();oe.forEach((Ke,ut)=>{Ke.forEach((Ft,Nt)=>{Ke.set(Nt,this._driver.computeStyle(ut,Nt,de.l3))})});const xe=or(ee.map(Ke=>{const ut=oe.get(Ke.element);return this._buildPlayer(Ke,new Map,ut)}));return this._playersById.set(d,xe),xe.onDestroy(()=>this.destroy(d)),this.players.push(xe),xe}destroy(d){const p=this._getPlayer(d);p.destroy(),this._playersById.delete(d);const E=this.players.indexOf(p);E>=0&&this.players.splice(E,1)}_getPlayer(d){const p=this._playersById.get(d);if(!p)throw function gn(I){return new j.vHH(3301,!1)}();return p}listen(d,p,E,O){const U=W(p,"","","");return K(this._getPlayer(d),E,U,O),()=>{}}command(d,p,E,O){if("register"==E)return void this.register(d,O[0]);if("create"==E)return void this.create(d,p,O[0]||{});const U=this._getPlayer(d);switch(E){case"play":U.play();break;case"pause":U.pause();break;case"reset":U.reset();break;case"restart":U.restart();break;case"finish":U.finish();break;case"init":U.init();break;case"setPosition":U.setPosition(parseFloat(O[0]));break;case"destroy":this.destroy(d)}}}const Ln="ng-animate-queued",Mi="ng-animate-disabled",$i=[],qi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ni={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ki="__ng_removed";class Pn{get params(){return this.options.params}constructor(d,p=""){this.namespaceId=p;const E=d&&d.hasOwnProperty("value");if(this.value=function ue(I){return I??null}(E?d.value:d),E){const U=On(d);delete U.value,this.options=U}else this.options={};this.options.params||(this.options.params={})}absorbOptions(d){const p=d.params;if(p){const E=this.options.params;Object.keys(p).forEach(O=>{null==E[O]&&(E[O]=p[O])})}}}const Xs="void",xo=new Pn(Xs);class V{constructor(d,p,E){this.id=d,this.hostElement=p,this._engine=E,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+d,zr(p,this._hostClassName)}listen(d,p,E,O){if(!this._triggers.has(p))throw function Ir(I,d){return new j.vHH(3302,!1)}();if(null==E||0==E.length)throw function xr(I){return new j.vHH(3303,!1)}();if(!function Kt(I){return"start"==I||"done"==I}(E))throw function nn(I,d){return new j.vHH(3400,!1)}();const U=Y(this._elementListeners,d,[]),ee={name:p,phase:E,callback:O};U.push(ee);const oe=Y(this._engine.statesByElement,d,new Map);return oe.has(p)||(zr(d,Nn),zr(d,Nn+"-"+p),oe.set(p,xo)),()=>{this._engine.afterFlush(()=>{const ve=U.indexOf(ee);ve>=0&&U.splice(ve,1),this._triggers.has(p)||oe.delete(p)})}}register(d,p){return!this._triggers.has(d)&&(this._triggers.set(d,p),!0)}_getTrigger(d){const p=this._triggers.get(d);if(!p)throw function li(I){return new j.vHH(3401,!1)}();return p}trigger(d,p,E,O=!0){const U=this._getTrigger(p),ee=new N(this.id,p,d);let oe=this._engine.statesByElement.get(d);oe||(zr(d,Nn),zr(d,Nn+"-"+p),this._engine.statesByElement.set(d,oe=new Map));let ve=oe.get(p);const xe=new Pn(E,this.id);if(!(E&&E.hasOwnProperty("value"))&&ve&&xe.absorbOptions(ve.options),oe.set(p,xe),ve||(ve=xo),xe.value!==Xs&&ve.value===xe.value){if(!function ea(I,d){const p=Object.keys(I),E=Object.keys(d);if(p.length!=E.length)return!1;for(let O=0;O<p.length;O++){const U=p[O];if(!d.hasOwnProperty(U)||I[U]!==d[U])return!1}return!0}(ve.params,xe.params)){const wt=[],Un=U.matchStyles(ve.value,ve.params,wt),Tn=U.matchStyles(xe.value,xe.params,wt);wt.length?this._engine.reportError(wt):this._engine.afterFlush(()=>{_i(d,Un),Si(d,Tn)})}return}const Ft=Y(this._engine.playersByElement,d,[]);Ft.forEach(wt=>{wt.namespaceId==this.id&&wt.triggerName==p&&wt.queued&&wt.destroy()});let Nt=U.matchTransition(ve.value,xe.value,d,xe.params),Vt=!1;if(!Nt){if(!O)return;Nt=U.fallbackTransition,Vt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:p,transition:Nt,fromState:ve,toState:xe,player:ee,isFallbackTransition:Vt}),Vt||(zr(d,Ln),ee.onStart(()=>{as(d,Ln)})),ee.onDone(()=>{let wt=this.players.indexOf(ee);wt>=0&&this.players.splice(wt,1);const Un=this._engine.playersByElement.get(d);if(Un){let Tn=Un.indexOf(ee);Tn>=0&&Un.splice(Tn,1)}}),this.players.push(ee),Ft.push(ee),ee}deregister(d){this._triggers.delete(d),this._engine.statesByElement.forEach(p=>p.delete(d)),this._elementListeners.forEach((p,E)=>{this._elementListeners.set(E,p.filter(O=>O.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const p=this._engine.playersByElement.get(d);p&&(p.forEach(E=>E.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,p){const E=this._engine.driver.query(d,Dr,!0);E.forEach(O=>{if(O[Ki])return;const U=this._engine.fetchNamespacesByElement(O);U.size?U.forEach(ee=>ee.triggerLeaveAnimation(O,p,!1,!0)):this.clearElementCache(O)}),this._engine.afterFlushAnimationsDone(()=>E.forEach(O=>this.clearElementCache(O)))}triggerLeaveAnimation(d,p,E,O){const U=this._engine.statesByElement.get(d),ee=new Map;if(U){const oe=[];if(U.forEach((ve,xe)=>{if(ee.set(xe,ve.value),this._triggers.has(xe)){const Ke=this.trigger(d,xe,Xs,O);Ke&&oe.push(Ke)}}),oe.length)return this._engine.markElementAsRemoved(this.id,d,!0,p,ee),E&&or(oe).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const p=this._elementListeners.get(d),E=this._engine.statesByElement.get(d);if(p&&E){const O=new Set;p.forEach(U=>{const ee=U.name;if(O.has(ee))return;O.add(ee);const ve=this._triggers.get(ee).fallbackTransition,xe=E.get(ee)||xo,Ke=new Pn(Xs),ut=new N(this.id,ee,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:ee,transition:ve,fromState:xe,toState:Ke,player:ut,isFallbackTransition:!0})})}}removeNode(d,p){const E=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,p),this.triggerLeaveAnimation(d,p,!0))return;let O=!1;if(E.totalAnimations){const U=E.players.length?E.playersByQueriedElement.get(d):[];if(U&&U.length)O=!0;else{let ee=d;for(;ee=ee.parentNode;)if(E.statesByElement.get(ee)){O=!0;break}}}if(this.prepareLeaveAnimationListeners(d),O)E.markElementAsRemoved(this.id,d,!1,p);else{const U=d[Ki];(!U||U===qi)&&(E.afterFlush(()=>this.clearElementCache(d)),E.destroyInnerAnimations(d),E._onRemovalComplete(d,p))}}insertNode(d,p){zr(d,this._hostClassName)}drainQueuedTransitions(d){const p=[];return this._queue.forEach(E=>{const O=E.player;if(O.destroyed)return;const U=E.element,ee=this._elementListeners.get(U);ee&&ee.forEach(oe=>{if(oe.name==E.triggerName){const ve=W(U,E.triggerName,E.fromState.value,E.toState.value);ve._data=d,K(E.player,oe.phase,ve,oe.callback)}}),O.markedForDestroy?this._engine.afterFlush(()=>{O.destroy()}):p.push(E)}),this._queue=[],p.sort((E,O)=>{const U=E.transition.ast.depCount,ee=O.transition.ast.depCount;return 0==U||0==ee?U-ee:this._engine.driver.containsElement(E.element,O.element)?1:-1})}destroy(d){this.players.forEach(p=>p.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}}class L{_onRemovalComplete(d,p){this.onRemovalComplete(d,p)}constructor(d,p,E){this.bodyNode=d,this.driver=p,this._normalizer=E,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(O,U)=>{}}get queuedPlayers(){const d=[];return this._namespaceList.forEach(p=>{p.players.forEach(E=>{E.queued&&d.push(E)})}),d}createNamespace(d,p){const E=new V(d,p,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,p)?this._balanceNamespaceList(E,p):(this.newHostElements.set(p,E),this.collectEnterElement(p)),this._namespaceLookup[d]=E}_balanceNamespaceList(d,p){const E=this._namespaceList,O=this.namespacesByHostElement;if(E.length-1>=0){let ee=!1,oe=this.driver.getParentElement(p);for(;oe;){const ve=O.get(oe);if(ve){const xe=E.indexOf(ve);E.splice(xe+1,0,d),ee=!0;break}oe=this.driver.getParentElement(oe)}ee||E.unshift(d)}else E.push(d);return O.set(p,d),d}register(d,p){let E=this._namespaceLookup[d];return E||(E=this.createNamespace(d,p)),E}registerTrigger(d,p,E){let O=this._namespaceLookup[d];O&&O.register(p,E)&&this.totalAnimations++}destroy(d,p){d&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const E=this._fetchNamespace(d);this.namespacesByHostElement.delete(E.hostElement);const O=this._namespaceList.indexOf(E);O>=0&&this._namespaceList.splice(O,1),E.destroy(p),delete this._namespaceLookup[d]}))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const p=new Set,E=this.statesByElement.get(d);if(E)for(let O of E.values())if(O.namespaceId){const U=this._fetchNamespace(O.namespaceId);U&&p.add(U)}return p}trigger(d,p,E,O){if(pt(p)){const U=this._fetchNamespace(d);if(U)return U.trigger(p,E,O),!0}return!1}insertNode(d,p,E,O){if(!pt(p))return;const U=p[Ki];if(U&&U.setForRemoval){U.setForRemoval=!1,U.setForMove=!0;const ee=this.collectedLeaveElements.indexOf(p);ee>=0&&this.collectedLeaveElements.splice(ee,1)}if(d){const ee=this._fetchNamespace(d);ee&&ee.insertNode(p,E)}O&&this.collectEnterElement(p)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,p){p?this.disabledNodes.has(d)||(this.disabledNodes.add(d),zr(d,Mi)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),as(d,Mi))}removeNode(d,p,E){if(pt(p)){const O=d?this._fetchNamespace(d):null;O?O.removeNode(p,E):this.markElementAsRemoved(d,p,!1,E);const U=this.namespacesByHostElement.get(p);U&&U.id!==d&&U.removeNode(p,E)}else this._onRemovalComplete(p,E)}markElementAsRemoved(d,p,E,O,U){this.collectedLeaveElements.push(p),p[Ki]={namespaceId:d,setForRemoval:O,hasAnimation:E,removedBeforeQueried:!1,previousTriggersValues:U}}listen(d,p,E,O,U){return pt(p)?this._fetchNamespace(d).listen(p,E,O,U):()=>{}}_buildInstruction(d,p,E,O,U){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,E,O,d.fromState.options,d.toState.options,p,U)}destroyInnerAnimations(d){let p=this.driver.query(d,Dr,!0);p.forEach(E=>this.destroyActiveAnimationsForElement(E)),0!=this.playersByQueriedElement.size&&(p=this.driver.query(d,Cr,!0),p.forEach(E=>this.finishActiveQueriedAnimationOnElement(E)))}destroyActiveAnimationsForElement(d){const p=this.playersByElement.get(d);p&&p.forEach(E=>{E.queued?E.markedForDestroy=!0:E.destroy()})}finishActiveQueriedAnimationOnElement(d){const p=this.playersByQueriedElement.get(d);p&&p.forEach(E=>E.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return or(this.players).onDone(()=>d());d()})}processLeaveNode(d){const p=d[Ki];if(p&&p.setForRemoval){if(d[Ki]=qi,p.namespaceId){this.destroyInnerAnimations(d);const E=this._fetchNamespace(p.namespaceId);E&&E.clearElementCache(d)}this._onRemovalComplete(d,p.setForRemoval)}d.classList?.contains(Mi)&&this.markElementAsDisabled(d,!1),this.driver.query(d,".ng-animate-disabled",!0).forEach(E=>{this.markElementAsDisabled(E,!1)})}flush(d=-1){let p=[];if(this.newHostElements.size&&(this.newHostElements.forEach((E,O)=>this._balanceNamespaceList(E,O)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let E=0;E<this.collectedEnterElements.length;E++)zr(this.collectedEnterElements[E],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const E=[];try{p=this._flushAnimations(E,d)}finally{for(let O=0;O<E.length;O++)E[O]()}}else for(let E=0;E<this.collectedLeaveElements.length;E++)this.processLeaveNode(this.collectedLeaveElements[E]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(E=>E()),this._flushFns=[],this._whenQuietFns.length){const E=this._whenQuietFns;this._whenQuietFns=[],p.length?or(p).onDone(()=>{E.forEach(O=>O())}):E.forEach(O=>O())}}reportError(d){throw function Tr(I){return new j.vHH(3402,!1)}()}_flushAnimations(d,p){const E=new Rn,O=[],U=new Map,ee=[],oe=new Map,ve=new Map,xe=new Map,Ke=new Set;this.disabledNodes.forEach(xt=>{Ke.add(xt);const kt=this.driver.query(xt,".ng-animate-queued",!0);for(let cn=0;cn<kt.length;cn++)Ke.add(kt[cn])});const ut=this.bodyNode,Ft=Array.from(this.statesByElement.keys()),Nt=os(Ft,this.collectedEnterElements),Vt=new Map;let wt=0;Nt.forEach((xt,kt)=>{const cn=fn+wt++;Vt.set(kt,cn),xt.forEach(Hn=>zr(Hn,cn))});const Un=[],Tn=new Set,Qn=new Set;for(let xt=0;xt<this.collectedLeaveElements.length;xt++){const kt=this.collectedLeaveElements[xt],cn=kt[Ki];cn&&cn.setForRemoval&&(Un.push(kt),Tn.add(kt),cn.hasAnimation?this.driver.query(kt,".ng-star-inserted",!0).forEach(Hn=>Tn.add(Hn)):Qn.add(kt))}const Wr=new Map,Ge=os(Ft,Array.from(Tn));Ge.forEach((xt,kt)=>{const cn=nr+wt++;Wr.set(kt,cn),xt.forEach(Hn=>zr(Hn,cn))}),d.push(()=>{Nt.forEach((xt,kt)=>{const cn=Vt.get(kt);xt.forEach(Hn=>as(Hn,cn))}),Ge.forEach((xt,kt)=>{const cn=Wr.get(kt);xt.forEach(Hn=>as(Hn,cn))}),Un.forEach(xt=>{this.processLeaveNode(xt)})});const pr=[],Vr=[];for(let xt=this._namespaceList.length-1;xt>=0;xt--)this._namespaceList[xt].drainQueuedTransitions(p).forEach(cn=>{const Hn=cn.player,Sr=cn.element;if(pr.push(Hn),this.collectedEnterElements.length){const pi=Sr[Ki];if(pi&&pi.setForMove){if(pi.previousTriggersValues&&pi.previousTriggersValues.has(cn.triggerName)){const wo=pi.previousTriggersValues.get(cn.triggerName),Mn=this.statesByElement.get(cn.element);if(Mn&&Mn.has(cn.triggerName)){const Lt=Mn.get(cn.triggerName);Lt.value=wo,Mn.set(cn.triggerName,Lt)}}return void Hn.destroy()}}const Mr=!ut||!this.driver.containsElement(ut,Sr),ls=Wr.get(Sr),so=Vt.get(Sr),rr=this._buildInstruction(cn,E,so,ls,Mr);if(rr.errors&&rr.errors.length)return void Vr.push(rr);if(Mr)return Hn.onStart(()=>_i(Sr,rr.fromStyles)),Hn.onDestroy(()=>Si(Sr,rr.toStyles)),void O.push(Hn);if(cn.isFallbackTransition)return Hn.onStart(()=>_i(Sr,rr.fromStyles)),Hn.onDestroy(()=>Si(Sr,rr.toStyles)),void O.push(Hn);const Ts=[];rr.timelines.forEach(pi=>{pi.stretchStartingKeyframe=!0,this.disabledNodes.has(pi.element)||Ts.push(pi)}),rr.timelines=Ts,E.append(Sr,rr.timelines),ee.push({instruction:rr,player:Hn,element:Sr}),rr.queriedElements.forEach(pi=>Y(oe,pi,[]).push(Hn)),rr.preStyleProps.forEach((pi,wo)=>{if(pi.size){let Mn=ve.get(wo);Mn||ve.set(wo,Mn=new Set),pi.forEach((Lt,po)=>Mn.add(po))}}),rr.postStyleProps.forEach((pi,wo)=>{let Mn=xe.get(wo);Mn||xe.set(wo,Mn=new Set),pi.forEach((Lt,po)=>Mn.add(po))})});if(Vr.length){const xt=[];Vr.forEach(kt=>{xt.push(function Wn(I,d){return new j.vHH(3505,!1)}())}),pr.forEach(kt=>kt.destroy()),this.reportError(xt)}const Ni=new Map,Tt=new Map;ee.forEach(xt=>{const kt=xt.element;E.has(kt)&&(Tt.set(kt,kt),this._beforeAnimationBuild(xt.player.namespaceId,xt.instruction,Ni))}),O.forEach(xt=>{const kt=xt.element;this._getPreviousPlayers(kt,!1,xt.namespaceId,xt.triggerName,null).forEach(Hn=>{Y(Ni,kt,[]).push(Hn),Hn.destroy()})});const At=Un.filter(xt=>no(xt,ve,xe)),fi=new Map;eo(fi,this.driver,Qn,xe,de.l3).forEach(xt=>{no(xt,ve,xe)&&At.push(xt)});const Ve=new Map;Nt.forEach((xt,kt)=>{eo(Ve,this.driver,new Set(xt),ve,de.k1)}),At.forEach(xt=>{const kt=fi.get(xt),cn=Ve.get(xt);fi.set(xt,new Map([...kt?.entries()??[],...cn?.entries()??[]]))});const Ze=[],rn=[],jo={};ee.forEach(xt=>{const{element:kt,player:cn,instruction:Hn}=xt;if(E.has(kt)){if(Ke.has(kt))return cn.onDestroy(()=>Si(kt,Hn.toStyles)),cn.disabled=!0,cn.overrideTotalTime(Hn.totalTime),void O.push(cn);let Sr=jo;if(Tt.size>1){let ls=kt;const so=[];for(;ls=ls.parentNode;){const rr=Tt.get(ls);if(rr){Sr=rr;break}so.push(ls)}so.forEach(rr=>Tt.set(rr,Sr))}const Mr=this._buildAnimation(cn.namespaceId,Hn,Ni,U,Ve,fi);if(cn.setRealPlayer(Mr),Sr===jo)Ze.push(cn);else{const ls=this.playersByElement.get(Sr);ls&&ls.length&&(cn.parentPlayer=or(ls)),O.push(cn)}}else _i(kt,Hn.fromStyles),cn.onDestroy(()=>Si(kt,Hn.toStyles)),rn.push(cn),Ke.has(kt)&&O.push(cn)}),rn.forEach(xt=>{const kt=U.get(xt.element);if(kt&&kt.length){const cn=or(kt);xt.setRealPlayer(cn)}}),O.forEach(xt=>{xt.parentPlayer?xt.syncPlayerEvents(xt.parentPlayer):xt.destroy()});for(let xt=0;xt<Un.length;xt++){const kt=Un[xt],cn=kt[Ki];if(as(kt,nr),cn&&cn.hasAnimation)continue;let Hn=[];if(oe.size){let Mr=oe.get(kt);Mr&&Mr.length&&Hn.push(...Mr);let ls=this.driver.query(kt,Cr,!0);for(let so=0;so<ls.length;so++){let rr=oe.get(ls[so]);rr&&rr.length&&Hn.push(...rr)}}const Sr=Hn.filter(Mr=>!Mr.destroyed);Sr.length?ko(this,kt,Sr):this.processLeaveNode(kt)}return Un.length=0,Ze.forEach(xt=>{this.players.push(xt),xt.onDone(()=>{xt.destroy();const kt=this.players.indexOf(xt);this.players.splice(kt,1)}),xt.play()}),Ze}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,p,E,O,U){let ee=[];if(p){const oe=this.playersByQueriedElement.get(d);oe&&(ee=oe)}else{const oe=this.playersByElement.get(d);if(oe){const ve=!U||U==Xs;oe.forEach(xe=>{xe.queued||!ve&&xe.triggerName!=O||ee.push(xe)})}}return(E||O)&&(ee=ee.filter(oe=>!(E&&E!=oe.namespaceId||O&&O!=oe.triggerName))),ee}_beforeAnimationBuild(d,p,E){const U=p.element,ee=p.isRemovalTransition?void 0:d,oe=p.isRemovalTransition?void 0:p.triggerName;for(const ve of p.timelines){const xe=ve.element,Ke=xe!==U,ut=Y(E,xe,[]);this._getPreviousPlayers(xe,Ke,ee,oe,p.toState).forEach(Nt=>{const Vt=Nt.getRealPlayer();Vt.beforeDestroy&&Vt.beforeDestroy(),Nt.destroy(),ut.push(Nt)})}_i(U,p.fromStyles)}_buildAnimation(d,p,E,O,U,ee){const oe=p.triggerName,ve=p.element,xe=[],Ke=new Set,ut=new Set,Ft=p.timelines.map(Vt=>{const wt=Vt.element;Ke.add(wt);const Un=wt[Ki];if(Un&&Un.removedBeforeQueried)return new de.ZN(Vt.duration,Vt.delay);const Tn=wt!==ve,Qn=function to(I){const d=[];return va(I,d),d}((E.get(wt)||$i).map(Ni=>Ni.getRealPlayer())).filter(Ni=>!!Ni.element&&Ni.element===wt),Wr=U.get(wt),Ge=ee.get(wt),pr=ae(this._normalizer,Vt.keyframes,Wr,Ge),Vr=this._buildPlayer(Vt,pr,Qn);if(Vt.subTimeline&&O&&ut.add(wt),Tn){const Ni=new N(d,oe,wt);Ni.setRealPlayer(Vr),xe.push(Ni)}return Vr});xe.forEach(Vt=>{Y(this.playersByQueriedElement,Vt.element,[]).push(Vt),Vt.onDone(()=>function q(I,d,p){let E=I.get(d);if(E){if(E.length){const O=E.indexOf(p);E.splice(O,1)}0==E.length&&I.delete(d)}return E}(this.playersByQueriedElement,Vt.element,Vt))}),Ke.forEach(Vt=>zr(Vt,ts));const Nt=or(Ft);return Nt.onDestroy(()=>{Ke.forEach(Vt=>as(Vt,ts)),Si(ve,p.toStyles)}),ut.forEach(Vt=>{Y(O,Vt,[]).push(Nt)}),Nt}_buildPlayer(d,p,E){return p.length>0?this.driver.animate(d.element,p,d.duration,d.delay,d.easing,E):new de.ZN(d.duration,d.delay)}}class N{constructor(d,p,E){this.namespaceId=d,this.triggerName=p,this.element=E,this._player=new de.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(d){this._containsRealPlayer||(this._player=d,this._queuedCallbacks.forEach((p,E)=>{p.forEach(O=>K(d,E,void 0,O))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const p=this._player;p.triggerCallback&&d.onStart(()=>p.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,p){Y(this._queuedCallbacks,d,[]).push(p)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const p=this._player;p.triggerCallback&&p.triggerCallback(d)}}function pt(I){return I&&1===I.nodeType}function ri(I,d){const p=I.style.display;return I.style.display=d??"none",p}function eo(I,d,p,E,O){const U=[];p.forEach(ve=>U.push(ri(ve)));const ee=[];E.forEach((ve,xe)=>{const Ke=new Map;ve.forEach(ut=>{const Ft=d.computeStyle(xe,ut,O);Ke.set(ut,Ft),(!Ft||0==Ft.length)&&(xe[Ki]=ni,ee.push(xe))}),I.set(xe,Ke)});let oe=0;return p.forEach(ve=>ri(ve,U[oe++])),ee}function os(I,d){const p=new Map;if(I.forEach(oe=>p.set(oe,[])),0==d.length)return p;const O=new Set(d),U=new Map;function ee(oe){if(!oe)return 1;let ve=U.get(oe);if(ve)return ve;const xe=oe.parentNode;return ve=p.has(xe)?xe:O.has(xe)?1:ee(xe),U.set(oe,ve),ve}return d.forEach(oe=>{const ve=ee(oe);1!==ve&&p.get(ve).push(oe)}),p}function zr(I,d){I.classList?.add(d)}function as(I,d){I.classList?.remove(d)}function ko(I,d,p){or(p).onDone(()=>I.processLeaveNode(d))}function va(I,d){for(let p=0;p<I.length;p++){const E=I[p];E instanceof de.ZE?va(E.players,d):d.push(E)}}function no(I,d,p){const E=p.get(I);if(!E)return!1;let O=d.get(I);return O?E.forEach(U=>O.add(U)):d.set(I,E),p.delete(I),!0}class ho{constructor(d,p,E){this.bodyNode=d,this._driver=p,this._normalizer=E,this._triggerCache={},this.onRemovalComplete=(O,U)=>{},this._transitionEngine=new L(d,p,E),this._timelineEngine=new Io(d,p,E),this._transitionEngine.onRemovalComplete=(O,U)=>this.onRemovalComplete(O,U)}registerTrigger(d,p,E,O,U){const ee=d+"-"+O;let oe=this._triggerCache[ee];if(!oe){const ve=[],Ke=Ri(this._driver,U,ve,[]);if(ve.length)throw function In(I,d){return new j.vHH(3404,!1)}();oe=function Xo(I,d,p){return new Es(I,d,p)}(O,Ke,this._normalizer),this._triggerCache[ee]=oe}this._transitionEngine.registerTrigger(p,O,oe)}register(d,p){this._transitionEngine.register(d,p)}destroy(d,p){this._transitionEngine.destroy(d,p)}onInsert(d,p,E,O){this._transitionEngine.insertNode(d,p,E,O)}onRemove(d,p,E){this._transitionEngine.removeNode(d,p,E)}disableAnimations(d,p){this._transitionEngine.markElementAsDisabled(d,p)}process(d,p,E,O){if("@"==E.charAt(0)){const[U,ee]=Ee(E);this._timelineEngine.command(U,p,ee,O)}else this._transitionEngine.trigger(d,p,E,O)}listen(d,p,E,O,U){if("@"==E.charAt(0)){const[ee,oe]=Ee(E);return this._timelineEngine.listen(ee,p,oe,U)}return this._transitionEngine.listen(d,p,E,O,U)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(d){this._transitionEngine.afterFlushAnimationsDone(d)}}let Ci=(()=>{class I{static#e=this.initialStylesByElement=new WeakMap;constructor(p,E,O){this._element=p,this._startStyles=E,this._endStyles=O,this._state=0;let U=I.initialStylesByElement.get(p);U||I.initialStylesByElement.set(p,U=new Map),this._initialStyles=U}start(){this._state<1&&(this._startStyles&&Si(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Si(this._element,this._initialStyles),this._endStyles&&(Si(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(I.initialStylesByElement.delete(this._element),this._startStyles&&(_i(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_i(this._element,this._endStyles),this._endStyles=null),Si(this._element,this._initialStyles),this._state=3)}}return I})();function hi(I){let d=null;return I.forEach((p,E)=>{(function Vo(I){return"display"===I||"position"===I})(E)&&(d=d||new Map,d.set(E,p))}),d}class Pu{constructor(d,p,E,O){this.element=d,this.keyframes=p,this.options=E,this._specialStyles=O,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=E.duration,this._delay=E.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:new Map;const p=()=>this._onFinish();this.domPlayer.addEventListener("finish",p),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",p)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(d){const p=[];return d.forEach(E=>{p.push(Object.fromEntries(E))}),p}_triggerWebAnimation(d,p,E){return d.animate(this._convertKeyframesToObject(p),E)}onStart(d){this._originalOnStartFns.push(d),this._onStartFns.push(d)}onDone(d){this._originalOnDoneFns.push(d),this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d=new Map;this.hasStarted()&&this._finalKeyframe.forEach((E,O)=>{"offset"!==O&&d.set(O,this._finished?E:Mo(this.element,O))}),this.currentSnapshot=d}triggerCallback(d){const p="start"===d?this._onStartFns:this._onDoneFns;p.forEach(E=>E()),p.length=0}}class ii{validateStyleProperty(d){return!0}validateAnimatableStyleProperty(d){return!0}matchesElement(d,p){return!1}containsElement(d,p){return wr(d,p)}getParentElement(d){return lt(d)}query(d,p,E){return es(d,p,E)}computeStyle(d,p,E){return window.getComputedStyle(d)[p]}animate(d,p,E,O,U,ee=[]){const ve={duration:E,delay:O,fill:0==O?"both":"forwards"};U&&(ve.easing=U);const xe=new Map,Ke=ee.filter(Nt=>Nt instanceof Pu);(function gs(I,d){return 0===I||0===d})(E,O)&&Ke.forEach(Nt=>{Nt.currentSnapshot.forEach((Vt,wt)=>xe.set(wt,Vt))});let ut=function bi(I){return I.length?I[0]instanceof Map?I:I.map(d=>br(d)):[]}(p).map(Nt=>Zr(Nt));ut=function Hi(I,d,p){if(p.size&&d.length){let E=d[0],O=[];if(p.forEach((U,ee)=>{E.has(ee)||O.push(ee),E.set(ee,U)}),O.length)for(let U=1;U<d.length;U++){let ee=d[U];O.forEach(oe=>ee.set(oe,Mo(I,oe)))}}return d}(d,ut,xe);const Ft=function Fo(I,d){let p=null,E=null;return Array.isArray(d)&&d.length?(p=hi(d[0]),d.length>1&&(E=hi(d[d.length-1]))):d instanceof Map&&(p=hi(d)),p||E?new Ci(I,p,E):null}(d,ut);return new Pu(d,ut,ve,Ft)}}let Lo=(()=>{class I extends de._j{constructor(p,E){super(),this._nextAnimationId=0,this._renderer=p.createRenderer(E.body,{id:"0",encapsulation:j.ifc.None,styles:[],data:{animation:[]}})}build(p){const E=this._nextAnimationId.toString();this._nextAnimationId++;const O=Array.isArray(p)?(0,de.vP)(p):p;return fo(this._renderer,null,E,"register",[O]),new ur(E,this._renderer)}static#e=this.\u0275fac=function(E){return new(E||I)(j.LFG(j.FYo),j.LFG(ge.K0))};static#t=this.\u0275prov=j.Yz7({token:I,factory:I.\u0275fac})}return I})();class ur extends de.LC{constructor(d,p){super(),this._id=d,this._renderer=p}create(d,p){return new iu(this._id,d,p||{},this._renderer)}}class iu{constructor(d,p,E,O){this.id=d,this.element=p,this._renderer=O,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",E)}_listen(d,p){return this._renderer.listen(this.element,`@@${this.id}:${d}`,p)}_command(d,...p){return fo(this._renderer,this.element,this.id,d,p)}onDone(d){this._listen("done",d)}onStart(d){this._listen("start",d)}onDestroy(d){this._listen("destroy",d)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(d){this._command("setPosition",d)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function fo(I,d,p,E,O){return I.setProperty(d,`@@${p}:${E}`,O)}const ta="@.disabled";let us=(()=>{class I{constructor(p,E,O){this.delegate=p,this.engine=E,this._zone=O,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,E.onRemovalComplete=(U,ee)=>{const oe=ee?.parentNode(U);oe&&ee.removeChild(oe,U)}}createRenderer(p,E){const U=this.delegate.createRenderer(p,E);if(!(p&&E&&E.data&&E.data.animation)){let Ke=this._rendererCache.get(U);return Ke||(Ke=new To("",U,this.engine,()=>this._rendererCache.delete(U)),this._rendererCache.set(U,Ke)),Ke}const ee=E.id,oe=E.id+"-"+this._currentId;this._currentId++,this.engine.register(oe,p);const ve=Ke=>{Array.isArray(Ke)?Ke.forEach(ve):this.engine.registerTrigger(ee,oe,p,Ke.name,Ke)};return E.data.animation.forEach(ve),new Kn(this,oe,U,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(p,E,O){p>=0&&p<this._microtaskId?this._zone.run(()=>E(O)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(U=>{const[ee,oe]=U;ee(oe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([E,O]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(E){return new(E||I)(j.LFG(j.FYo),j.LFG(ho),j.LFG(j.R0b))};static#t=this.\u0275prov=j.Yz7({token:I,factory:I.\u0275fac})}return I})();class To{constructor(d,p,E,O){this.namespaceId=d,this.delegate=p,this.engine=E,this._onDestroy=O}get data(){return this.delegate.data}destroyNode(d){this.delegate.destroyNode?.(d)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(d,p){return this.delegate.createElement(d,p)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,p){this.delegate.appendChild(d,p),this.engine.onInsert(this.namespaceId,p,d,!1)}insertBefore(d,p,E,O=!0){this.delegate.insertBefore(d,p,E),this.engine.onInsert(this.namespaceId,p,d,O)}removeChild(d,p,E){this.engine.onRemove(this.namespaceId,p,this.delegate)}selectRootElement(d,p){return this.delegate.selectRootElement(d,p)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,p,E,O){this.delegate.setAttribute(d,p,E,O)}removeAttribute(d,p,E){this.delegate.removeAttribute(d,p,E)}addClass(d,p){this.delegate.addClass(d,p)}removeClass(d,p){this.delegate.removeClass(d,p)}setStyle(d,p,E,O){this.delegate.setStyle(d,p,E,O)}removeStyle(d,p,E){this.delegate.removeStyle(d,p,E)}setProperty(d,p,E){"@"==p.charAt(0)&&p==ta?this.disableAnimations(d,!!E):this.delegate.setProperty(d,p,E)}setValue(d,p){this.delegate.setValue(d,p)}listen(d,p,E){return this.delegate.listen(d,p,E)}disableAnimations(d,p){this.engine.disableAnimations(d,p)}}class Kn extends To{constructor(d,p,E,O,U){super(p,E,O,U),this.factory=d,this.namespaceId=p}setProperty(d,p,E){"@"==p.charAt(0)?"."==p.charAt(1)&&p==ta?this.disableAnimations(d,E=void 0===E||!!E):this.engine.process(this.namespaceId,d,p.slice(1),E):this.delegate.setProperty(d,p,E)}listen(d,p,E){if("@"==p.charAt(0)){const O=function ro(I){switch(I){case"body":return document.body;case"document":return document;case"window":return window;default:return I}}(d);let U=p.slice(1),ee="";return"@"!=U.charAt(0)&&([U,ee]=function ka(I){const d=I.indexOf(".");return[I.substring(0,d),I.slice(d+1)]}(U)),this.engine.listen(this.namespaceId,O,U,ee,oe=>{this.factory.scheduleListenerCallback(oe._data||-1,E,oe)})}return this.delegate.listen(d,p,E)}}const Gs=[{provide:de._j,useClass:Lo},{provide:Vn,useFactory:function na(){return new Di}},{provide:ho,useClass:(()=>{class I extends ho{constructor(p,E,O,U){super(p.body,E,O)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(E){return new(E||I)(j.LFG(ge.K0),j.LFG($e),j.LFG(Vn),j.LFG(j.z2F))};static#t=this.\u0275prov=j.Yz7({token:I,factory:I.\u0275fac})}return I})()},{provide:j.FYo,useFactory:function ra(I,d,p){return new us(I,d,p)},deps:[_.se,ho,j.R0b]}],Is=[{provide:$e,useFactory:()=>new ii},{provide:j.QbO,useValue:"BrowserAnimations"},...Gs],ia=[{provide:$e,useClass:De},{provide:j.QbO,useValue:"NoopAnimations"},...Gs];let io=(()=>{class I{static withConfig(p){return{ngModule:I,providers:p.disableAnimations?ia:Is}}static#e=this.\u0275fac=function(E){return new(E||I)};static#t=this.\u0275mod=j.oAB({type:I});static#n=this.\u0275inj=j.cJS({providers:Is,imports:[_.b2]})}return I})();var Bo=$(95);let A=(()=>{class I{static#e=this.\u0275fac=function(E){return new(E||I)};static#t=this.\u0275mod=j.oAB({type:I,bootstrap:[Ce]});static#n=this.\u0275inj=j.cJS({imports:[_.b2,le,(0,ze.hX)(()=>(0,ze.ZF)({projectId:"twinklecards-3108d",appId:"1:502197504510:web:ed0ff7729cf8a07fe458af",storageBucket:"twinklecards-3108d.appspot.com",apiKey:"AIzaSyBzEET_BxWwGhzrnZR5xAMin2D7LRlYEg8",authDomain:"twinklecards-3108d.firebaseapp.com",messagingSenderId:"502197504510"})),(0,Je.AR)(()=>(0,Je.v0)()),(0,Bt.Cm)(()=>(0,Bt.ad)()),vn.m,io,Bo.UX]})}return I})();_.q6().bootstrapModule(A).catch(I=>console.error(I))},5619:(bt,je,$)=>{$.d(je,{X:()=>J});var _=$(8645);class J extends _.x{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const ge=super._subscribe(Te);return!ge.closed&&Te.next(this._value),ge}getValue(){const{hasError:Te,thrownError:ge,_value:ie}=this;if(Te)throw ge;return this._throwIfClosed(),ie}next(Te){super.next(this._value=Te)}}},5592:(bt,je,$)=>{$.d(je,{y:()=>Oe});var _=$(305),J=$(7394),j=$(4850),Te=$(8407),ge=$(2653),ie=$(4674),Pe=$(1441);let Oe=(()=>{class he{constructor(de){de&&(this._subscribe=de)}lift(de){const Re=new he;return Re.source=this,Re.operator=de,Re}subscribe(de,Re,st){const it=function se(he){return he&&he instanceof _.Lv||function ne(he){return he&&(0,ie.m)(he.next)&&(0,ie.m)(he.error)&&(0,ie.m)(he.complete)}(he)&&(0,J.Nn)(he)}(de)?de:new _.Hp(de,Re,st);return(0,Pe.x)(()=>{const{operator:We,source:St}=this;it.add(We?We.call(it,St):St?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(de){try{return this._subscribe(de)}catch(Re){de.error(Re)}}forEach(de,Re){return new(Re=Ie(Re))((st,it)=>{const We=new _.Hp({next:St=>{try{de(St)}catch(et){it(et),We.unsubscribe()}},error:it,complete:st});this.subscribe(We)})}_subscribe(de){var Re;return null===(Re=this.source)||void 0===Re?void 0:Re.subscribe(de)}[j.L](){return this}pipe(...de){return(0,Te.U)(de)(this)}toPromise(de){return new(de=Ie(de))((Re,st)=>{let it;this.subscribe(We=>it=We,We=>st(We),()=>Re(it))})}}return he.create=le=>new he(le),he})();function Ie(he){var le;return null!==(le=he??ge.config.Promise)&&void 0!==le?le:Promise}},8645:(bt,je,$)=>{$.d(je,{x:()=>Pe});var _=$(5592),J=$(7394);const Te=(0,$(2306).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=$(9039),ie=$(1441);let Pe=(()=>{class Ie extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const he=new Oe(this,this);return he.operator=se,he}_throwIfClosed(){if(this.closed)throw new Te}next(se){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const he of this.currentObservers)he.next(se)}})}error(se){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:he}=this;for(;he.length;)he.shift().error(se)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:he,isStopped:le,observers:de}=this;return he||le?J.Lc:(this.currentObservers=null,de.push(se),new J.w0(()=>{this.currentObservers=null,(0,ge.P)(de,se)}))}_checkFinalizedStatuses(se){const{hasError:he,thrownError:le,isStopped:de}=this;he?se.error(le):de&&se.complete()}asObservable(){const se=new _.y;return se.source=this,se}}return Ie.create=(ne,se)=>new Oe(ne,se),Ie})();class Oe extends Pe{constructor(ne,se){super(),this.destination=ne,this.source=se}next(ne){var se,he;null===(he=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===he||he.call(se,ne)}error(ne){var se,he;null===(he=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===he||he.call(se,ne)}complete(){var ne,se;null===(se=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===se||se.call(ne)}_subscribe(ne){var se,he;return null!==(he=null===(se=this.source)||void 0===se?void 0:se.subscribe(ne))&&void 0!==he?he:J.Lc}}},305:(bt,je,$)=>{$.d(je,{Hp:()=>st,Lv:()=>he});var _=$(4674),J=$(7394),j=$(2653),Te=$(3894),ge=$(2420);const ie=Ie("C",void 0,void 0);function Ie(ce,Ue,He){return{kind:ce,value:Ue,error:He}}var ne=$(7599),se=$(1441);class he extends J.w0{constructor(Ue){super(),this.isStopped=!1,Ue?(this.destination=Ue,(0,J.Nn)(Ue)&&Ue.add(this)):this.destination=et}static create(Ue,He,Me){return new st(Ue,He,Me)}next(Ue){this.isStopped?St(function Oe(ce){return Ie("N",ce,void 0)}(Ue),this):this._next(Ue)}error(Ue){this.isStopped?St(function Pe(ce){return Ie("E",void 0,ce)}(Ue),this):(this.isStopped=!0,this._error(Ue))}complete(){this.isStopped?St(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ue){this.destination.next(Ue)}_error(Ue){try{this.destination.error(Ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const le=Function.prototype.bind;function de(ce,Ue){return le.call(ce,Ue)}class Re{constructor(Ue){this.partialObserver=Ue}next(Ue){const{partialObserver:He}=this;if(He.next)try{He.next(Ue)}catch(Me){it(Me)}}error(Ue){const{partialObserver:He}=this;if(He.error)try{He.error(Ue)}catch(Me){it(Me)}else it(Ue)}complete(){const{partialObserver:Ue}=this;if(Ue.complete)try{Ue.complete()}catch(He){it(He)}}}class st extends he{constructor(Ue,He,Me){let nt;if(super(),(0,_.m)(Ue)||!Ue)nt={next:Ue??void 0,error:He??void 0,complete:Me??void 0};else{let me;this&&j.config.useDeprecatedNextContext?(me=Object.create(Ue),me.unsubscribe=()=>this.unsubscribe(),nt={next:Ue.next&&de(Ue.next,me),error:Ue.error&&de(Ue.error,me),complete:Ue.complete&&de(Ue.complete,me)}):nt=Ue}this.destination=new Re(nt)}}function it(ce){j.config.useDeprecatedSynchronousErrorHandling?(0,se.O)(ce):(0,Te.h)(ce)}function St(ce,Ue){const{onStoppedNotification:He}=j.config;He&&ne.z.setTimeout(()=>He(ce,Ue))}const et={closed:!0,next:ge.Z,error:function We(ce){throw ce},complete:ge.Z}},7394:(bt,je,$)=>{$.d(je,{Lc:()=>ie,w0:()=>ge,Nn:()=>Pe});var _=$(4674);const j=(0,$(2306).d)(Ie=>function(se){Ie(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((he,le)=>`${le+1}) ${he.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var Te=$(9039);class ge{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const de of se)de.remove(this);else se.remove(this);const{initialTeardown:he}=this;if((0,_.m)(he))try{he()}catch(de){ne=de instanceof j?de.errors:[de]}const{_finalizers:le}=this;if(le){this._finalizers=null;for(const de of le)try{Oe(de)}catch(Re){ne=ne??[],Re instanceof j?ne=[...ne,...Re.errors]:ne.push(Re)}}if(ne)throw new j(ne)}}add(ne){var se;if(ne&&ne!==this)if(this.closed)Oe(ne);else{if(ne instanceof ge){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(ne)}}_hasParent(ne){const{_parentage:se}=this;return se===ne||Array.isArray(se)&&se.includes(ne)}_addParent(ne){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(ne),se):se?[se,ne]:ne}_removeParent(ne){const{_parentage:se}=this;se===ne?this._parentage=null:Array.isArray(se)&&(0,Te.P)(se,ne)}remove(ne){const{_finalizers:se}=this;se&&(0,Te.P)(se,ne),ne instanceof ge&&ne._removeParent(this)}}ge.EMPTY=(()=>{const Ie=new ge;return Ie.closed=!0,Ie})();const ie=ge.EMPTY;function Pe(Ie){return Ie instanceof ge||Ie&&"closed"in Ie&&(0,_.m)(Ie.remove)&&(0,_.m)(Ie.add)&&(0,_.m)(Ie.unsubscribe)}function Oe(Ie){(0,_.m)(Ie)?Ie():Ie.unsubscribe()}},2653:(bt,je,$)=>{$.d(je,{config:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(bt,je,$)=>{$.d(je,{a:()=>ne});var _=$(5592),J=$(7453),j=$(2459),Te=$(2737),ge=$(7400),ie=$(4564),Pe=$(2714),Oe=$(8251),Ie=$(7103);function ne(...le){const de=(0,ie.yG)(le),Re=(0,ie.jO)(le),{args:st,keys:it}=(0,J.D)(le);if(0===st.length)return(0,j.D)([],de);const We=new _.y(function se(le,de,Re=Te.y){return st=>{he(de,()=>{const{length:it}=le,We=new Array(it);let St=it,et=it;for(let ce=0;ce<it;ce++)he(de,()=>{const Ue=(0,j.D)(le[ce],de);let He=!1;Ue.subscribe((0,Oe.x)(st,Me=>{We[ce]=Me,He||(He=!0,et--),et||st.next(Re(We.slice()))},()=>{--St||st.complete()}))},st)},st)}}(st,de,it?St=>(0,Pe.n)(it,St):Te.y));return Re?We.pipe((0,ge.Z)(Re)):We}function he(le,de,Re){le?(0,Ie.f)(Re,le,de):de()}},6232:(bt,je,$)=>{$.d(je,{E:()=>J});const J=new($(5592).y)(ge=>ge.complete())},2459:(bt,je,$)=>{$.d(je,{D:()=>Ue});var _=$(4829),J=$(3093),j=$(5137),ie=$(5592),Oe=$(4971),Ie=$(4674),ne=$(7103);function he(He,Me){if(!He)throw new Error("Iterable cannot be null");return new ie.y(nt=>{(0,ne.f)(nt,Me,()=>{const me=He[Symbol.asyncIterator]();(0,ne.f)(nt,Me,()=>{me.next().then(jt=>{jt.done?nt.complete():nt.next(jt.value)})},0,!0)})})}var le=$(8382),de=$(4026),Re=$(4266),st=$(3664),it=$(5726),We=$(9853),St=$(541);function Ue(He,Me){return Me?function ce(He,Me){if(null!=He){if((0,le.c)(He))return function Te(He,Me){return(0,_.Xf)(He).pipe((0,j.R)(Me),(0,J.Q)(Me))}(He,Me);if((0,Re.z)(He))return function Pe(He,Me){return new ie.y(nt=>{let me=0;return Me.schedule(function(){me===He.length?nt.complete():(nt.next(He[me++]),nt.closed||this.schedule())})})}(He,Me);if((0,de.t)(He))return function ge(He,Me){return(0,_.Xf)(He).pipe((0,j.R)(Me),(0,J.Q)(Me))}(He,Me);if((0,it.D)(He))return he(He,Me);if((0,st.T)(He))return function se(He,Me){return new ie.y(nt=>{let me;return(0,ne.f)(nt,Me,()=>{me=He[Oe.h](),(0,ne.f)(nt,Me,()=>{let jt,Qt;try{({value:jt,done:Qt}=me.next())}catch(ht){return void nt.error(ht)}Qt?nt.complete():nt.next(jt)},0,!0)}),()=>(0,Ie.m)(me?.return)&&me.return()})}(He,Me);if((0,St.L)(He))return function et(He,Me){return he((0,St.Q)(He),Me)}(He,Me)}throw(0,We.z)(He)}(He,Me):(0,_.Xf)(He)}},4829:(bt,je,$)=>{$.d(je,{Xf:()=>le});var _=$(7582),J=$(4266),j=$(4026),Te=$(5592),ge=$(8382),ie=$(5726),Pe=$(9853),Oe=$(3664),Ie=$(541),ne=$(4674),se=$(3894),he=$(4850);function le(ce){if(ce instanceof Te.y)return ce;if(null!=ce){if((0,ge.c)(ce))return function de(ce){return new Te.y(Ue=>{const He=ce[he.L]();if((0,ne.m)(He.subscribe))return He.subscribe(Ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ce);if((0,J.z)(ce))return function Re(ce){return new Te.y(Ue=>{for(let He=0;He<ce.length&&!Ue.closed;He++)Ue.next(ce[He]);Ue.complete()})}(ce);if((0,j.t)(ce))return function st(ce){return new Te.y(Ue=>{ce.then(He=>{Ue.closed||(Ue.next(He),Ue.complete())},He=>Ue.error(He)).then(null,se.h)})}(ce);if((0,ie.D)(ce))return We(ce);if((0,Oe.T)(ce))return function it(ce){return new Te.y(Ue=>{for(const He of ce)if(Ue.next(He),Ue.closed)return;Ue.complete()})}(ce);if((0,Ie.L)(ce))return function St(ce){return We((0,Ie.Q)(ce))}(ce)}throw(0,Pe.z)(ce)}function We(ce){return new Te.y(Ue=>{(function et(ce,Ue){var He,Me,nt,me;return(0,_.mG)(this,void 0,void 0,function*(){try{for(He=(0,_.KL)(ce);!(Me=yield He.next()).done;)if(Ue.next(Me.value),Ue.closed)return}catch(jt){nt={error:jt}}finally{try{Me&&!Me.done&&(me=He.return)&&(yield me.call(He))}finally{if(nt)throw nt.error}}Ue.complete()})})(ce,Ue).catch(He=>Ue.error(He))})}},2096:(bt,je,$)=>{$.d(je,{of:()=>j});var _=$(4564),J=$(2459);function j(...Te){const ge=(0,_.yG)(Te);return(0,J.D)(Te,ge)}},8251:(bt,je,$)=>{$.d(je,{x:()=>J});var _=$(305);function J(Te,ge,ie,Pe,Oe){return new j(Te,ge,ie,Pe,Oe)}class j extends _.Lv{constructor(ge,ie,Pe,Oe,Ie,ne){super(ge),this.onFinalize=Ie,this.shouldUnsubscribe=ne,this._next=ie?function(se){try{ie(se)}catch(he){ge.error(he)}}:super._next,this._error=Oe?function(se){try{Oe(se)}catch(he){ge.error(he)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(se){ge.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},3997:(bt,je,$)=>{$.d(je,{x:()=>Te});var _=$(2737),J=$(9360),j=$(8251);function Te(ie,Pe=_.y){return ie=ie??ge,(0,J.e)((Oe,Ie)=>{let ne,se=!0;Oe.subscribe((0,j.x)(Ie,he=>{const le=Pe(he);(se||!ie(ne,le))&&(se=!1,ne=le,Ie.next(he))}))})}function ge(ie,Pe){return ie===Pe}},2181:(bt,je,$)=>{$.d(je,{h:()=>j});var _=$(9360),J=$(8251);function j(Te,ge){return(0,_.e)((ie,Pe)=>{let Oe=0;ie.subscribe((0,J.x)(Pe,Ie=>Te.call(ge,Ie,Oe++)&&Pe.next(Ie)))})}},7398:(bt,je,$)=>{$.d(je,{U:()=>j});var _=$(9360),J=$(8251);function j(Te,ge){return(0,_.e)((ie,Pe)=>{let Oe=0;ie.subscribe((0,J.x)(Pe,Ie=>{Pe.next(Te.call(ge,Ie,Oe++))}))})}},7537:(bt,je,$)=>{$.d(je,{J:()=>j});var _=$(1631),J=$(2737);function j(Te=1/0){return(0,_.z)(J.y,Te)}},1631:(bt,je,$)=>{$.d(je,{z:()=>Oe});var _=$(7398),J=$(4829),j=$(9360),Te=$(7103),ge=$(8251),Pe=$(4674);function Oe(Ie,ne,se=1/0){return(0,Pe.m)(ne)?Oe((he,le)=>(0,_.U)((de,Re)=>ne(he,de,le,Re))((0,J.Xf)(Ie(he,le))),se):("number"==typeof ne&&(se=ne),(0,j.e)((he,le)=>function ie(Ie,ne,se,he,le,de,Re,st){const it=[];let We=0,St=0,et=!1;const ce=()=>{et&&!it.length&&!We&&ne.complete()},Ue=Me=>We<he?He(Me):it.push(Me),He=Me=>{de&&ne.next(Me),We++;let nt=!1;(0,J.Xf)(se(Me,St++)).subscribe((0,ge.x)(ne,me=>{le?.(me),de?Ue(me):ne.next(me)},()=>{nt=!0},void 0,()=>{if(nt)try{for(We--;it.length&&We<he;){const me=it.shift();Re?(0,Te.f)(ne,Re,()=>He(me)):He(me)}ce()}catch(me){ne.error(me)}}))};return Ie.subscribe((0,ge.x)(ne,Ue,()=>{et=!0,ce()})),()=>{st?.()}}(he,le,Ie,se)))}},3093:(bt,je,$)=>{$.d(je,{Q:()=>Te});var _=$(7103),J=$(9360),j=$(8251);function Te(ge,ie=0){return(0,J.e)((Pe,Oe)=>{Pe.subscribe((0,j.x)(Oe,Ie=>(0,_.f)(Oe,ge,()=>Oe.next(Ie),ie),()=>(0,_.f)(Oe,ge,()=>Oe.complete(),ie),Ie=>(0,_.f)(Oe,ge,()=>Oe.error(Ie),ie)))})}},5137:(bt,je,$)=>{$.d(je,{R:()=>J});var _=$(9360);function J(j,Te=0){return(0,_.e)((ge,ie)=>{ie.add(j.schedule(()=>ge.subscribe(ie),Te))})}},4664:(bt,je,$)=>{$.d(je,{w:()=>Te});var _=$(4829),J=$(9360),j=$(8251);function Te(ge,ie){return(0,J.e)((Pe,Oe)=>{let Ie=null,ne=0,se=!1;const he=()=>se&&!Ie&&Oe.complete();Pe.subscribe((0,j.x)(Oe,le=>{Ie?.unsubscribe();let de=0;const Re=ne++;(0,_.Xf)(ge(le,Re)).subscribe(Ie=(0,j.x)(Oe,st=>Oe.next(ie?ie(le,st,Re,de++):st),()=>{Ie=null,he()}))},()=>{se=!0,he()}))})}},9397:(bt,je,$)=>{$.d(je,{b:()=>ge});var _=$(4674),J=$(9360),j=$(8251),Te=$(2737);function ge(ie,Pe,Oe){const Ie=(0,_.m)(ie)||Pe||Oe?{next:ie,error:Pe,complete:Oe}:ie;return Ie?(0,J.e)((ne,se)=>{var he;null===(he=Ie.subscribe)||void 0===he||he.call(Ie);let le=!0;ne.subscribe((0,j.x)(se,de=>{var Re;null===(Re=Ie.next)||void 0===Re||Re.call(Ie,de),se.next(de)},()=>{var de;le=!1,null===(de=Ie.complete)||void 0===de||de.call(Ie),se.complete()},de=>{var Re;le=!1,null===(Re=Ie.error)||void 0===Re||Re.call(Ie,de),se.error(de)},()=>{var de,Re;le&&(null===(de=Ie.unsubscribe)||void 0===de||de.call(Ie)),null===(Re=Ie.finalize)||void 0===Re||Re.call(Ie)}))}):Te.y}},1954:(bt,je,$)=>{$.d(je,{o:()=>ge});var _=$(7394);class J extends _.w0{constructor(Pe,Oe){super()}schedule(Pe,Oe=0){return this}}const j={setInterval(ie,Pe,...Oe){const{delegate:Ie}=j;return Ie?.setInterval?Ie.setInterval(ie,Pe,...Oe):setInterval(ie,Pe,...Oe)},clearInterval(ie){const{delegate:Pe}=j;return(Pe?.clearInterval||clearInterval)(ie)},delegate:void 0};var Te=$(9039);class ge extends J{constructor(Pe,Oe){super(Pe,Oe),this.scheduler=Pe,this.work=Oe,this.pending=!1}schedule(Pe,Oe=0){var Ie;if(this.closed)return this;this.state=Pe;const ne=this.id,se=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(se,ne,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(se,this.id,Oe),this}requestAsyncId(Pe,Oe,Ie=0){return j.setInterval(Pe.flush.bind(Pe,this),Ie)}recycleAsyncId(Pe,Oe,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return Oe;null!=Oe&&j.clearInterval(Oe)}execute(Pe,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(Pe,Oe);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,Oe){let ne,Ie=!1;try{this.work(Pe)}catch(se){Ie=!0,ne=se||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:Pe,scheduler:Oe}=this,{actions:Ie}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.P)(Ie,this),null!=Pe&&(this.id=this.recycleAsyncId(Oe,Pe,null)),this.delay=null,super.unsubscribe()}}}},9931:(bt,je,$)=>{$.d(je,{v:()=>j});const _={now:()=>(_.delegate||Date).now(),delegate:void 0};class J{constructor(ge,ie=J.now){this.schedulerActionCtor=ge,this.now=ie}schedule(ge,ie=0,Pe){return new this.schedulerActionCtor(this,ge).schedule(Pe,ie)}}J.now=_.now;class j extends J{constructor(ge,ie=J.now){super(ge,ie),this.actions=[],this._active=!1}flush(ge){const{actions:ie}=this;if(this._active)return void ie.push(ge);let Pe;this._active=!0;do{if(Pe=ge.execute(ge.state,ge.delay))break}while(ge=ie.shift());if(this._active=!1,Pe){for(;ge=ie.shift();)ge.unsubscribe();throw Pe}}}},6321:(bt,je,$)=>{$.d(je,{z:()=>j});var _=$(1954);const j=new($(9931).v)(_.o)},7599:(bt,je,$)=>{$.d(je,{z:()=>_});const _={setTimeout(J,j,...Te){const{delegate:ge}=_;return ge?.setTimeout?ge.setTimeout(J,j,...Te):setTimeout(J,j,...Te)},clearTimeout(J){const{delegate:j}=_;return(j?.clearTimeout||clearTimeout)(J)},delegate:void 0}},4971:(bt,je,$)=>{$.d(je,{h:()=>J});const J=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(bt,je,$)=>{$.d(je,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(bt,je,$)=>{$.d(je,{K:()=>J});const J=(0,$(2306).d)(j=>function(){j(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(bt,je,$)=>{$.d(je,{_6:()=>ie,jO:()=>Te,yG:()=>ge});var _=$(4674);function j(Pe){return Pe[Pe.length-1]}function Te(Pe){return(0,_.m)(j(Pe))?Pe.pop():void 0}function ge(Pe){return function J(Pe){return Pe&&(0,_.m)(Pe.schedule)}(j(Pe))?Pe.pop():void 0}function ie(Pe,Oe){return"number"==typeof j(Pe)?Pe.pop():Oe}},7453:(bt,je,$)=>{$.d(je,{D:()=>ge});const{isArray:_}=Array,{getPrototypeOf:J,prototype:j,keys:Te}=Object;function ge(Pe){if(1===Pe.length){const Oe=Pe[0];if(_(Oe))return{args:Oe,keys:null};if(function ie(Pe){return Pe&&"object"==typeof Pe&&J(Pe)===j}(Oe)){const Ie=Te(Oe);return{args:Ie.map(ne=>Oe[ne]),keys:Ie}}}return{args:Pe,keys:null}}},9039:(bt,je,$)=>{function _(J,j){if(J){const Te=J.indexOf(j);0<=Te&&J.splice(Te,1)}}$.d(je,{P:()=>_})},2306:(bt,je,$)=>{function _(J){const Te=J(ge=>{Error.call(ge),ge.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}$.d(je,{d:()=>_})},2714:(bt,je,$)=>{function _(J,j){return J.reduce((Te,ge,ie)=>(Te[ge]=j[ie],Te),{})}$.d(je,{n:()=>_})},1441:(bt,je,$)=>{$.d(je,{O:()=>Te,x:()=>j});var _=$(2653);let J=null;function j(ge){if(_.config.useDeprecatedSynchronousErrorHandling){const ie=!J;if(ie&&(J={errorThrown:!1,error:null}),ge(),ie){const{errorThrown:Pe,error:Oe}=J;if(J=null,Pe)throw Oe}}else ge()}function Te(ge){_.config.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ge)}},7103:(bt,je,$)=>{function _(J,j,Te,ge=0,ie=!1){const Pe=j.schedule(function(){Te(),ie?J.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(J.add(Pe),!ie)return Pe}$.d(je,{f:()=>_})},2737:(bt,je,$)=>{function _(J){return J}$.d(je,{y:()=>_})},4266:(bt,je,$)=>{$.d(je,{z:()=>_});const _=J=>J&&"number"==typeof J.length&&"function"!=typeof J},5726:(bt,je,$)=>{$.d(je,{D:()=>J});var _=$(4674);function J(j){return Symbol.asyncIterator&&(0,_.m)(j?.[Symbol.asyncIterator])}},4674:(bt,je,$)=>{function _(J){return"function"==typeof J}$.d(je,{m:()=>_})},8382:(bt,je,$)=>{$.d(je,{c:()=>j});var _=$(4850),J=$(4674);function j(Te){return(0,J.m)(Te[_.L])}},3664:(bt,je,$)=>{$.d(je,{T:()=>j});var _=$(4971),J=$(4674);function j(Te){return(0,J.m)(Te?.[_.h])}},4026:(bt,je,$)=>{$.d(je,{t:()=>J});var _=$(4674);function J(j){return(0,_.m)(j?.then)}},541:(bt,je,$)=>{$.d(je,{L:()=>Te,Q:()=>j});var _=$(7582),J=$(4674);function j(ge){return(0,_.FC)(this,arguments,function*(){const Pe=ge.getReader();try{for(;;){const{value:Oe,done:Ie}=yield(0,_.qq)(Pe.read());if(Ie)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(Oe)}}finally{Pe.releaseLock()}})}function Te(ge){return(0,J.m)(ge?.getReader)}},9360:(bt,je,$)=>{$.d(je,{A:()=>J,e:()=>j});var _=$(4674);function J(Te){return(0,_.m)(Te?.lift)}function j(Te){return ge=>{if(J(ge))return ge.lift(function(ie){try{return Te(ie,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(bt,je,$)=>{$.d(je,{Z:()=>Te});var _=$(7398);const{isArray:J}=Array;function Te(ge){return(0,_.U)(ie=>function j(ge,ie){return J(ie)?ge(...ie):ge(ie)}(ge,ie))}},2420:(bt,je,$)=>{function _(){}$.d(je,{Z:()=>_})},8407:(bt,je,$)=>{$.d(je,{U:()=>j,z:()=>J});var _=$(2737);function J(...Te){return j(Te)}function j(Te){return 0===Te.length?_.y:1===Te.length?Te[0]:function(ie){return Te.reduce((Pe,Oe)=>Oe(Pe),ie)}}},3894:(bt,je,$)=>{$.d(je,{h:()=>j});var _=$(2653),J=$(7599);function j(Te){J.z.setTimeout(()=>{const{onUnhandledError:ge}=_.config;if(!ge)throw Te;ge(Te)})}},9853:(bt,je,$)=>{function _(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(je,{z:()=>_})},6825:(bt,je,$)=>{$.d(je,{IO:()=>Re,LC:()=>J,X$:()=>Te,ZE:()=>We,ZN:()=>it,_j:()=>_,eR:()=>se,jt:()=>ge,k1:()=>St,l3:()=>j,oB:()=>Oe,ru:()=>ie,vP:()=>Pe});class _{}class J{}const j="*";function Te(et,ce){return{type:7,name:et,definitions:ce,options:{}}}function ge(et,ce=null){return{type:4,styles:ce,timings:et}}function ie(et,ce=null){return{type:3,steps:et,options:ce}}function Pe(et,ce=null){return{type:2,steps:et,options:ce}}function Oe(et){return{type:6,styles:et,offset:null}}function se(et,ce,Ue=null){return{type:1,expr:et,animation:ce,options:Ue}}function Re(et,ce,Ue=null){return{type:11,selector:et,animation:ce,options:Ue}}class it{constructor(ce=0,Ue=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ce+Ue}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ce=>ce()),this._onDoneFns=[])}onStart(ce){this._originalOnStartFns.push(ce),this._onStartFns.push(ce)}onDone(ce){this._originalOnDoneFns.push(ce),this._onDoneFns.push(ce)}onDestroy(ce){this._onDestroyFns.push(ce)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ce=>ce()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ce=>ce()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ce){this._position=this.totalTime?ce*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ce){const Ue="start"==ce?this._onStartFns:this._onDoneFns;Ue.forEach(He=>He()),Ue.length=0}}class We{constructor(ce){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ce;let Ue=0,He=0,Me=0;const nt=this.players.length;0==nt?queueMicrotask(()=>this._onFinish()):this.players.forEach(me=>{me.onDone(()=>{++Ue==nt&&this._onFinish()}),me.onDestroy(()=>{++He==nt&&this._onDestroy()}),me.onStart(()=>{++Me==nt&&this._onStart()})}),this.totalTime=this.players.reduce((me,jt)=>Math.max(me,jt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ce=>ce()),this._onDoneFns=[])}init(){this.players.forEach(ce=>ce.init())}onStart(ce){this._onStartFns.push(ce)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ce=>ce()),this._onStartFns=[])}onDone(ce){this._onDoneFns.push(ce)}onDestroy(ce){this._onDestroyFns.push(ce)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ce=>ce.play())}pause(){this.players.forEach(ce=>ce.pause())}restart(){this.players.forEach(ce=>ce.restart())}finish(){this._onFinish(),this.players.forEach(ce=>ce.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ce=>ce.destroy()),this._onDestroyFns.forEach(ce=>ce()),this._onDestroyFns=[])}reset(){this.players.forEach(ce=>ce.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ce){const Ue=ce*this.totalTime;this.players.forEach(He=>{const Me=He.totalTime?Math.min(1,Ue/He.totalTime):1;He.setPosition(Me)})}getPosition(){const ce=this.players.reduce((Ue,He)=>null===Ue||He.totalTime>Ue.totalTime?He:Ue,null);return null!=ce?ce.getPosition():0}beforeDestroy(){this.players.forEach(ce=>{ce.beforeDestroy&&ce.beforeDestroy()})}triggerCallback(ce){const Ue="start"==ce?this._onStartFns:this._onDoneFns;Ue.forEach(He=>He()),Ue.length=0}}const St="!"},6814:(bt,je,$)=>{$.d(je,{Do:()=>st,EM:()=>Gr,HT:()=>Te,JF:()=>Eo,K0:()=>ie,Mx:()=>ts,O5:()=>Zr,Ov:()=>No,PM:()=>Hr,S$:()=>le,V_:()=>Oe,Ye:()=>it,b0:()=>Re,bD:()=>Rn,ez:()=>Js,mk:()=>En,q:()=>j,sg:()=>br,tP:()=>Ro,w_:()=>ge});var _=$(6689);let J=null;function j(){return J}function Te(A){J||(J=A)}class ge{}const ie=new _.OlP("DocumentToken");let Pe=(()=>{class A{historyGo(d){throw new Error("Not implemented")}static#e=this.\u0275fac=function(p){return new(p||A)};static#t=this.\u0275prov=_.Yz7({token:A,factory:function(){return(0,_.f3M)(Ie)},providedIn:"platform"})}return A})();const Oe=new _.OlP("Location Initialized");let Ie=(()=>{class A extends Pe{constructor(){super(),this._doc=(0,_.f3M)(ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(d){const p=j().getGlobalEventTarget(this._doc,"window");return p.addEventListener("popstate",d,!1),()=>p.removeEventListener("popstate",d)}onHashChange(d){const p=j().getGlobalEventTarget(this._doc,"window");return p.addEventListener("hashchange",d,!1),()=>p.removeEventListener("hashchange",d)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(d){this._location.pathname=d}pushState(d,p,E){this._history.pushState(d,p,E)}replaceState(d,p,E){this._history.replaceState(d,p,E)}forward(){this._history.forward()}back(){this._history.back()}historyGo(d=0){this._history.go(d)}getState(){return this._history.state}static#e=this.\u0275fac=function(p){return new(p||A)};static#t=this.\u0275prov=_.Yz7({token:A,factory:function(){return new A},providedIn:"platform"})}return A})();function ne(A,I){if(0==A.length)return I;if(0==I.length)return A;let d=0;return A.endsWith("/")&&d++,I.startsWith("/")&&d++,2==d?A+I.substring(1):1==d?A+I:A+"/"+I}function se(A){const I=A.match(/#|\?|$/),d=I&&I.index||A.length;return A.slice(0,d-("/"===A[d-1]?1:0))+A.slice(d)}function he(A){return A&&"?"!==A[0]?"?"+A:A}let le=(()=>{class A{historyGo(d){throw new Error("Not implemented")}static#e=this.\u0275fac=function(p){return new(p||A)};static#t=this.\u0275prov=_.Yz7({token:A,factory:function(){return(0,_.f3M)(Re)},providedIn:"root"})}return A})();const de=new _.OlP("appBaseHref");let Re=(()=>{class A extends le{constructor(d,p){super(),this._platformLocation=d,this._removeListenerFns=[],this._baseHref=p??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(d){this._removeListenerFns.push(this._platformLocation.onPopState(d),this._platformLocation.onHashChange(d))}getBaseHref(){return this._baseHref}prepareExternalUrl(d){return ne(this._baseHref,d)}path(d=!1){const p=this._platformLocation.pathname+he(this._platformLocation.search),E=this._platformLocation.hash;return E&&d?`${p}${E}`:p}pushState(d,p,E,O){const U=this.prepareExternalUrl(E+he(O));this._platformLocation.pushState(d,p,U)}replaceState(d,p,E,O){const U=this.prepareExternalUrl(E+he(O));this._platformLocation.replaceState(d,p,U)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(d=0){this._platformLocation.historyGo?.(d)}static#e=this.\u0275fac=function(p){return new(p||A)(_.LFG(Pe),_.LFG(de,8))};static#t=this.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})(),st=(()=>{class A extends le{constructor(d,p){super(),this._platformLocation=d,this._baseHref="",this._removeListenerFns=[],null!=p&&(this._baseHref=p)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(d){this._removeListenerFns.push(this._platformLocation.onPopState(d),this._platformLocation.onHashChange(d))}getBaseHref(){return this._baseHref}path(d=!1){let p=this._platformLocation.hash;return null==p&&(p="#"),p.length>0?p.substring(1):p}prepareExternalUrl(d){const p=ne(this._baseHref,d);return p.length>0?"#"+p:p}pushState(d,p,E,O){let U=this.prepareExternalUrl(E+he(O));0==U.length&&(U=this._platformLocation.pathname),this._platformLocation.pushState(d,p,U)}replaceState(d,p,E,O){let U=this.prepareExternalUrl(E+he(O));0==U.length&&(U=this._platformLocation.pathname),this._platformLocation.replaceState(d,p,U)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(d=0){this._platformLocation.historyGo?.(d)}static#e=this.\u0275fac=function(p){return new(p||A)(_.LFG(Pe),_.LFG(de,8))};static#t=this.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac})}return A})(),it=(()=>{class A{constructor(d){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=d;const p=this._locationStrategy.getBaseHref();this._basePath=function ce(A){if(new RegExp("^(https?:)?//").test(A)){const[,d]=A.split(/\/\/[^\/]+/);return d}return A}(se(et(p))),this._locationStrategy.onPopState(E=>{this._subject.emit({url:this.path(!0),pop:!0,state:E.state,type:E.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(d=!1){return this.normalize(this._locationStrategy.path(d))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(d,p=""){return this.path()==this.normalize(d+he(p))}normalize(d){return A.stripTrailingSlash(function St(A,I){if(!A||!I.startsWith(A))return I;const d=I.substring(A.length);return""===d||["/",";","?","#"].includes(d[0])?d:I}(this._basePath,et(d)))}prepareExternalUrl(d){return d&&"/"!==d[0]&&(d="/"+d),this._locationStrategy.prepareExternalUrl(d)}go(d,p="",E=null){this._locationStrategy.pushState(E,"",d,p),this._notifyUrlChangeListeners(this.prepareExternalUrl(d+he(p)),E)}replaceState(d,p="",E=null){this._locationStrategy.replaceState(E,"",d,p),this._notifyUrlChangeListeners(this.prepareExternalUrl(d+he(p)),E)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(d=0){this._locationStrategy.historyGo?.(d)}onUrlChange(d){return this._urlChangeListeners.push(d),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(p=>{this._notifyUrlChangeListeners(p.url,p.state)})),()=>{const p=this._urlChangeListeners.indexOf(d);this._urlChangeListeners.splice(p,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(d="",p){this._urlChangeListeners.forEach(E=>E(d,p))}subscribe(d,p,E){return this._subject.subscribe({next:d,error:p,complete:E})}static#e=this.normalizeQueryParams=he;static#t=this.joinWithSlash=ne;static#n=this.stripTrailingSlash=se;static#r=this.\u0275fac=function(p){return new(p||A)(_.LFG(le))};static#i=this.\u0275prov=_.Yz7({token:A,factory:function(){return function We(){return new it((0,_.LFG)(le))}()},providedIn:"root"})}return A})();function et(A){return A.replace(/\/index.html$/,"")}function ts(A,I){I=encodeURIComponent(I);for(const d of A.split(";")){const p=d.indexOf("="),[E,O]=-1==p?[d,""]:[d.slice(0,p),d.slice(p+1)];if(E.trim()===I)return decodeURIComponent(O)}return null}const Cr=/\s+/,Ar=[];let En=(()=>{class A{constructor(d,p,E,O){this._iterableDiffers=d,this._keyValueDiffers=p,this._ngEl=E,this._renderer=O,this.initialClasses=Ar,this.stateMap=new Map}set klass(d){this.initialClasses=null!=d?d.trim().split(Cr):Ar}set ngClass(d){this.rawClass="string"==typeof d?d.trim().split(Cr):d}ngDoCheck(){for(const p of this.initialClasses)this._updateState(p,!0);const d=this.rawClass;if(Array.isArray(d)||d instanceof Set)for(const p of d)this._updateState(p,!0);else if(null!=d)for(const p of Object.keys(d))this._updateState(p,!!d[p]);this._applyStateDiff()}_updateState(d,p){const E=this.stateMap.get(d);void 0!==E?(E.enabled!==p&&(E.changed=!0,E.enabled=p),E.touched=!0):this.stateMap.set(d,{enabled:p,changed:!0,touched:!0})}_applyStateDiff(){for(const d of this.stateMap){const p=d[0],E=d[1];E.changed?(this._toggleClass(p,E.enabled),E.changed=!1):E.touched||(E.enabled&&this._toggleClass(p,!1),this.stateMap.delete(p)),E.touched=!1}}_toggleClass(d,p){(d=d.trim()).length>0&&d.split(Cr).forEach(E=>{p?this._renderer.addClass(this._ngEl.nativeElement,E):this._renderer.removeClass(this._ngEl.nativeElement,E)})}static#e=this.\u0275fac=function(p){return new(p||A)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))};static#t=this.\u0275dir=_.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return A})();class On{constructor(I,d,p,E){this.$implicit=I,this.ngForOf=d,this.index=p,this.count=E}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let br=(()=>{class A{set ngForOf(d){this._ngForOf=d,this._ngForOfDirty=!0}set ngForTrackBy(d){this._trackByFn=d}get ngForTrackBy(){return this._trackByFn}constructor(d,p,E){this._viewContainer=d,this._template=p,this._differs=E,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(d){d&&(this._template=d)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const d=this._ngForOf;!this._differ&&d&&(this._differ=this._differs.find(d).create(this.ngForTrackBy))}if(this._differ){const d=this._differ.diff(this._ngForOf);d&&this._applyChanges(d)}}_applyChanges(d){const p=this._viewContainer;d.forEachOperation((E,O,U)=>{if(null==E.previousIndex)p.createEmbeddedView(this._template,new On(E.item,this._ngForOf,-1,-1),null===U?void 0:U);else if(null==U)p.remove(null===O?void 0:O);else if(null!==O){const ee=p.get(O);p.move(ee,U),bi(ee,E)}});for(let E=0,O=p.length;E<O;E++){const ee=p.get(E).context;ee.index=E,ee.count=O,ee.ngForOf=this._ngForOf}d.forEachIdentityChange(E=>{bi(p.get(E.currentIndex),E)})}static ngTemplateContextGuard(d,p){return!0}static#e=this.\u0275fac=function(p){return new(p||A)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))};static#t=this.\u0275dir=_.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return A})();function bi(A,I){A.context.$implicit=I.item}let Zr=(()=>{class A{constructor(d,p){this._viewContainer=d,this._context=new Si,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=p}set ngIf(d){this._context.$implicit=this._context.ngIf=d,this._updateView()}set ngIfThen(d){_i("ngIfThen",d),this._thenTemplateRef=d,this._thenViewRef=null,this._updateView()}set ngIfElse(d){_i("ngIfElse",d),this._elseTemplateRef=d,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(d,p){return!0}static#e=this.\u0275fac=function(p){return new(p||A)(_.Y36(_.s_b),_.Y36(_.Rgc))};static#t=this.\u0275dir=_.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return A})();class Si{constructor(){this.$implicit=null,this.ngIf=null}}function _i(A,I){if(I&&!I.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,_.AaK)(I)}'.`)}let Ro=(()=>{class A{constructor(d){this._viewContainerRef=d,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(d){if(d.ngTemplateOutlet||d.ngTemplateOutletInjector){const p=this._viewContainerRef;if(this._viewRef&&p.remove(p.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:E,ngTemplateOutletContext:O,ngTemplateOutletInjector:U}=this;this._viewRef=p.createEmbeddedView(E,O,U?{injector:U}:void 0)}else this._viewRef=null}else this._viewRef&&d.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(p){return new(p||A)(_.Y36(_.s_b))};static#t=this.\u0275dir=_.lG2({type:A,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_.TTD]})}return A})();class ci{createSubscription(I,d){return(0,_.rg0)(()=>I.subscribe({next:d,error:p=>{throw p}}))}dispose(I){(0,_.rg0)(()=>I.unsubscribe())}}class Mo{createSubscription(I,d){return I.then(d,p=>{throw p})}dispose(I){}}const Zo=new Mo,Jo=new ci;let No=(()=>{class A{constructor(d){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=d}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(d){return this._obj?d!==this._obj?(this._dispose(),this.transform(d)):this._latestValue:(d&&this._subscribe(d),this._latestValue)}_subscribe(d){this._obj=d,this._strategy=this._selectStrategy(d),this._subscription=this._strategy.createSubscription(d,p=>this._updateLatestValue(d,p))}_selectStrategy(d){if((0,_.QGY)(d))return Zo;if((0,_.F4k)(d))return Jo;throw function Hi(A,I){return new _.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(d,p){d===this._obj&&(this._latestValue=p,this._ref.markForCheck())}static#e=this.\u0275fac=function(p){return new(p||A)(_.Y36(_.sBO,16))};static#t=this.\u0275pipe=_.Yjl({name:"async",type:A,pure:!1,standalone:!0})}return A})(),Js=(()=>{class A{static#e=this.\u0275fac=function(p){return new(p||A)};static#t=this.\u0275mod=_.oAB({type:A});static#n=this.\u0275inj=_.cJS({})}return A})();const Rn="browser",_t="server";function Hr(A){return A===_t}let Gr=(()=>{class A{static#e=this.\u0275prov=(0,_.Yz7)({token:A,providedIn:"root",factory:()=>new ji((0,_.LFG)(ie),window)})}return A})();class ji{constructor(I,d){this.document=I,this.window=d,this.offset=()=>[0,0]}setOffset(I){this.offset=Array.isArray(I)?()=>I:I}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(I){this.supportsScrolling()&&this.window.scrollTo(I[0],I[1])}scrollToAnchor(I){if(!this.supportsScrolling())return;const d=function Jt(A,I){const d=A.getElementById(I)||A.getElementsByName(I)[0];if(d)return d;if("function"==typeof A.createTreeWalker&&A.body&&"function"==typeof A.body.attachShadow){const p=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let E=p.currentNode;for(;E;){const O=E.shadowRoot;if(O){const U=O.getElementById(I)||O.querySelector(`[name="${I}"]`);if(U)return U}E=p.nextNode()}}return null}(this.document,I);d&&(this.scrollToElement(d),d.focus())}setHistoryScrollRestoration(I){this.supportsScrolling()&&(this.window.history.scrollRestoration=I)}scrollToElement(I){const d=I.getBoundingClientRect(),p=d.left+this.window.pageXOffset,E=d.top+this.window.pageYOffset,O=this.offset();this.window.scrollTo(p-O[0],E-O[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Eo{}},6689:(bt,je,$)=>{$.d(je,{QbO:()=>Vp,tb:()=>rI,AFp:()=>wd,ip1:()=>jw,hGG:()=>HA,z2F:()=>qf,Ojb:()=>Vm,sBO:()=>bA,Sil:()=>qC,EJc:()=>GC,Xts:()=>Ed,SBq:()=>xd,lqb:()=>Ko,qLn:()=>Qa,vpe:()=>Ya,XFs:()=>sn,OlP:()=>nn,zs3:()=>Oa,ZZ4:()=>lI,aQg:()=>cI,soG:()=>oy,YKP:()=>$T,h0i:()=>lh,PXZ:()=>vA,R0b:()=>Ps,FiY:()=>Zl,Lbi:()=>Ad,g9A:()=>Cd,Qsj:()=>Qy,FYo:()=>Kp,JOm:()=>tc,tp0:()=>D,Rgc:()=>Jg,dDg:()=>gA,eoX:()=>Qw,q4F:()=>Gm,GfV:()=>rf,s_b:()=>iy,ifc:()=>Cr,VuI:()=>eb,MMx:()=>GT,Lck:()=>RD,eFA:()=>Xw,Gpc:()=>He,f3M:()=>$e,$WT:()=>zi,_c5:()=>$A,qFp:()=>nb,rg0:()=>Ft,c2e:()=>$w,zSh:()=>Yh,HDt:()=>Hw,wAp:()=>Ll,vHH:()=>ht,lri:()=>qw,rWj:()=>Kw,cg1:()=>Ur,kL8:()=>hs,dqk:()=>gn,Z0I:()=>Yr,eJc:()=>qE,QGY:()=>F_,F4k:()=>Kv,RDi:()=>Cm,AaK:()=>et,qOj:()=>Wd,Xq5:()=>Pg,TTD:()=>Qn,_Bn:()=>jT,jDz:()=>zT,xp6:()=>yf,uIk:()=>Mg,Tol:()=>dE,ekj:()=>$g,Suo:()=>vw,Xpm:()=>Qs,lG2:()=>rs,Yz7:()=>Gt,cJS:()=>Pr,oAB:()=>xs,Yjl:()=>Ri,Y36:()=>Sc,_UZ:()=>Lg,GkF:()=>x_,BQk:()=>Uf,ynx:()=>Vl,qZA:()=>Lf,TgZ:()=>Vg,EpF:()=>k_,n5z:()=>Kr,LFG:()=>ke,$8M:()=>cu,$Z:()=>i_,NdJ:()=>V_,CRH:()=>Ew,oxw:()=>Xv,ALo:()=>iw,lcZ:()=>sw,Hsn:()=>eE,F$t:()=>Bg,Q6J:()=>M_,VKq:()=>JT,iGM:()=>_w,MAs:()=>R_,KtG:()=>sl,evT:()=>cf,CHM:()=>Fa,P3R:()=>$h,Udp:()=>K_,YNc:()=>Vf,W1O:()=>Dw,_uU:()=>yE,Oqu:()=>Z_,hij:()=>Gg,Gf:()=>yw});var _=$(8645),J=$(7394),j=$(5592),Te=$(7537),ge=$(4829),ie=$(6232),Pe=$(4564),Oe=$(2459),ne=$(5619),se=$(2096),he=$(305),le=$(9360);function de(t={}){const{connector:r=(()=>new _.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:l=!0}=t;return h=>{let y,w,P,k=0,H=!1,te=!1;const pe=()=>{w?.unsubscribe(),w=void 0},be=()=>{pe(),y=P=void 0,H=te=!1},Qe=()=>{const rt=y;be(),rt?.unsubscribe()};return(0,le.e)((rt,Dt)=>{k++,!te&&!H&&pe();const Wt=P=P??r();Dt.add(()=>{k--,0===k&&!te&&!H&&(w=Re(Qe,l))}),Wt.subscribe(Dt),!y&&k>0&&(y=new he.Hp({next:Xe=>Wt.next(Xe),error:Xe=>{te=!0,pe(),w=Re(be,s,Xe),Wt.error(Xe)},complete:()=>{H=!0,pe(),w=Re(be,a),Wt.complete()}}),(0,ge.Xf)(rt).subscribe(y))})(h)}}function Re(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new he.Hp({next:()=>{a.unsubscribe(),t()}});return(0,ge.Xf)(r(...s)).subscribe(a)}var st=$(4664),it=$(3997);function We(t){for(let r in t)if(t[r]===We)return r;throw Error("Could not find renamed property on target object.")}function St(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function et(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(et).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function ce(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Ue=We({__forward_ref__:We});function He(t){return t.__forward_ref__=He,t.toString=function(){return et(this())},t}function Me(t){return nt(t)?t():t}function nt(t){return"function"==typeof t&&t.hasOwnProperty(Ue)&&t.__forward_ref__===He}function me(t){return t&&!!t.\u0275providers}const Qt="https://g.co/ng/security#xss";class ht extends Error{constructor(r,s){super(function Zn(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function ot(t){return"string"==typeof t?t:null==t?"":String(t)}function ye(t,r){throw new ht(-201,!1)}function Dn(t,r){null==t&&function gt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Gt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Gn(t){return ln(t,dr)||ln(t,Or)}function Yr(t){return null!==Gn(t)}function ln(t,r){return t.hasOwnProperty(r)?t[r]:null}function Er(t){return t&&(t.hasOwnProperty(ui)||t.hasOwnProperty(tr))?t[ui]:null}const dr=We({\u0275prov:We}),ui=We({\u0275inj:We}),Or=We({ngInjectableDef:We}),tr=We({ngInjectorDef:We});var sn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(sn||{});let In;function Pt(t){const r=In;return In=t,r}function fs(t,r,s){const a=Gn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&sn.Optional?null:void 0!==r?r:void ye(et(t))}const gn=globalThis;class nn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Gt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ee={},qe="__NG_DI_FLAG__",lt="ngTempTokenPath",$t=/\n/gm,un="__source";let qn;function wr(t){const r=qn;return qn=t,r}function es(t,r=sn.Default){if(void 0===qn)throw new ht(-203,!1);return null===qn?fs(t,void 0,r):qn.get(t,r&sn.Optional?null:void 0,r)}function ke(t,r=sn.Default){return(function Cn(){return In}()||es)(Me(t),r)}function $e(t,r=sn.Default){return ke(t,Et(r))}function Et(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function on(t){const r=[];for(let s=0;s<t.length;s++){const a=Me(t[s]);if(Array.isArray(a)){if(0===a.length)throw new ht(900,!1);let l,h=sn.Default;for(let y=0;y<a.length;y++){const w=a[y],P=fn(w);"number"==typeof P?-1===P?l=w.token:h|=P:l=w}r.push(ke(l,h))}else r.push(ke(a))}return r}function qt(t,r){return t[qe]=r,t.prototype[qe]=r,t}function fn(t){return t[qe]}function Dr(t){return{toString:t}.toString()}var ts=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ts||{}),Cr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Cr||{});const Ar={},En=[],ns=We({\u0275cmp:We}),Ms=We({\u0275dir:We}),On=We({\u0275pipe:We}),br=We({\u0275mod:We}),bi=We({\u0275fac:We}),Li=We({__NG_ELEMENT_ID__:We}),Zr=We({__NG_ENV_ID__:We});function Si(t,r,s){let a=t.length;for(;;){const l=t.indexOf(r,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const h=r.length;if(l+h===a||t.charCodeAt(l+h)<=32)return l}s=l+1}}function _i(t,r,s){let a=0;for(;a<s.length;){const l=s[a];if("number"==typeof l){if(0!==l)break;a++;const h=s[a++],y=s[a++],w=s[a++];t.setAttribute(r,y,w,h)}else{const h=l,y=s[++a];Pi(h)?t.setProperty(r,h,y):t.setAttribute(r,h,y),a++}}return a}function jr(t){return 3===t||4===t||6===t}function Pi(t){return 64===t.charCodeAt(0)}function gr(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||Ui(t,s,l,null,-1===s||2===s?r[++a]:null)}}return t}function Ui(t,r,s,a,l){let h=0,y=t.length;if(-1===r)y=-1;else for(;h<t.length;){const w=t[h++];if("number"==typeof w){if(w===r){y=-1;break}if(w>r){y=h-1;break}}}for(;h<t.length;){const w=t[h];if("number"==typeof w)break;if(w===s){if(null===a)return void(null!==l&&(t[h+1]=l));if(a===t[h+1])return void(t[h+2]=l)}h++,null!==a&&h++,null!==l&&h++}-1!==y&&(t.splice(y,0,r),h=y+1),t.splice(h++,0,s),null!==a&&t.splice(h++,0,a),null!==l&&t.splice(h++,0,l)}const Jr="ng-template";function Xr(t,r,s){let a=0,l=!0;for(;a<t.length;){let h=t[a++];if("string"==typeof h&&l){const y=t[a++];if(s&&"class"===h&&-1!==Si(y.toLowerCase(),r,0))return!0}else{if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===r)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function ao(t){return 4===t.type&&t.value!==Jr}function ps(t,r,s){return r===(4!==t.type||s?t.value:Jr)}function Ro(t,r,s){let a=4;const l=t.attrs||[],h=function Zo(t){for(let r=0;r<t.length;r++)if(jr(t[r]))return r;return t.length}(l);let y=!1;for(let w=0;w<r.length;w++){const P=r[w];if("number"!=typeof P){if(!y)if(4&a){if(a=2|1&a,""!==P&&!ps(t,P,s)||""===P&&1===r.length){if(gs(a))return!1;y=!0}}else{const k=8&a?P:r[++w];if(8&a&&null!==t.attrs){if(!Xr(t.attrs,k,s)){if(gs(a))return!1;y=!0}continue}const te=Hi(8&a?"class":P,l,ao(t),s);if(-1===te){if(gs(a))return!1;y=!0;continue}if(""!==k){let pe;pe=te>h?"":l[te+1].toLowerCase();const be=8&a?pe:null;if(be&&-1!==Si(be,k,0)||2&a&&k!==pe){if(gs(a))return!1;y=!0}}}}else{if(!y&&!gs(a)&&!gs(P))return!1;if(y&&gs(P))continue;y=!1,a=P|1&a}}return gs(a)||y}function gs(t){return 0==(1&t)}function Hi(t,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let h=!1;for(;l<r.length;){const y=r[l];if(y===t)return l;if(3===y||6===y)h=!0;else{if(1===y||2===y){let w=r[++l];for(;"string"==typeof w;)w=r[++l];continue}if(4===y)break;if(0===y){l+=4;continue}}l+=h?1:2}return-1}return function Jo(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function ci(t,r,s=!1){for(let a=0;a<r.length;a++)if(Ro(t,r[a],s))return!0;return!1}function No(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let l=0;l<t.length;l++)if(t[l]!==a[l])continue e;return!0}}return!1}function Oo(t,r){return t?":not("+r.trim()+")":r}function Ns(t){let r=t[0],s=1,a=2,l="",h=!1;for(;s<t.length;){let y=t[s];if("string"==typeof y)if(2&a){const w=t[++s];l+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?l+="."+y:4&a&&(l+=" "+y);else""!==l&&!gs(y)&&(r+=Oo(h,l),l=""),a=y,h=h||!gs(a);s++}return""!==l&&(r+=Oo(h,l)),r}function Qs(t){return Dr(()=>{const r=Bi(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ts.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Cr.Emulated,styles:t.styles||En,_:null,schemas:t.schemas||null,tView:null,id:""};Wi(s);const a=t.dependencies;return s.directiveDefs=ei(a,!1),s.pipeDefs=ei(a,!0),s.id=function Js(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const l of s)r=Math.imul(31,r)+l.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function Ys(t){return an(t)||fr(t)}function Os(t){return null!==t}function xs(t){return Dr(()=>({type:t.type,bootstrap:t.bootstrap||En,declarations:t.declarations||En,imports:t.imports||En,exports:t.exports||En,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function yi(t,r){if(null==t)return Ar;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),s[l]=a,r&&(r[l]=h)}return s}function rs(t){return Dr(()=>{const r=Bi(t);return Wi(r),r})}function Ri(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function an(t){return t[ns]||null}function fr(t){return t[Ms]||null}function ar(t){return t[On]||null}function zi(t){const r=an(t)||fr(t)||ar(t);return null!==r&&r.standalone}function mn(t,r){const s=t[br]||null;if(!s&&!0===r)throw new Error(`Type ${et(t)} does not have '\u0275mod' property.`);return s}function Bi(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Ar,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||En,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yi(t.inputs,r),outputs:yi(t.outputs)}}function Wi(t){t.features?.forEach(r=>r(t))}function ei(t,r){if(!t)return null;const s=r?ar:Ys;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(Os)}const Rn=0,_t=1,zt=2,$n=3,$r=4,Hr=5,mr=6,ys=7,hr=8,Gr=9,ji=10,Jt=11,Bs=12,Eo=13,wi=14,Vn=15,uo=16,js=17,Di=18,lo=19,ks=20,ti=21,vs=22,Fs=23,is=24,Zt=25,Es=1,$s=2,vi=7,Io=9,Fr=11;function Rr(t){return Array.isArray(t)&&"object"==typeof t[Es]}function di(t){return Array.isArray(t)&&!0===t[Es]}function co(t){return 0!=(4&t.flags)}function $i(t){return t.componentOffset>-1}function qi(t){return 1==(1&t.flags)}function ni(t){return!!t.template}function Ki(t){return 0!=(512&t[zt])}function Ci(t,r){return t.hasOwnProperty(bi)?t[bi]:null}let ii=null,Lo=!1;function ur(t){const r=ii;return ii=t,r}const iu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Vs(t){if(!Gs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ka(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function To(t){t.dirty=!0,function ta(t){if(void 0===t.liveConsumerNode)return;const r=Lo;Lo=!0;try{for(const s of t.liveConsumerNode)s.dirty||To(s)}finally{Lo=r}}(t),t.consumerMarkedDirty?.(t)}function Kn(t){return t&&(t.nextProducerIndex=0),ur(t)}function ro(t,r){if(ur(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Gs(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)ra(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ka(t){Is(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(Vs(s),a!==s.version))return!0}return!1}function Hs(t){if(Is(t),Gs(t))for(let r=0;r<t.producerNode.length;r++)ra(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ra(t,r){if(function ia(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Is(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)ra(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],l=t.liveConsumerNode[r];Is(l),l.producerIndexOfThis[a]=r}}function Gs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Is(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let I=null;function Ft(t){const r=ur(null);try{return t()}finally{ur(r)}}const Vt=()=>{},wt=(()=>({...iu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Vt}))();class Tn{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Qn(){return Wr}function Wr(t){return t.type.prototype.ngOnChanges&&(t.setInput=pr),Ge}function Ge(){const t=Ni(this),r=t?.current;if(r){const s=t.previous;if(s===Ar)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function pr(t,r,s,a){const l=this.declaredInputs[s],h=Ni(t)||function Tt(t,r){return t[Vr]=r}(t,{previous:Ar,current:null}),y=h.current||(h.current={}),w=h.previous,P=w[l];y[l]=new Tn(P&&P.currentValue,r,w===Ar),t[a]=r}Qn.ngInherit=!0;const Vr="__ngSimpleChanges__";function Ni(t){return t[Vr]||null}const ct=function(t,r,s){};function rn(t){for(;Array.isArray(t);)t=t[Rn];return t}function xt(t,r){return rn(r[t])}function kt(t,r){return rn(r[t.index])}function Hn(t,r){return t.data[r]}function Sr(t,r){return t[r]}function Mr(t,r){const s=r[t];return Rr(s)?s:s[Rn]}function Ts(t,r){return null==r?null:t[r]}function hn(t){t[js]=0}function pi(t){1024&t[zt]||(t[zt]|=1024,Mn(t,1))}function wo(t){1024&t[zt]&&(t[zt]&=-1025,Mn(t,-1))}function Mn(t,r){let s=t[$n];if(null===s)return;s[Hr]+=r;let a=s;for(s=s[$n];null!==s&&(1===r&&1===a[Hr]||-1===r&&0===a[Hr]);)s[Hr]+=r,a=s,s=s[$n]}const yt={lFrame:Nu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Nr(){return yt.bindingsEnabled}function su(){return null!==yt.skipHydrationRootTNode}function Ye(){return yt.lFrame.lView}function Bn(){return yt.lFrame.tView}function Fa(t){return yt.lFrame.contextLView=t,t[hr]}function sl(t){return yt.lFrame.contextLView=null,t}function _r(){let t=Ea();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ea(){return yt.lFrame.currentTNode}function ws(t,r){const s=yt.lFrame;s.currentTNode=t,s.isParent=r}function Ws(){return yt.lFrame.isParent}function Ru(){yt.lFrame.isParent=!1}function Ai(){const t=yt.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function v(){return yt.lFrame.bindingIndex++}function R(t){const r=yt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function re(t,r){const s=yt.lFrame;s.bindingIndex=s.bindingRootIndex=t,Ae(r)}function Ae(t){yt.lFrame.currentDirectiveIndex=t}function _n(){return yt.lFrame.currentQueryIndex}function xn(t){yt.lFrame.currentQueryIndex=t}function jn(t){const r=t[_t];return 2===r.type?r.declTNode:1===r.type?t[mr]:null}function qs(t,r,s){if(s&sn.SkipSelf){let l=r,h=t;for(;!(l=l.parent,null!==l||s&sn.Host||(l=jn(h),null===l||(h=h[wi],10&l.type))););if(null===l)return!1;r=l,t=h}const a=yt.lFrame=Va();return a.currentTNode=r,a.lView=t,!0}function oa(t){const r=Va(),s=t[_t];yt.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Va(){const t=yt.lFrame,r=null===t?null:t.child;return null===r?Nu(t):r}function Nu(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Ia(){const t=yt.lFrame;return yt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ol=Ia;function $c(){const t=Ia();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ds(){return yt.lFrame.selectedIndex}function Ou(t){yt.lFrame.selectedIndex=t}function si(){const t=yt.lFrame;return Hn(t.tView,t.selectedIndex)}let al=!0;function zc(){return al}function zo(t){al=t}function aa(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=t.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:P,ngAfterViewChecked:k,ngOnDestroy:H}=h;y&&(t.contentHooks??=[]).push(-s,y),w&&((t.contentHooks??=[]).push(s,w),(t.contentCheckHooks??=[]).push(s,w)),P&&(t.viewHooks??=[]).push(-s,P),k&&((t.viewHooks??=[]).push(s,k),(t.viewCheckHooks??=[]).push(s,k)),null!=H&&(t.destroyHooks??=[]).push(s,H)}}function La(t,r,s){Ta(t,r,3,s)}function Oi(t,r,s,a){(3&t[zt])===s&&Ta(t,r,s,a)}function zl(t,r){let s=t[zt];(3&s)===r&&(s&=8191,s+=1,t[zt]=s)}function Ta(t,r,s,a){const h=a??-1,y=r.length-1;let w=0;for(let P=void 0!==a?65535&t[js]:0;P<y;P++)if("number"==typeof r[P+1]){if(w=r[P],null!=a&&w>=a)break}else r[P]<0&&(t[js]+=65536),(w<h||-1==h)&&(Lr(t,s,r,P),t[js]=(4294901760&t[js])+P+2),P++}function ul(t,r){ct(4,t,r);const s=ur(null);try{r.call(t)}finally{ur(s),ct(5,t,r)}}function Lr(t,r,s,a){const l=s[a]<0,h=s[a+1],w=t[l?-s[a]:s[a]];l?t[zt]>>13<t[js]>>16&&(3&t[zt])===r&&(t[zt]+=8192,ul(w,h)):ul(w,h)}const wa=-1;class xi{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function la(t){return t!==wa}function qr(t){return 32767&t}function ca(t,r){let s=function Wo(t){return t>>16}(t),a=r;for(;s>0;)a=a[wi],s--;return a}let Ua=!0;function ou(t){const r=Ua;return Ua=t,r}const Da=255,da=5;let Wc=0;const Cs={};function au(t,r){const s=ll(t,r);if(-1!==s)return s;const a=r[_t];a.firstCreatePass&&(t.injectorIndex=r.length,ha(a.data,t),ha(r,null),ha(a.blueprint,null));const l=Ba(t,r),h=t.injectorIndex;if(la(l)){const y=qr(l),w=ca(l,r),P=w[_t].data;for(let k=0;k<8;k++)r[h+k]=w[y+k]|P[y+k]}return r[h+8]=l,h}function ha(t,r){t.push(0,0,0,0,0,0,0,0,r)}function ll(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Ba(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){if(a=Yc(l),null===a)return wa;if(s++,l=l[wi],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return wa}function cl(t,r,s){!function Co(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Li)&&(a=s[Li]),null==a&&(a=s[Li]=Wc++);const l=a&Da;r.data[t+(l>>da)]|=1<<l}(t,r,s)}function uu(t,r,s){if(s&sn.Optional||void 0!==t)return t;ye()}function ku(t,r,s,a){if(s&sn.Optional&&void 0===a&&(a=null),!(s&(sn.Self|sn.Host))){const l=t[Gr],h=Pt(void 0);try{return l?l.get(r,a,s&sn.Optional):fs(r,a,s&sn.Optional)}finally{Pt(h)}}return uu(a,0,s)}function lu(t,r,s,a=sn.Default,l){if(null!==t){if(2048&r[zt]&&!(a&sn.Self)){const y=function Kl(t,r,s,a,l){let h=t,y=r;for(;null!==h&&null!==y&&2048&y[zt]&&!(512&y[zt]);){const w=dl(h,y,s,a|sn.Self,Cs);if(w!==Cs)return w;let P=h.parent;if(!P){const k=y[ks];if(k){const H=k.get(s,Cs,a);if(H!==Cs)return H}P=Yc(y),y=y[wi]}h=P}return l}(t,r,s,a,Cs);if(y!==Cs)return y}const h=dl(t,r,s,a,Cs);if(h!==Cs)return h}return ku(r,s,a,l)}function dl(t,r,s,a,l){const h=function fh(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Li)?t[Li]:void 0;return"number"==typeof r?r>=0?r&Da:gh:r}(s);if("function"==typeof h){if(!qs(r,t,a))return a&sn.Host?uu(l,0,a):ku(r,s,a,l);try{let y;if(y=h(a),null!=y||a&sn.Optional)return y;ye()}finally{ol()}}else if("number"==typeof h){let y=null,w=ll(t,r),P=wa,k=a&sn.Host?r[Vn][mr]:null;for((-1===w||a&sn.SkipSelf)&&(P=-1===w?Ba(t,r):r[w+8],P!==wa&&Qc(a,!1)?(y=r[_t],w=qr(P),r=ca(P,r)):w=-1);-1!==w;){const H=r[_t];if(Kc(h,w,H.data)){const te=qc(w,r,s,y,a,k);if(te!==Cs)return te}P=r[w+8],P!==wa&&Qc(a,r[_t].data[w+8]===k)&&Kc(h,w,r)?(y=H,w=qr(P),r=ca(P,r)):w=-1}}return l}function qc(t,r,s,a,l,h){const y=r[_t],w=y.data[t+8],H=Ca(w,y,s,null==a?$i(w)&&Ua:a!=y&&0!=(3&w.type),l&sn.Host&&h===w);return null!==H?qo(r,y,H,w):Cs}function Ca(t,r,s,a,l){const h=t.providerIndexes,y=r.data,w=1048575&h,P=t.directiveStart,H=h>>20,pe=l?w+H:t.directiveEnd;for(let be=a?w:w+H;be<pe;be++){const Qe=y[be];if(be<P&&s===Qe||be>=P&&Qe.type===s)return be}if(l){const be=y[P];if(be&&ni(be)&&be.type===s)return P}return null}function qo(t,r,s,a){let l=t[s];const h=r.data;if(function yr(t){return t instanceof xi}(l)){const y=l;y.resolving&&function Rt(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new ht(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Xt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ot(t)}(h[s]));const w=ou(y.canSeeViewProviders);y.resolving=!0;const k=y.injectImpl?Pt(y.injectImpl):null;qs(t,a,sn.Default);try{l=t[s]=y.factory(void 0,h,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Yf(t,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:h}=r.type.prototype;if(a){const y=Wr(r);(s.preOrderHooks??=[]).push(t,y),(s.preOrderCheckHooks??=[]).push(t,y)}l&&(s.preOrderHooks??=[]).push(0-t,l),h&&((s.preOrderHooks??=[]).push(t,h),(s.preOrderCheckHooks??=[]).push(t,h))}(s,h[s],r)}finally{null!==k&&Pt(k),ou(w),y.resolving=!1,ol()}}return l}function Kc(t,r,s){return!!(s[r+(t>>da)]&1<<t)}function Qc(t,r){return!(t&sn.Self||t&sn.Host&&r)}class lr{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return lu(this._tNode,this._lView,r,Et(a),s)}}function gh(){return new lr(_r(),Ye())}function Kr(t){return Dr(()=>{const r=t.prototype.constructor,s=r[bi]||fa(r),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const h=l[bi]||fa(l);if(h&&h!==s)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function fa(t){return nt(t)?()=>{const r=fa(Me(t));return r&&r()}:Ci(t)}function Yc(t){const r=t[_t],s=r.type;return 2===s?r.declTNode:1===s?t[mr]:null}function cu(t){return function xu(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const h=s[l];if(jr(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(h===r)return s[l+1];l+=2}}}return null}(_r(),t)}const hu="__parameters__";function $a(t,r,s){return Dr(()=>{const a=function ja(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...h){if(this instanceof l)return a.apply(this,h),this;const y=new l(...h);return w.annotation=y,w;function w(P,k,H){const te=P.hasOwnProperty(hu)?P[hu]:Object.defineProperty(P,hu,{value:[]})[hu];for(;te.length<=H;)te.push(null);return(te[H]=te[H]||[]).push(y),P}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}function Ao(t,r){t.forEach(s=>Array.isArray(s)?Ao(s,r):r(s))}function fu(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Aa(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Ha(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function Qi(t,r,s){let a=pu(t,r);return a>=0?t[1|a]=s:(a=~a,function ba(t,r,s,a){let l=t.length;if(l==r)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>r;)t[l]=t[l-2],l--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Jc(t,r){const s=pu(t,r);if(s>=0)return t[1|s]}function pu(t,r){return function As(t,r,s){let a=0,l=t.length>>s;for(;l!==a;){const h=a+(l-a>>1),y=t[h<<s];if(r===y)return h<<s;y>r?l=h:a=h+1}return~(l<<s)}(t,r,1)}const Zl=qt($a("Optional"),8),D=qt($a("SkipSelf"),4);function Xl(t){return 128==(128&t.flags)}var tc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(tc||{});const lp=/^>|^->|<!--|-->|--!>|<!-$/g,fy=/(<|>)/g,py="\u200b$1\u200b";const sr=new Map;let lm=0;const Tl="__ngContext__";function ds(t,r){Rr(r)?(t[Tl]=r[lo],function Ah(t){sr.set(t[lo],t)}(r)):t[Tl]=r}let sd;function ju(t,r){return sd(t,r)}function od(t){const r=t[$n];return di(r)?r[$n]:r}function gp(t){return Na(t[Bs])}function rc(t){return Na(t[$r])}function Na(t){for(;null!==t&&!di(t);)t=t[$r];return t}function $u(t,r,s,a,l){if(null!=a){let h,y=!1;di(a)?h=a:Rr(a)&&(y=!0,a=a[Rn]);const w=rn(a);0===t&&null!==s?null==l?wl(r,s,w):bo(r,s,w,l||null,!0):1===t&&null!==s?bo(r,s,w,l||null,!0):2===t?function oc(t,r,s){const a=pa(t,r);a&&function wy(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,w,y):3===t&&r.destroyNode(w),null!=h&&function Rh(t,r,s,a,l){const h=s[vi];h!==rn(s)&&$u(r,t,a,h,l);for(let w=Fr;w<s.length;w++){const P=s[w];hd(P[_t],P,t,r,a,h)}}(r,t,h,s,l)}}function bh(t,r){return t.createComment(function Yi(t){return t.replace(lp,r=>r.replace(fy,py))}(r))}function ud(t,r,s){return t.createElement(r,s)}function _p(t,r){const s=t[Io],a=s.indexOf(r);wo(r),s.splice(a,1)}function sc(t,r){if(t.length<=Fr)return;const s=Fr+r,a=t[s];if(a){const l=a[uo];null!==l&&l!==t&&_p(l,a),r>0&&(t[s-1][$r]=a[$r]);const h=Aa(t,Fr+r);!function _m(t,r){hd(t,r,r[Jt],2,null,null),r[Rn]=null,r[mr]=null}(a[_t],a);const y=h[Di];null!==y&&y.detachView(h[_t]),a[$n]=null,a[$r]=null,a[zt]&=-129}return a}function Sh(t,r){if(!(256&r[zt])){const s=r[Jt];r[Fs]&&Hs(r[Fs]),r[is]&&Hs(r[is]),s.destroyNode&&hd(t,r,s,3,null,null),function ld(t){let r=t[Bs];if(!r)return yp(t[_t],t);for(;r;){let s=null;if(Rr(r))s=r[Bs];else{const a=r[Fr];a&&(s=a)}if(!s){for(;r&&!r[$r]&&r!==t;)Rr(r)&&yp(r[_t],r),r=r[$n];null===r&&(r=t),Rr(r)&&yp(r[_t],r),s=r&&r[$r]}r=s}}(r)}}function yp(t,r){if(!(256&r[zt])){r[zt]&=-129,r[zt]|=256,function Ty(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof xi)){const h=s[a+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const w=l[h[y]],P=h[y+1];ct(4,w,P);try{P.call(w)}finally{ct(5,w,P)}}else{ct(4,l,h);try{h.call(l)}finally{ct(5,l,h)}}}}}(t,r),function ym(t,r){const s=t.cleanup,a=r[ys];if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const y=s[h+3];y>=0?a[y]():a[-y].unsubscribe(),h+=2}else s[h].call(a[s[h+1]]);null!==a&&(r[ys]=null);const l=r[ti];if(null!==l){r[ti]=null;for(let h=0;h<l.length;h++)(0,l[h])()}}(t,r),1===r[_t].type&&r[Jt].destroy();const s=r[uo];if(null!==s&&di(r[$n])){s!==r[$n]&&_p(s,r);const a=r[Di];null!==a&&a.detachView(t)}!function gy(t){sr.delete(t[lo])}(r)}}function vp(t,r,s){return function vm(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Rn];{const{componentOffset:l}=a;if(l>-1){const{encapsulation:h}=t.data[a.directiveStart+l];if(h===Cr.None||h===Cr.Emulated)return null}return kt(a,s)}}(t,r.parent,s)}function bo(t,r,s,a,l){t.insertBefore(r,s,a,l)}function wl(t,r,s){t.appendChild(r,s)}function Ep(t,r,s,a,l){null!==a?bo(t,r,s,a,l):wl(t,r,s)}function pa(t,r){return t.parentNode(r)}function Im(t,r,s){return cd(t,r,s)}let yu,Nh,lc,cd=function Ip(t,r,s){return 40&t.type?kt(t,s):null};function Wa(t,r,s,a){const l=vp(t,a,r),h=r[Jt],w=Im(a.parent||r[mr],a,r);if(null!=l)if(Array.isArray(s))for(let P=0;P<s.length;P++)Ep(h,l,s[P],w,!1);else Ep(h,l,s,w,!1);void 0!==yu&&yu(h,a,r,s,l)}function vu(t,r){if(null!==r){const s=r.type;if(3&s)return kt(r,t);if(4&s)return dd(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return vu(t,a);{const l=t[r.index];return di(l)?dd(-1,l):rn(l)}}if(32&s)return ju(r,t)()||rn(t[r.index]);{const a=Tp(t,r);return null!==a?Array.isArray(a)?a[0]:vu(od(t[Vn]),a):vu(t,r.next)}}return null}function Tp(t,r){return null!==r?t[Vn][mr].projection[r.projection]:null}function dd(t,r){const s=Fr+t+1;if(s<r.length){const a=r[s],l=a[_t].firstChild;if(null!==l)return vu(a,l)}return r[vi]}function Ph(t,r,s,a,l,h,y){for(;null!=s;){const w=a[s.index],P=s.type;if(y&&0===r&&(w&&ds(rn(w),a),s.flags|=2),32!=(32&s.flags))if(8&P)Ph(t,r,s.child,a,l,h,!1),$u(r,t,l,w,h);else if(32&P){const k=ju(s,a);let H;for(;H=k();)$u(r,t,l,H,h);$u(r,t,l,w,h)}else 16&P?Dp(t,r,a,s,l,h):$u(r,t,l,w,h);s=y?s.projectionNext:s.next}}function hd(t,r,s,a,l,h){Ph(s,a,t.firstChild,r,l,h,!1)}function Dp(t,r,s,a,l,h){const y=s[Vn],P=y[mr].projection[a.projection];if(Array.isArray(P))for(let k=0;k<P.length;k++)$u(r,t,l,P[k],h);else{let k=P;const H=y[$n];Xl(a)&&(k.flags|=128),Ph(t,r,k,H,l,h,!0)}}function wm(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Cp(t,r,s){const{mergedAttrs:a,classes:l,styles:h}=s;null!==a&&_i(t,r,a),null!==l&&wm(t,r,l),null!==h&&function Dl(t,r,s){t.setAttribute(r,"style",s)}(t,r,h)}function Cm(t){Nh=t}function xh(t){return function gd(){if(void 0===lc&&(lc=null,gn.trustedTypes))try{lc=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lc}()?.createScriptURL(t)||t}class Sp{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qt})`}}function Eu(t){return t instanceof Sp?t.changingThisBreaksApplicationSecurity:t}function qa(t,r){const s=function md(t){return t instanceof Sp&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Qt})`)}return s===r}const cc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Sl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Sl||{});function jh(t){const r=qu();return r?r.sanitize(Sl.URL,t)||"":qa(t,"URL")?Eu(t):function Lh(t){return(t=String(t)).match(cc)?t:"unsafe:"+t}(ot(t))}function Ss(t){const r=qu();if(r)return xh(r.sanitize(Sl.RESOURCE_URL,t)||"");if(qa(t,"ResourceURL"))return xh(Eu(t));throw new ht(904,!1)}function $h(t,r,s){return function By(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Ss:jh}(r,s)(t)}function qu(){const t=Ye();return t&&t[ji].sanitizer}const Ed=new nn("ENVIRONMENT_INITIALIZER"),xp=new nn("INJECTOR",-1),Hh=new nn("INJECTOR_DEF_TYPES");class Id{get(r,s=Ee){if(s===Ee){const a=new Error(`NullInjectorError: No provider for ${et(r)}!`);throw a.name="NullInjectorError",a}return s}}function Gh(...t){return{\u0275providers:zh(0,t),\u0275fromNgModule:!0}}function zh(t,...r){const s=[],a=new Set;let l;const h=y=>{s.push(y)};return Ao(r,y=>{const w=y;qh(w,h,[],a)&&(l||=[],l.push(w))}),void 0!==l&&Wh(l,h),s}function Wh(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:l}=t[s];kp(l,h=>{r(h,a)})}}function qh(t,r,s,a){if(!(t=Me(t)))return!1;let l=null,h=Er(t);const y=!h&&an(t);if(h||y){if(y&&!y.standalone)return!1;l=t}else{const P=t.ngModule;if(h=Er(P),!h)return!1;l=P}const w=a.has(l);if(y){if(w)return!1;if(a.add(l),y.dependencies){const P="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const k of P)qh(k,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!w){let k;a.add(l);try{Ao(h.imports,H=>{qh(H,r,s,a)&&(k||=[],k.push(H))})}finally{}void 0!==k&&Wh(k,r)}if(!w){const k=Ci(l)||(()=>new l);r({provide:l,useFactory:k,deps:En},l),r({provide:Hh,useValue:l,multi:!0},l),r({provide:Ed,useValue:()=>ke(l),multi:!0},l)}const P=h.providers;if(null!=P&&!w){const k=t;kp(P,H=>{r(H,k)})}}}return l!==t&&void 0!==t.providers}function kp(t,r){for(let s of t)me(s)&&(s=s.\u0275providers),Array.isArray(s)?kp(s,r):r(s)}const Mm=We({provide:String,useValue:We});function Kh(t){return null!==t&&"object"==typeof t&&Mm in t}function Ku(t){return"function"==typeof t}const Yh=new nn("Set Injector scope."),Zh={},hc={};let Qu;function fc(){return void 0===Qu&&(Qu=new Id),Qu}class Ko{}class Pl extends Ko{get destroyed(){return this._destroyed}constructor(r,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Td(r,y=>this.processProvider(y)),this.records.set(xp,pc(void 0,this)),l.has("environment")&&this.records.set(Ko,pc(void 0,this));const h=this.records.get(Yh);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Hh.multi,En,sn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=wr(this),a=Pt(void 0);try{return r()}finally{wr(s),Pt(a)}}get(r,s=Ee,a=sn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Zr))return r[Zr](this);a=Et(a);const h=wr(this),y=Pt(void 0);try{if(!(a&sn.SkipSelf)){let P=this.records.get(r);if(void 0===P){const k=function km(t){return"function"==typeof t||"object"==typeof t&&t instanceof nn}(r)&&Gn(r);P=k&&this.injectableDefInScope(k)?pc(Jh(r),Zh):null,this.records.set(r,P)}if(null!=P)return this.hydrate(r,P)}return(a&sn.Self?fc():this.parent).get(r,s=a&sn.Optional&&s===Ee?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[lt]=w[lt]||[]).unshift(et(r)),h)throw w;return function nr(t,r,s,a){const l=t[lt];throw r[un]&&l.unshift(r[un]),t.message=function Nn(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=et(r);if(Array.isArray(r))l=r.map(et).join(" -> ");else if("object"==typeof r){let h=[];for(let y in r)if(r.hasOwnProperty(y)){let w=r[y];h.push(y+":"+("string"==typeof w?JSON.stringify(w):et(w)))}l=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace($t,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[lt]=null,t}(w,r,"R3InjectorError",this.source)}throw w}finally{Pt(y),wr(h)}}resolveInjectorInitializers(){const r=wr(this),s=Pt(void 0);try{const l=this.get(Ed.multi,En,sn.Self);for(const h of l)h()}finally{wr(r),Pt(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(et(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ht(205,!1)}processProvider(r){let s=Ku(r=Me(r))?r:Me(r&&r.provide);const a=function Hy(t){return Kh(t)?pc(void 0,t.useValue):pc(Xh(t),Zh)}(r);if(Ku(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=pc(void 0,Zh,!0),l.factory=()=>on(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Zh&&(s.value=hc,s.value=s.factory()),"object"==typeof s.value&&s.value&&function xm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Me(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Jh(t){const r=Gn(t),s=null!==r?r.factory:Ci(t);if(null!==s)return s;if(t instanceof nn)throw new ht(204,!1);if(t instanceof Function)return function Om(t){const r=t.length;if(r>0)throw Ha(r,"?"),new ht(204,!1);const s=function en(t){return t&&(t[dr]||t[Or])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new ht(204,!1)}function Xh(t,r,s){let a;if(Ku(t)){const l=Me(t);return Ci(l)||Jh(l)}if(Kh(t))a=()=>Me(t.useValue);else if(function Nm(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...on(t.deps||[]));else if(function Qh(t){return!(!t||!t.useExisting)}(t))a=()=>ke(Me(t.useExisting));else{const l=Me(t&&(t.useClass||t.provide));if(!function Fp(t){return!!t.deps}(t))return Ci(l)||Jh(l);a=()=>new l(...on(t.deps))}return a}function pc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Td(t,r){for(const s of t)Array.isArray(s)?Td(s,r):s&&me(s)?Td(s.\u0275providers,r):r(s)}const wd=new nn("AppId",{providedIn:"root",factory:()=>Dd}),Dd="ng",Cd=new nn("Platform Initializer"),Ad=new nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vp=new nn("AnimationModuleType"),Vm=new nn("CSP nonce",{providedIn:"root",factory:()=>function uc(){if(void 0!==Nh)return Nh;if(typeof document<"u")return document;throw new ht(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vc=(t,r,s)=>null;function Pd(t,r,s=!1){return vc(t,r,s)}class zp{}class Bm{}class $m{resolveComponentFactory(r){throw function Wp(t){const r=Error(`No component factory found for ${et(t)}.`);return r.ngComponent=t,r}(r)}}let wu=(()=>{class t{static#e=this.NULL=new $m}return t})();function qp(){return Tc(_r(),Ye())}function Tc(t,r){return new xd(kt(t,r))}let xd=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=qp}return t})();function Hm(t){return t instanceof xd?t.nativeElement:t}class Kp{}let Qy=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Qp(){const t=Ye(),s=Mr(_r().index,t);return(Rr(s)?s:t)[Jt]}()}return t})(),Yy=(()=>{class t{static#e=this.\u0275prov=Gt({token:t,providedIn:"root",factory:()=>null})}return t})();class rf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Gm=new rf("16.2.12"),kd={};function eg(t,r=null,s=null,a){const l=Ml(t,r,s,a);return l.resolveInjectorInitializers(),l}function Ml(t,r=null,s=null,a,l=new Set){const h=[s||En,Gh(t)];return a=a||("object"==typeof t?void 0:et(t)),new Pl(h,r||fc(),a||null,l)}let Oa=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ee;static#t=this.NULL=new Id;static create(s,a){if(Array.isArray(s))return eg({name:""},a,s,"");{const l=s.name??"";return eg({name:l},s.parent,s.providers,l)}}static#n=this.\u0275prov=Gt({token:t,providedIn:"any",factory:()=>ke(xp)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Ld(t){return t.ngOriginalError}class Qa{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Ld(r);for(;s&&Ld(s);)s=Ld(s);return s||null}}function Bd(t){return r=>{setTimeout(t,void 0,r)}}const Ya=class tg extends _.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let l=r,h=s||(()=>null),y=a;if(r&&"object"==typeof r){const P=r;l=P.next?.bind(P),h=P.error?.bind(P),y=P.complete?.bind(P)}this.__isAsync&&(h=Bd(h),l&&(l=Bd(l)),y&&(y=Bd(y)));const w=super.subscribe({next:l,error:h,complete:y});return r instanceof J.w0&&r.add(w),w}};function ng(...t){}class Ps{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ya(!1),this.onMicrotaskEmpty=new Ya(!1),this.onStable=new Ya(!1),this.onError=new Ya(!1),typeof Zone>"u")throw new ht(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Jy(){const t="function"==typeof gn.requestAnimationFrame;let r=gn[t?"requestAnimationFrame":"setTimeout"],s=gn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function tv(t){const r=()=>{!function ev(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(gn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,rg(t),t.isCheckStableRunning=!0,af(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),rg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,h,y,w)=>{if(function sg(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(w))return s.invokeTask(l,h,y,w);try{return Km(t),s.invokeTask(l,h,y,w)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&r(),uf(t)}},onInvoke:(s,a,l,h,y,w,P)=>{try{return Km(t),s.invoke(l,h,y,w,P)}finally{t.shouldCoalesceRunChangeDetection&&r(),uf(t)}},onHasTask:(s,a,l,h)=>{s.hasTask(l,h),a===l&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,rg(t),af(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,l,h)=>(s.handleError(l,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ps.isInAngularZone())throw new ht(909,!1)}static assertNotInAngularZone(){if(Ps.isInAngularZone())throw new ht(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+l,r,qm,ng,ng);try{return h.runTask(y,s,a)}finally{h.cancelTask(y)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const qm={};function af(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Km(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function uf(t){t._nesting--,af(t)}class ig{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ya,this.onMicrotaskEmpty=new Ya,this.onStable=new Ya,this.onError=new Ya}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}const lf=new nn("",{providedIn:"root",factory:Qm});function Qm(){const t=$e(Ps);let r=!0;return function Ie(...t){const r=(0,Pe.yG)(t),s=(0,Pe._6)(t,1/0),a=t;return a.length?1===a.length?(0,ge.Xf)(a[0]):(0,Te.J)(s)((0,Oe.D)(a,r)):ie.E}(new j.y(l=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{l.next(r),l.complete()})}),new j.y(l=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{Ps.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,l.next(!0))})})});const y=t.onUnstable.subscribe(()=>{Ps.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{l.next(!1)}))});return()=>{h.unsubscribe(),y.unsubscribe()}}).pipe(de()))}function cf(t){return t.ownerDocument}function Za(t){return t instanceof Function?t():t}let jd=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Gt({token:t,providedIn:"root",factory:()=>new t})}return t})();function $d(t){for(;t;){t[zt]|=64;const r=od(t);if(Ki(t)&&!r)return t;t=r}return null}const ff=new nn("",{providedIn:"root",factory:()=>!1});let gf=null;function mf(t,r){return t[r]??_f()}function n_(t,r){const s=_f();s.producerNode?.length&&(t[r]=gf,s.lView=t,gf=r_())}const cg={...iu,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{$d(t.lView)},lView:null};function r_(){return Object.create(cg)}function _f(){return gf??=r_(),gf}const bn={};function yf(t){dg(Bn(),Ye(),Ds()+t,!1)}function dg(t,r,s,a){if(!a)if(3==(3&r[zt])){const h=t.preOrderCheckHooks;null!==h&&La(r,h,s)}else{const h=t.preOrderHooks;null!==h&&Oi(r,h,0,s)}Ou(s)}function Sc(t,r=sn.Default){const s=Ye();return null===s?ke(t,r):lu(_r(),s,Me(t),r)}function i_(){throw new Error("invalid")}function vf(t,r,s,a,l,h,y,w,P,k,H){const te=r.blueprint.slice();return te[Rn]=l,te[zt]=140|a,(null!==k||t&&2048&t[zt])&&(te[zt]|=2048),hn(te),te[$n]=te[wi]=t,te[hr]=s,te[ji]=y||t&&t[ji],te[Jt]=w||t&&t[Jt],te[Gr]=P||t&&t[Gr]||null,te[mr]=h,te[lo]=function cm(){return lm++}(),te[vs]=H,te[ks]=k,te[Vn]=2==r.type?t[Vn]:te,te}function Ju(t,r,s,a,l){let h=t.data[r];if(null===h)h=function Hd(t,r,s,a,l){const h=Ea(),y=Ws(),P=t.data[r]=function gg(t,r,s,a,l,h){let y=r?r.injectorIndex:-1,w=0;return su()&&(w|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,s,r,a,l);return null===t.firstChild&&(t.firstChild=P),null!==h&&(y?null==h.child&&null!==P.parent&&(h.child=P):null===h.next&&(h.next=P,P.prev=h)),P}(t,r,s,a,l),function x(){return yt.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=a,h.attrs=l;const y=function Se(){const t=yt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return ws(h,!0),h}function Nl(t,r,s,a){if(0===s)return-1;const l=r.length;for(let h=0;h<s;h++)r.push(a),t.blueprint.push(a),t.data.push(null);return l}function s_(t,r,s,a,l){const h=mf(r,Fs),y=Ds(),w=2&a;try{Ou(-1),w&&r.length>Zt&&dg(t,r,Zt,!1),ct(w?2:0,l);const k=w?h:null,H=Kn(k);try{null!==k&&(k.dirty=!1),s(a,l)}finally{ro(k,H)}}finally{w&&null===r[Fs]&&n_(r,Fs),Ou(y),ct(w?3:1,l)}}function Pc(t,r,s){if(co(r)){const a=ur(null);try{const h=r.directiveEnd;for(let y=r.directiveStart;y<h;y++){const w=t.data[y];w.contentQueries&&w.contentQueries(1,s[y],y)}}finally{ur(a)}}}function fg(t,r,s){Nr()&&(function Rc(t,r,s,a){const l=s.directiveStart,h=s.directiveEnd;$i(s)&&function fv(t,r,s){const a=kt(r,t),l=pg(s);let y=16;s.signals?y=4096:s.onPush&&(y=64);const w=Sf(t,vf(t,l,null,y,a,r,null,t[ji].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=w}(r,s,t.data[l+s.componentOffset]),t.firstCreatePass||au(s,r),ds(a,r);const y=s.initialInputs;for(let w=l;w<h;w++){const P=t.data[w],k=qo(r,t,w,s);ds(k,r),null!==y&&pv(0,w-l,k,P,0,y),ni(P)&&(Mr(s.index,r)[hr]=qo(r,t,w,s))}}(t,r,s,kt(s,r)),64==(64&s.flags)&&Af(t,r,s))}function Ef(t,r,s=kt){const a=r.localNames;if(null!==a){let l=r.index+1;for(let h=0;h<a.length;h+=2){const y=a[h+1],w=-1===y?s(r,t):t[y];t[l++]=w}}}function pg(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Xu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Xu(t,r,s,a,l,h,y,w,P,k,H){const te=Zt+a,pe=te+l,be=function o_(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:bn);return s}(te,pe),Qe="function"==typeof k?k():k;return be[_t]={type:t,blueprint:be,template:s,queries:null,viewQuery:w,declTNode:r,data:be.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:P,consts:Qe,incompleteFirstPass:!1,ssrId:H}}let a_=t=>null;function wf(t,r,s,a){for(let l in t)if(t.hasOwnProperty(l)){s=null===s?{}:s;const h=t[l];null===a?Df(s,r,l,h):a.hasOwnProperty(l)&&Df(s,r,a[l],h)}return s}function Df(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function el(t,r,s,a){if(Nr()){const l=null===a?null:{"":-1},h=function cv(t,r){const s=t.directiveRegistry;let a=null,l=null;if(s)for(let h=0;h<s.length;h++){const y=s[h];if(ci(r,y.selectors,!1))if(a||(a=[]),ni(y))if(null!==y.findHostDirectiveDefs){const w=[];l=l||new Map,y.findHostDirectiveDefs(y,w,l),a.unshift(...w,y),Eg(t,r,w.length)}else a.unshift(y),Eg(t,r,0);else l=l||new Map,y.findHostDirectiveDefs?.(y,a,l),a.push(y)}return null===a?null:[a,l]}(t,s);let y,w;null===h?y=w=null:[y,w]=h,null!==y&&yg(t,r,s,y,l,w),l&&function c_(t,r,s){if(r){const a=t.localNames=[];for(let l=0;l<r.length;l+=2){const h=s[r[l+1]];if(null==h)throw new ht(-301,!1);a.push(r[l],h)}}}(s,a,l)}s.mergedAttrs=gr(s.mergedAttrs,s.attrs)}function yg(t,r,s,a,l,h){for(let k=0;k<a.length;k++)cl(au(s,r),t,a[k].type);!function d_(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let k=0;k<a.length;k++){const H=a[k];H.providersResolver&&H.providersResolver(H)}let y=!1,w=!1,P=Nl(t,r,a.length,null);for(let k=0;k<a.length;k++){const H=a[k];s.mergedAttrs=gr(s.mergedAttrs,H.hostAttrs),hv(t,s,r,P,H),dv(P,H,l),null!==H.contentQueries&&(s.flags|=4),(null!==H.hostBindings||null!==H.hostAttrs||0!==H.hostVars)&&(s.flags|=64);const te=H.type.prototype;!y&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),y=!0),!w&&(te.ngOnChanges||te.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),w=!0),P++}!function u_(t,r,s){const l=r.directiveEnd,h=t.data,y=r.attrs,w=[];let P=null,k=null;for(let H=r.directiveStart;H<l;H++){const te=h[H],pe=s?s.get(te):null,Qe=pe?pe.outputs:null;P=wf(te.inputs,H,P,pe?pe.inputs:null),k=wf(te.outputs,H,k,Qe);const rt=null===P||null===y||ao(r)?null:f_(P,H,y);w.push(rt)}null!==P&&(P.hasOwnProperty("class")&&(r.flags|=8),P.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=w,r.inputs=P,r.outputs=k}(t,s,h)}function Af(t,r,s){const a=s.directiveStart,l=s.directiveEnd,h=s.index,y=function Le(){return yt.lFrame.currentDirectiveIndex}();try{Ou(h);for(let w=a;w<l;w++){const P=t.data[w],k=r[w];Ae(w),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&lv(P,k)}}finally{Ou(-1),Ae(y)}}function lv(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Eg(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function dv(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;ni(r)&&(s[""]=t)}}function hv(t,r,s,a,l){t.data[a]=l;const h=l.factory||(l.factory=Ci(l.type)),y=new xi(h,ni(l),Sc);t.blueprint[a]=y,s[a]=y,function vg(t,r,s,a,l){const h=l.hostBindings;if(h){let y=t.hostBindingOpCodes;null===y&&(y=t.hostBindingOpCodes=[]);const w=~r.index;(function l_(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(y)!=w&&y.push(w),y.push(s,a,h)}}(t,r,a,Nl(t,s,l.hostVars,bn),l)}function Ja(t,r,s,a,l,h){const y=kt(t,r);!function Ig(t,r,s,a,l,h,y){if(null==h)t.removeAttribute(r,l,s);else{const w=null==y?ot(h):y(h,a||"",l);t.setAttribute(r,l,w,s)}}(r[Jt],y,h,t.value,s,a,l)}function pv(t,r,s,a,l,h){const y=h[r];if(null!==y)for(let w=0;w<y.length;)h_(a,s,y[w++],y[w++],y[w++])}function h_(t,r,s,a,l){const h=ur(null);try{const y=t.inputTransforms;null!==y&&y.hasOwnProperty(a)&&(l=y[a].call(r,l)),null!==t.setInput?t.setInput(r,l,s,a):r[a]=l}finally{ur(h)}}function f_(t,r,s){let a=null,l=0;for(;l<s.length;){const h=s[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const y=t[h];for(let w=0;w<y.length;w+=2)if(y[w]===r){a.push(h,y[w+1],s[l+1]);break}}l+=2}else l+=2;else l+=4}return a}function Tg(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function bf(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const h=s[a+1];if(-1!==h){const y=t.data[h];xn(s[a]),y.contentQueries(2,r[h],h)}}}function Sf(t,r){return t[Bs]?t[Eo][$r]=r:t[Bs]=r,t[Eo]=r,r}function Pf(t,r,s){xn(0);const a=ur(null);try{r(t,s)}finally{ur(a)}}function Gd(t){return t[ys]||(t[ys]=[])}function Xn(t){return t.cleanup||(t.cleanup=[])}function Dg(t,r){const s=t[Gr],a=s?s.get(Qa,null):null;a&&a.handleError(r)}function Ol(t,r,s,a,l){for(let h=0;h<s.length;){const y=s[h++],w=s[h++];h_(t.data[y],r[y],a,w,l)}}function Ks(t,r){const s=Mr(r,t),a=s[_t];!function Ji(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const l=s[Rn];null!==l&&null===s[vs]&&(s[vs]=Pd(l,s[Gr])),ga(a,s,s[hr])}function ga(t,r,s){oa(r);try{const a=t.viewQuery;null!==a&&Pf(1,a,s);const l=t.template;null!==l&&s_(t,r,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bf(t,r),t.staticViewQueries&&Pf(2,t.viewQuery,s);const h=t.components;null!==h&&function mv(t,r){for(let s=0;s<r.length;s++)Ks(t,r[s])}(r,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[zt]&=-5,$c()}}let _v=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,l){const h=typeof Zone>"u"?null:Zone.current,y=function Nt(t,r,s){const a=Object.create(wt);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const l=y=>{a.cleanupFn=y};return a.ref={notify:()=>To(a),run:()=>{if(a.dirty=!1,a.hasRun&&!ka(a))return;a.hasRun=!0;const y=Kn(a);try{a.cleanupFn(),a.cleanupFn=Vt,a.fn(l)}finally{ro(a,y)}},cleanup:()=>a.cleanupFn()},a.ref}(s,k=>{this.all.has(k)&&this.queue.set(k,h)},l);let w;this.all.add(y),y.notify();const P=()=>{y.cleanup(),w?.(),this.all.delete(y),this.queue.delete(y)};return w=a?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Gt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Cg(t,r,s){let a=s?t.styles:null,l=s?t.classes:null,h=0;if(null!==r)for(let y=0;y<r.length;y++){const w=r[y];"number"==typeof w?h=w:1==h?l=ce(l,w):2==h&&(a=ce(a,w+": "+r[++y]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}function Mc(t,r,s,a,l=!1){for(;null!==s;){const h=r[s.index];null!==h&&a.push(rn(h)),di(h)&&g_(h,a);const y=s.type;if(8&y)Mc(t,r,s.child,a);else if(32&y){const w=ju(s,r);let P;for(;P=w();)a.push(P)}else if(16&y){const w=Tp(r,s);if(Array.isArray(w))a.push(...w);else{const P=od(r[Vn]);Mc(P[_t],P,w,a,!0)}}s=l?s.projectionNext:s.next}return a}function g_(t,r){for(let s=Fr;s<t.length;s++){const a=t[s],l=a[_t].firstChild;null!==l&&Mc(a[_t],a,l,r)}t[vi]!==t[Rn]&&r.push(t[vi])}function Nc(t,r,s,a=!0){const l=r[ji],h=l.rendererFactory,y=l.afterRenderEventManager;h.begin?.(),y?.begin();try{oi(t,r,t.template,s)}catch(P){throw a&&Dg(r,P),P}finally{h.end?.(),l.effectManager?.flush(),y?.end()}}function oi(t,r,s,a){const l=r[zt];if(256!=(256&l)){r[ji].effectManager?.flush(),oa(r);try{hn(r),function S(t){return yt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&s_(t,r,s,2,a);const y=3==(3&l);if(y){const k=t.preOrderCheckHooks;null!==k&&La(r,k,null)}else{const k=t.preOrderHooks;null!==k&&Oi(r,k,0,null),zl(r,0)}if(function vv(t){for(let r=gp(t);null!==r;r=rc(r)){if(!r[$s])continue;const s=r[Io];for(let a=0;a<s.length;a++){pi(s[a])}}}(r),yv(r,2),null!==t.contentQueries&&bf(t,r),y){const k=t.contentCheckHooks;null!==k&&La(r,k)}else{const k=t.contentHooks;null!==k&&Oi(r,k,1),zl(r,1)}!function hg(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=mf(r,is);try{for(let l=0;l<s.length;l++){const h=s[l];if(h<0)Ou(~h);else{const y=h,w=s[++l],P=s[++l];re(w,y),a.dirty=!1;const k=Kn(a);try{P(2,r[y])}finally{ro(a,k)}}}}finally{null===r[is]&&n_(r,is),Ou(-1)}}(t,r);const w=t.components;null!==w&&Ev(r,w,0);const P=t.viewQuery;if(null!==P&&Pf(2,P,a),y){const k=t.viewCheckHooks;null!==k&&La(r,k)}else{const k=t.viewHooks;null!==k&&Oi(r,k,2),zl(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[zt]&=-73,wo(r)}finally{$c()}}}function yv(t,r){for(let s=gp(t);null!==s;s=rc(s))for(let a=Fr;a<s.length;a++)Ag(s[a],r)}function Xi(t,r,s){Ag(Mr(r,t),s)}function Ag(t,r){if(!function so(t){return 128==(128&t[zt])}(t))return;const s=t[_t],a=t[zt];if(80&a&&0===r||1024&a||2===r)oi(s,t,s.template,t[hr]);else if(t[Hr]>0){yv(t,1);const l=s.components;null!==l&&Ev(t,l,1)}}function Ev(t,r,s){for(let a=0;a<r.length;a++)Xi(t,r[a],s)}class Rf{get rootNodes(){const r=this._lView,s=r[_t];return Mc(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hr]}set context(r){this._lView[hr]=r}get destroyed(){return 256==(256&this._lView[zt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[$n];if(di(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(sc(r,a),Aa(s,a))}this._attachedToViewContainer=!1}Sh(this._lView[_t],this._lView)}onDestroy(r){!function Lt(t,r){if(256==(256&t[zt]))throw new ht(911,!1);null===t[ti]&&(t[ti]=[]),t[ti].push(r)}(this._lView,r)}markForCheck(){$d(this._cdRefInjectingView||this._lView)}detach(){this._lView[zt]&=-129}reattach(){this._lView[zt]|=128}detectChanges(){Nc(this._lView[_t],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ht(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ey(t,r){hd(t,r,r[Jt],2,null,null)}(this._lView[_t],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ht(902,!1);this._appRef=r}}class m_ extends Rf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Nc(r[_t],r,r[hr],!1)}checkNoChanges(){}get context(){return null}}class Iv extends wu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=an(r);return new Mf(s,this.ngModule)}}function Tv(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class CI{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=Et(a);const l=this.injector.get(r,kd,a);return l!==kd||s===kd?l:this.parentInjector.get(r,s,a)}}class Mf extends Bm{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=Tv(r.inputs);if(null!==s)for(const l of a)s.hasOwnProperty(l.propName)&&(l.transform=s[l.propName]);return a}get outputs(){return Tv(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function vo(t){return t.map(Ns).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,l){let h=(l=l||this.ngModule)instanceof Ko?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new CI(r,h):r,w=y.get(Kp,null);if(null===w)throw new ht(407,!1);const te={rendererFactory:w,sanitizer:y.get(Yy,null),effectManager:y.get(_v,null),afterRenderEventManager:y.get(jd,null)},pe=w.createRenderer(null,this.componentDef),be=this.componentDef.selectors[0][0]||"div",Qe=a?function If(t,r,s,a){const h=a.get(ff,!1)||s===Cr.ShadowDom,y=t.selectRootElement(r,h);return function sv(t){a_(t)}(y),y}(pe,a,this.componentDef.encapsulation,y):ud(pe,be,function DI(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(be)),Wt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Xe=null;null!==Qe&&(Xe=Pd(Qe,y,!0));const Sn=Xu(0,null,null,1,0,null,null,null,null,null,null),Yn=vf(null,Sn,null,Wt,null,null,te,pe,y,null,Xe);let ai,ya;oa(Yn);try{const Ul=this.componentDef;let Kf,hI=null;Ul.findHostDirectiveDefs?(Kf=[],hI=new Map,Ul.findHostDirectiveDefs(Ul,Kf,hI),Kf.push(Ul)):Kf=[Ul];const rb=function bI(t,r){const s=t[_t],a=Zt;return t[a]=r,Ju(s,a,2,"#host",null)}(Yn,Qe),ib=function __(t,r,s,a,l,h,y){const w=l[_t];!function zd(t,r,s,a){for(const l of t)r.mergedAttrs=gr(r.mergedAttrs,l.hostAttrs);null!==r.mergedAttrs&&(Cg(r,r.mergedAttrs,!0),null!==s&&Cp(a,s,r))}(a,t,r,y);let P=null;null!==r&&(P=Pd(r,l[Gr]));const k=h.rendererFactory.createRenderer(r,s);let H=16;s.signals?H=4096:s.onPush&&(H=64);const te=vf(l,pg(s),null,H,l[t.index],t,h,k,null,null,P);return w.firstCreatePass&&Eg(w,t,a.length-1),Sf(l,te),l[t.index]=te}(rb,Qe,Ul,Kf,Yn,te,pe);ya=Hn(Sn,Zt),Qe&&function xl(t,r,s,a){if(a)_i(t,s,["ng-version",Gm.full]);else{const{attrs:l,classes:h}=function Gi(t){const r=[],s=[];let a=1,l=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===l?""!==h&&r.push(h,t[++a]):8===l&&s.push(h);else{if(!gs(l))break;l=h}a++}return{attrs:r,classes:s}}(r.selectors[0]);l&&_i(t,s,l),h&&h.length>0&&wm(t,s,h.join(" "))}}(pe,Ul,Qe,a),void 0!==s&&function Oc(t,r,s){const a=t.projection=[];for(let l=0;l<r.length;l++){const h=s[l];a.push(null!=h?Array.from(h):null)}}(ya,this.ngContentSelectors,s),ai=function wv(t,r,s,a,l,h){const y=_r(),w=l[_t],P=kt(y,l);yg(w,l,y,s,null,a);for(let H=0;H<s.length;H++)ds(qo(l,w,y.directiveStart+H,y),l);Af(w,l,y),P&&ds(P,l);const k=qo(l,w,y.directiveStart+y.componentOffset,y);if(t[hr]=l[hr]=k,null!==h)for(const H of h)H(k,r);return Pc(w,y,t),k}(ib,Ul,Kf,hI,Yn,[SI]),ga(Sn,Yn,null)}finally{$c()}return new AI(this.componentType,ai,Tc(ya,Yn),Yn,ya)}}class AI extends zp{constructor(r,s,a,l,h){super(),this.location=a,this._rootLView=l,this._tNode=h,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new m_(l),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const h=this._rootLView;Ol(h[_t],h,l,r,s),this.previousInputValues.set(r,s),$d(Mr(this._tNode.index,h))}}get injector(){return new lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function SI(){const t=_r();aa(Ye()[_t],t)}function Wd(t){let r=function xc(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let l;if(ni(t))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ht(903,!1);l=r.\u0275dir}if(l){if(s){a.push(l);const y=t;y.inputs=Nf(t.inputs),y.inputTransforms=Nf(t.inputTransforms),y.declaredInputs=Nf(t.declaredInputs),y.outputs=Nf(t.outputs);const w=l.hostBindings;w&&Of(t,w);const P=l.viewQuery,k=l.contentQueries;if(P&&y_(t,P),k&&v_(t,k),St(t.inputs,l.inputs),St(t.declaredInputs,l.declaredInputs),St(t.outputs,l.outputs),null!==l.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),St(y.inputTransforms,l.inputTransforms)),ni(l)&&l.data.animation){const H=t.data;H.animation=(H.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let y=0;y<h.length;y++){const w=h[y];w&&w.ngInherit&&w(t),w===Wd&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Dv(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=r+=l.hostVars,l.hostAttrs=gr(l.hostAttrs,s=gr(s,l.hostAttrs))}}(a)}function Nf(t){return t===Ar?{}:t===En?[]:t}function y_(t,r){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function v_(t,r){const s=t.contentQueries;t.contentQueries=s?(a,l,h)=>{r(a,l,h),s(a,l,h)}:r}function Of(t,r){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}function Pg(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const l=r[a];Array.isArray(l)&&l[2]&&(s[a]=l[2])}t.inputTransforms=s}function Kd(t){return!!kf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function kf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Rs(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Mg(t,r,s,a){const l=Ye();return Rs(l,v(),r)&&(Bn(),Ja(si(),l,t,r,s,a)),Mg}function Vf(t,r,s,a,l,h,y,w){const P=Ye(),k=Bn(),H=t+Zt,te=k.firstCreatePass?function oh(t,r,s,a,l,h,y,w,P){const k=r.consts,H=Ju(r,t,4,y||null,Ts(k,w));el(r,s,H,Ts(k,P)),aa(r,H);const te=H.tView=Xu(2,H,a,l,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,k,null);return null!==r.queries&&(r.queries.template(r,H),te.queries=r.queries.embeddedTView(H)),H}(H,k,P,r,s,a,l,h,y):k.data[H];ws(te,!1);const pe=Bv(k,P,te,t);zc()&&Wa(k,P,pe,te),ds(pe,P),Sf(P,P[H]=Tg(pe,P,pe,te)),qi(te)&&fg(k,P,te),null!=y&&Ef(P,te,w)}let Bv=function P_(t,r,s,a){return zo(!0),r[Jt].createComment("")};function R_(t){return Sr(function Mu(){return yt.lFrame.contextLView}(),Zt+t)}function M_(t,r,s){const a=Ye();return Rs(a,v(),r)&&function yo(t,r,s,a,l,h,y,w){const P=kt(r,s);let H,k=r.inputs;!w&&null!=k&&(H=k[a])?(Ol(t,s,H,a,l),$i(r)&&function Cf(t,r){const s=Mr(r,t);16&s[zt]||(s[zt]|=64)}(s,r.index)):3&r.type&&(a=function mg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=y?y(l,r.value||"",a):l,h.setProperty(P,a,l))}(Bn(),si(),a,t,r,a[Jt],s,!1),M_}function N_(t,r,s,a,l){const y=l?"class":"style";Ol(t,s,r.inputs[y],y,a)}function Vg(t,r,s,a){const l=Ye(),h=Bn(),y=Zt+t,w=l[Jt],P=h.firstCreatePass?function VI(t,r,s,a,l,h){const y=r.consts,P=Ju(r,t,2,a,Ts(y,l));return el(r,s,P,Ts(y,h)),null!==P.attrs&&Cg(P,P.attrs,!1),null!==P.mergedAttrs&&Cg(P,P.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,P),P}(y,h,l,r,s,a):h.data[y],k=O_(h,l,P,w,r,t);l[y]=k;const H=qi(P);return ws(P,!0),Cp(w,k,P),32!=(32&P.flags)&&zc()&&Wa(h,l,k,P),0===function vt(){return yt.lFrame.elementDepthCount}()&&ds(k,l),function $o(){yt.lFrame.elementDepthCount++}(),H&&(fg(h,l,P),Pc(h,P,l)),null!==a&&Ef(l,P),Vg}function Lf(){let t=_r();Ws()?Ru():(t=t.parent,ws(t,!1));const r=t;(function Ho(t){return yt.skipHydrationRootTNode===t})(r)&&function $l(){yt.skipHydrationRootTNode=null}(),function Bl(){yt.lFrame.elementDepthCount--}();const s=Bn();return s.firstCreatePass&&(aa(s,t),co(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Wl(t){return 0!=(8&t.flags)}(r)&&N_(s,r,Ye(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function hh(t){return 0!=(16&t.flags)}(r)&&N_(s,r,Ye(),r.stylesWithoutHost,!1),Lf}function Lg(t,r,s,a){return Vg(t,r,s,a),Lf(),Lg}let O_=(t,r,s,a,l,h)=>(zo(!0),ud(a,l,function Gl(){return yt.lFrame.currentNamespace}()));function Vl(t,r,s){const a=Ye(),l=Bn(),h=t+Zt,y=l.firstCreatePass?function zv(t,r,s,a,l){const h=r.consts,y=Ts(h,a),w=Ju(r,t,8,"ng-container",y);return null!==y&&Cg(w,y,!0),el(r,s,w,Ts(h,l)),null!==r.queries&&r.queries.elementStart(r,w),w}(h,l,a,r,s):l.data[h];ws(y,!0);const w=Wv(l,a,y,t);return a[h]=w,zc()&&Wa(l,a,w,y),ds(w,a),qi(y)&&(fg(l,a,y),Pc(l,y,a)),null!=s&&Ef(a,y),Vl}function Uf(){let t=_r();const r=Bn();return Ws()?Ru():(t=t.parent,ws(t,!1)),r.firstCreatePass&&(aa(r,t),co(t)&&r.queries.elementEnd(t)),Uf}function x_(t,r,s){return Vl(t,r,s),Uf(),x_}let Wv=(t,r,s,a)=>(zo(!0),bh(r[Jt],""));function k_(){return Ye()}function F_(t){return!!t&&"function"==typeof t.then}function Kv(t){return!!t&&"function"==typeof t.subscribe}function V_(t,r,s,a){const l=Ye(),h=Bn(),y=_r();return function Yv(t,r,s,a,l,h,y){const w=qi(a),k=t.firstCreatePass&&Xn(t),H=r[hr],te=Gd(r);let pe=!0;if(3&a.type||y){const rt=kt(a,r),Dt=y?y(rt):rt,Wt=te.length,Xe=y?Yn=>y(rn(Yn[a.index])):a.index;let Sn=null;if(!y&&w&&(Sn=function Qv(t,r,s,a){const l=t.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const y=l[h];if(y===s&&l[h+1]===a){const w=r[ys],P=l[h+2];return w.length>P?w[P]:null}"string"==typeof y&&(h+=2)}return null}(t,r,l,a.index)),null!==Sn)(Sn.__ngLastListenerFn__||Sn).__ngNextListenerFn__=h,Sn.__ngLastListenerFn__=h,pe=!1;else{h=Jv(a,r,H,h,!1);const Yn=s.listen(Dt,l,h);te.push(h,Yn),k&&k.push(l,Xe,Wt,Wt+1)}}else h=Jv(a,r,H,h,!1);const be=a.outputs;let Qe;if(pe&&null!==be&&(Qe=be[l])){const rt=Qe.length;if(rt)for(let Dt=0;Dt<rt;Dt+=2){const ai=r[Qe[Dt]][Qe[Dt+1]].subscribe(h),ya=te.length;te.push(h,ai),k&&k.push(l,a.index,ya,-(ya+1))}}}(h,l,l[Jt],y,t,r,a),V_}function Zv(t,r,s,a){try{return ct(6,r,s),!1!==s(a)}catch(l){return Dg(t,l),!1}finally{ct(7,r,s)}}function Jv(t,r,s,a,l){return function h(y){if(y===Function)return a;$d(t.componentOffset>-1?Mr(t.index,r):r);let P=Zv(r,s,a,y),k=h.__ngNextListenerFn__;for(;k;)P=Zv(r,s,k,y)&&P,k=k.__ngNextListenerFn__;return l&&!1===P&&y.preventDefault(),P}}function Xv(t=1){return function tm(t){return(yt.lFrame.contextLView=function Qf(t,r){for(;t>0;)r=r[wi],t--;return r}(t,yt.lFrame.contextLView))[hr]}(t)}function L_(t,r){let s=null;const a=function Mo(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(t);for(let l=0;l<r.length;l++){const h=r[l];if("*"!==h){if(null===a?ci(t,h,!0):No(a,h))return l}else s=l}return s}function Bg(t){const r=Ye()[Vn][mr];if(!r.projection){const a=r.projection=Ha(t?t.length:1,null),l=a.slice();let h=r.child;for(;null!==h;){const y=t?L_(h,t):0;null!==y&&(l[y]?l[y].projectionNext=h:a[y]=h,l[y]=h),h=h.next}}}function eE(t,r=0,s){const a=Ye(),l=Bn(),h=Ju(l,Zt+t,16,null,s||null);null===h.projection&&(h.projection=r),Ru(),(!a[vs]||su())&&32!=(32&h.flags)&&function Tm(t,r,s){Dp(r[Jt],0,r,s,vp(t,s,r),Im(s.parent||r[mr],s,r))}(l,a,h)}function $f(t,r){return t<<17|r<<2}function rl(t){return t>>17&32767}function H_(t){return 2|t}function Bc(t){return(131068&t)>>2}function G_(t,r){return-131069&t|r<<2}function z_(t){return 1|t}function rE(t,r,s,a,l){const h=t[s+1],y=null===r;let w=a?rl(h):Bc(h),P=!1;for(;0!==w&&(!1===P||y);){const H=t[w+1];iE(t[w],r)&&(P=!0,t[w+1]=a?z_(H):H_(H)),w=a?rl(H):Bc(H)}P&&(t[s+1]=a?H_(h):z_(h))}function iE(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&pu(t,r)>=0}const Us={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sE(t){return t.substring(Us.key,Us.keyEnd)}function W_(t,r){const s=Us.textEnd;return s===r?-1:(r=Us.keyEnd=function WI(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,Us.key=r,s),uh(t,r,s))}function uh(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function K_(t,r,s){return nu(t,r,s,!1),K_}function $g(t,r){return nu(t,r,null,!0),$g}function dE(t){!function ru(t,r,s,a){const l=Bn(),h=R(2);l.firstUpdatePass&&fE(l,null,h,a);const y=Ye();if(s!==bn&&Rs(y,h,s)){const w=l.data[Ds()];if(_E(w,a)&&!hE(l,h)){let P=a?w.classesWithoutHost:w.stylesWithoutHost;null!==P&&(s=ce(P,s||"")),N_(l,w,y,s,a)}else!function eT(t,r,s,a,l,h,y,w){l===bn&&(l=En);let P=0,k=0,H=0<l.length?l[0]:null,te=0<h.length?h[0]:null;for(;null!==H||null!==te;){const pe=P<l.length?l[P+1]:void 0,be=k<h.length?h[k+1]:void 0;let rt,Qe=null;H===te?(P+=2,k+=2,pe!==be&&(Qe=te,rt=be)):null===te||null!==H&&H<te?(P+=2,Qe=H):(k+=2,Qe=te,rt=be),null!==Qe&&gE(t,r,s,a,Qe,rt,y,w),H=P<l.length?l[P]:null,te=k<h.length?h[k]:null}}(l,w,y,y[Jt],y[h+1],y[h+1]=function JI(t,r,s){if(null==s||""===s)return En;const a=[],l=Eu(s);if(Array.isArray(l))for(let h=0;h<l.length;h++)t(a,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&t(a,h,l[h]);else"string"==typeof l&&r(a,l);return a}(t,r,s),a,h)}}(XI,Su,t,!0)}function Su(t,r){for(let s=function oE(t){return function q_(t){Us.key=0,Us.keyEnd=0,Us.value=0,Us.valueEnd=0,Us.textEnd=t.length}(t),W_(t,uh(t,0,Us.textEnd))}(r);s>=0;s=W_(r,s))Qi(t,sE(r),!0)}function nu(t,r,s,a){const l=Ye(),h=Bn(),y=R(2);h.firstUpdatePass&&fE(h,t,y,a),r!==bn&&Rs(l,y,r)&&gE(h,h.data[Ds()],l,l[Jt],t,l[y+1]=function tT(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=et(Eu(t)))),t}(r,s),a,y)}function hE(t,r){return r>=t.expandoStartIndex}function fE(t,r,s,a){const l=t.data;if(null===l[s+1]){const h=l[Ds()],y=hE(t,s);_E(h,a)&&null===r&&!y&&(r=!1),r=function QI(t,r,s,a){const l=function It(t){const r=yt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let h=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=Hf(s=Q_(null,t,r,s,a),r.attrs,a),h=null);else{const y=r.directiveStylingLast;if(-1===y||t[y]!==l)if(s=Q_(l,t,r,s,a),null===h){let P=function pE(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Bc(a))return t[rl(a)]}(t,r,a);void 0!==P&&Array.isArray(P)&&(P=Q_(null,t,r,P[1],a),P=Hf(P,r.attrs,a),function YI(t,r,s,a){t[rl(s?r.classBindings:r.styleBindings)]=a}(t,r,a,P))}else h=function ZI(t,r,s){let a;const l=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<l;h++)a=Hf(a,t[h].hostAttrs,s);return Hf(a,r.attrs,s)}(t,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(l,h,r,a),function $I(t,r,s,a,l,h){let y=h?r.classBindings:r.styleBindings,w=rl(y),P=Bc(y);t[a]=s;let H,k=!1;if(Array.isArray(s)?(H=s[1],(null===H||pu(s,H)>0)&&(k=!0)):H=s,l)if(0!==P){const pe=rl(t[w+1]);t[a+1]=$f(pe,w),0!==pe&&(t[pe+1]=G_(t[pe+1],a)),t[w+1]=function BI(t,r){return 131071&t|r<<17}(t[w+1],a)}else t[a+1]=$f(w,0),0!==w&&(t[w+1]=G_(t[w+1],a)),w=a;else t[a+1]=$f(P,0),0===w?w=a:t[P+1]=G_(t[P+1],a),P=a;k&&(t[a+1]=H_(t[a+1])),rE(t,H,a,!0),rE(t,H,a,!1),function HI(t,r,s,a,l){const h=l?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof r&&pu(h,r)>=0&&(s[a+1]=z_(s[a+1]))}(r,H,t,a,h),y=$f(w,P),h?r.classBindings=y:r.styleBindings=y}(l,h,r,s,y,a)}}function Q_(t,r,s,a,l){let h=null;const y=s.directiveEnd;let w=s.directiveStylingLast;for(-1===w?w=s.directiveStart:w++;w<y&&(h=r[w],a=Hf(a,h.hostAttrs,l),h!==t);)w++;return null!==t&&(s.directiveStylingLast=w),a}function Hf(t,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let h=0;h<r.length;h++){const y=r[h];"number"==typeof y?l=y:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Qi(t,y,!!s||r[++h]))}return void 0===t?null:t}function XI(t,r,s){const a=String(r);""!==a&&!a.includes(" ")&&Qi(t,a,s)}function gE(t,r,s,a,l,h,y,w){if(!(3&r.type))return;const P=t.data,k=P[w+1],H=function jI(t){return 1==(1&t)}(k)?mE(P,r,s,l,Bc(k),y):void 0;Hg(H)||(Hg(h)||function nE(t){return 2==(2&t)}(k)&&(h=mE(P,null,s,l,w,y)),function fd(t,r,s,a,l){if(r)l?t.addClass(s,a):t.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:tc.DashCase;null==l?t.removeStyle(s,a,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=tc.Important),t.setStyle(s,a,l,h))}}(a,y,xt(Ds(),s),l,h))}function mE(t,r,s,a,l,h){const y=null===r;let w;for(;l>0;){const P=t[l],k=Array.isArray(P),H=k?P[1]:P,te=null===H;let pe=s[l+1];pe===bn&&(pe=te?En:void 0);let be=te?Jc(pe,a):H===a?pe:void 0;if(k&&!Hg(be)&&(be=Jc(P,a)),Hg(be)&&(w=be,y))return w;const Qe=t[l+1];l=y?rl(Qe):Bc(Qe)}if(null!==r){let P=h?r.residualClasses:r.residualStyles;null!=P&&(w=Jc(P,a))}return w}function Hg(t){return void 0!==t}function _E(t,r){return 0!=(t.flags&(r?8:16))}function yE(t,r=""){const s=Ye(),a=Bn(),l=t+Zt,h=a.firstCreatePass?Ju(a,l,1,r,null):a.data[l],y=vE(a,s,h,r,t);s[l]=y,zc()&&Wa(a,s,y,h),ws(h,!1)}let vE=(t,r,s,a,l)=>(zo(!0),function ad(t,r){return t.createText(r)}(r[Jt],a));function Z_(t){return Gg("",t,""),Z_}function Gg(t,r,s){const a=Ye(),l=function Fl(t,r,s,a){return Rs(t,v(),s)?r+ot(s)+a:bn}(a,t,r,s);return l!==bn&&function Cu(t,r,s){const a=xt(r,t);!function ic(t,r,s){t.setValue(r,s)}(t[Jt],a,s)}(a,Ds(),l),Gg}const ft=void 0;var yn=["en",[["a","p"],["AM","PM"],ft],[["AM","PM"],ft,ft],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ft,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ft,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ft,"{1} 'at' {0}",ft],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dn(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let tn={};function Ur(t){const r=function M0(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=Qo(r);if(s)return s;const a=r.split("-")[0];if(s=Qo(a),s)return s;if("en"===a)return yn;throw new ht(701,!1)}function hs(t){return Ur(t)[Ll.PluralCase]}function Qo(t){return t in tn||(tn[t]=gn.ng&&gn.ng.common&&gn.ng.common.locales&&gn.ng.common.locales[t]),tn[t]}var Ll=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ll||{});const Gf="en-US";let gT=Gf;function OE(t,r,s,a,l){if(t=Me(t),Array.isArray(t))for(let h=0;h<t.length;h++)OE(t[h],r,s,a,l);else{const h=Bn(),y=Ye(),w=_r();let P=Ku(t)?t:Me(t.provide);const k=Xh(t),H=1048575&w.providerIndexes,te=w.directiveStart,pe=w.providerIndexes>>20;if(Ku(t)||!t.multi){const be=new xi(k,l,Sc),Qe=kE(P,r,l?H:H+pe,te);-1===Qe?(cl(au(w,y),h,P),xE(h,t,r.length),r.push(P),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),s.push(be),y.push(be)):(s[Qe]=be,y[Qe]=be)}else{const be=kE(P,r,H+pe,te),Qe=kE(P,r,H,H+pe),Dt=Qe>=0&&s[Qe];if(l&&!Dt||!l&&!(be>=0&&s[be])){cl(au(w,y),h,P);const Wt=function PD(t,r,s,a,l){const h=new xi(t,s,Sc);return h.multi=[],h.index=r,h.componentProviders=0,BT(h,l,a&&!s),h}(l?SD:bD,s.length,l,a,k);!l&&Dt&&(s[Qe].providerFactory=Wt),xE(h,t,r.length,0),r.push(P),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),s.push(Wt),y.push(Wt)}else xE(h,t,be>-1?be:Qe,BT(s[l?Qe:be],k,!l&&a));!l&&a&&Dt&&s[Qe].componentProviders++}}}function xE(t,r,s,a){const l=Ku(r),h=function $y(t){return!!t.useClass}(r);if(l||h){const P=(h?Me(r.useClass):r).prototype.ngOnDestroy;if(P){const k=t.destroyHooks||(t.destroyHooks=[]);if(!l&&r.multi){const H=k.indexOf(s);-1===H?k.push(s,[a,P]):k[H+1].push(a,P)}else k.push(s,P)}}}function BT(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function kE(t,r,s,a){for(let l=s;l<a;l++)if(r[l]===t)return l;return-1}function bD(t,r,s,a){return FE(this.multi,[])}function SD(t,r,s,a){const l=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=qo(s,s[_t],this.providerFactory.index,a);h=w.slice(0,y),FE(l,h);for(let P=y;P<w.length;P++)h.push(w[P])}else h=[],FE(l,h);return h}function FE(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function jT(t,r=[]){return s=>{s.providersResolver=(a,l)=>function AD(t,r,s){const a=Bn();if(a.firstCreatePass){const l=ni(t);OE(s,a.data,a.blueprint,l,!0),OE(r,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,r)}}class lh{}class $T{}function RD(t,r){return new VE(t,r??null,[])}class VE extends lh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Iv(this);const l=mn(r);this._bootstrapComponents=Za(l.bootstrap),this._r3Injector=Ml(r,s,[{provide:lh,useValue:this},{provide:wu,useValue:this.componentFactoryResolver},...a],et(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class LE extends $T{constructor(r){super(),this.moduleType=r}create(r){return new VE(this.moduleType,r,[])}}class HT extends lh{constructor(r){super(),this.componentFactoryResolver=new Iv(this),this.instance=null;const s=new Pl([...r.providers,{provide:lh,useValue:this},{provide:wu,useValue:this.componentFactoryResolver}],r.parent||fc(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function GT(t,r,s=null){return new HT({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let ND=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=zh(0,s.type),l=a.length>0?GT([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,l)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Gt({token:t,providedIn:"environment",factory:()=>new t(ke(Ko))})}return t})();function zT(t){t.getStandaloneInjector=r=>r.get(ND).getOrCreateStandaloneInjector(t)}function JT(t,r,s,a){return XT(Ye(),Ai(),t,r,s,a)}function XT(t,r,s,a,l,h){const y=r+s;return Rs(t,y,l)?function So(t,r,s){return t[r]=s}(t,y+1,h?a.call(h,l):a(l)):function Yg(t,r){const s=t[r];return s===bn?void 0:s}(t,y+1)}function iw(t,r){const s=Bn();let a;const l=t+Zt;s.firstCreatePass?(a=function YD(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks??=[]).push(l,a.onDestroy)):a=s.data[l];const h=a.factory||(a.factory=Ci(a.type)),w=Pt(Sc);try{const P=ou(!1),k=h();return ou(P),function Hv(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Ye(),l,k),k}finally{Pt(w)}}function sw(t,r,s){const a=t+Zt,l=Ye(),h=Sr(l,a);return function Zg(t,r){return t[_t].data[r].pure}(l,a)?XT(l,Ai(),r,h.transform,s,h):h.transform(s)}function tC(){return this._results[Symbol.iterator]()}class BE{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ya)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=BE.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=tC)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=function oo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function tp(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],h=r[a];if(s&&(l=s(l),h=s(h)),h!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function rC(t,r,s,a=!0){const l=r[_t];if(function mp(t,r,s,a){const l=Fr+a,h=s.length;a>0&&(s[l-1][$r]=r),a<h-Fr?(r[$r]=s[l],fu(s,Fr+a,r)):(s.push(r),r[$r]=null),r[$n]=s;const y=r[uo];null!==y&&s!==y&&function Iy(t,r){const s=t[Io];r[Vn]!==r[$n][$n][Vn]&&(t[$s]=!0),null===s?t[Io]=[r]:s.push(r)}(y,r);const w=r[Di];null!==w&&w.insertView(t),r[zt]|=128}(l,r,t,s),a){const h=dd(s,t),y=r[Jt],w=pa(y,t[vi]);null!==w&&function vy(t,r,s,a,l,h){a[Rn]=l,a[mr]=r,hd(t,a,s,1,l,h)}(l,t[mr],y,r,w,h)}}let Jg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=oC}return t})();const iC=Jg,sC=class extends iC{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const l=function nC(t,r,s,a){const l=r.tView,w=vf(t,l,s,4096&t[zt]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);w[uo]=t[r.index];const k=t[Di];return null!==k&&(w[Di]=k.createEmbeddedView(l)),ga(l,w,s),w}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Rf(l)}};function oC(){return ny(_r(),Ye())}function ny(t,r){return 4&t.type?new sC(r,t,Tc(t,r)):null}let iy=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=hC}return t})();function hC(){return hw(_r(),Ye())}const fC=iy,cw=class extends fC{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Tc(this._hostTNode,this._hostLView)}get injector(){return new lr(this._hostTNode,this._hostLView)}get parentInjector(){const r=Ba(this._hostTNode,this._hostLView);if(la(r)){const s=ca(r,this._hostLView),a=qr(r);return new lr(s[_t].data[a+8],s)}return new lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=dw(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Fr}createEmbeddedView(r,s,a){let l,h;"number"==typeof a?l=a:null!=a&&(l=a.index,h=a.injector);const w=r.createEmbeddedViewImpl(s||{},h,null);return this.insertImpl(w,l,false),w}createComponent(r,s,a,l,h){const y=r&&!function hl(t){return"function"==typeof t}(r);let w;if(y)w=s;else{const rt=s||{};w=rt.index,a=rt.injector,l=rt.projectableNodes,h=rt.environmentInjector||rt.ngModuleRef}const P=y?r:new Mf(an(r)),k=a||this.parentInjector;if(!h&&null==P.ngModule){const Dt=(y?k:this.parentInjector).get(Ko,null);Dt&&(h=Dt)}an(P.componentType??{});const be=P.create(k,l,null,h);return this.insertImpl(be.hostView,w,false),be}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const l=r._lView;if(function rr(t){return di(t[$n])}(l)){const P=this.indexOf(r);if(-1!==P)this.detach(P);else{const k=l[$n],H=new cw(k,k[mr],k[$n]);H.detach(H.indexOf(r))}}const y=this._adjustIndex(s),w=this._lContainer;return rC(w,l,y,!a),r.attachToViewContainerRef(),fu(jE(w),y,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=dw(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=sc(this._lContainer,s);a&&(Aa(jE(this._lContainer),s),Sh(a[_t],a))}detach(r){const s=this._adjustIndex(r,-1),a=sc(this._lContainer,s);return a&&null!=Aa(jE(this._lContainer),s)?new Rf(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function dw(t){return t[8]}function jE(t){return t[8]||(t[8]=[])}function hw(t,r){let s;const a=r[t.index];return di(a)?s=a:(s=Tg(a,r,null,t),r[t.index]=s,Sf(r,s)),fw(s,r,t,a),new cw(s,t,r)}let fw=function pw(t,r,s,a){if(t[vi])return;let l;l=8&s.type?rn(a):function pC(t,r){const s=t[Jt],a=s.createComment(""),l=kt(r,t);return bo(s,pa(s,l),a,function Em(t,r){return t.nextSibling(r)}(s,l),!1),a}(r,s),t[vi]=l};class $E{constructor(r){this.queryList=r,this.matches=null}clone(){return new $E(this.queryList)}setDirty(){this.queryList.setDirty()}}class HE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let h=0;h<a;h++){const y=s.getByIndex(h);l.push(this.queries[y.indexInDeclarationView].clone())}return new HE(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==ww(r,s).matches&&this.queries[s].setDirty()}}class gw{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class GE{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,l);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new GE(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class zE{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new zE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const h=a[l];this.matchTNodeWithReadOption(r,s,_C(s,h)),this.matchTNodeWithReadOption(r,s,Ca(s,r,h,!1,!1))}else a===Jg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Ca(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===xd||l===iy||l===Jg&&4&s.type)this.addMatch(s.index,-2);else{const h=Ca(s,r,l,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function _C(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function vC(t,r,s,a){return-1===s?function yC(t,r){return 11&t.type?Tc(t,r):4&t.type?ny(t,r):null}(r,t):-2===s?function EC(t,r,s){return s===xd?Tc(r,t):s===Jg?ny(r,t):s===iy?hw(r,t):void 0}(t,r,a):qo(t,t[_t],s,r)}function mw(t,r,s,a){const l=r[Di].queries[a];if(null===l.matches){const h=t.data,y=s.matches,w=[];for(let P=0;P<y.length;P+=2){const k=y[P];w.push(k<0?null:vC(r,h[k],y[P+1],s.metadata.read))}l.matches=w}return l.matches}function WE(t,r,s,a){const l=t.queries.getByIndex(s),h=l.matches;if(null!==h){const y=mw(t,r,l,s);for(let w=0;w<h.length;w+=2){const P=h[w];if(P>0)a.push(y[w/2]);else{const k=h[w+1],H=r[-P];for(let te=Fr;te<H.length;te++){const pe=H[te];pe[uo]===pe[$n]&&WE(pe[_t],pe,k,a)}if(null!==H[Io]){const te=H[Io];for(let pe=0;pe<te.length;pe++){const be=te[pe];WE(be[_t],be,k,a)}}}}}return a}function _w(t){const r=Ye(),s=Bn(),a=_n();xn(a+1);const l=ww(s,a);if(t.dirty&&function ls(t){return 4==(4&t[zt])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const h=l.crossesNgTemplate?WE(s,r,a,[]):mw(s,r,l,a);t.reset(h,Hm),t.notifyOnChanges()}return!0}return!1}function yw(t,r,s){const a=Bn();a.firstCreatePass&&(Tw(a,new gw(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),Iw(a,Ye(),r)}function vw(t,r,s,a){const l=Bn();if(l.firstCreatePass){const h=_r();Tw(l,new gw(r,s,a),h.index),function TC(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}Iw(l,Ye(),s)}function Ew(){return function IC(t,r){return t[Di].queries[r].queryList}(Ye(),_n())}function Iw(t,r,s){const a=new BE(4==(4&s));(function Tf(t,r,s,a){const l=Gd(r);l.push(s),t.firstCreatePass&&Xn(t).push(a,l.length-1)})(t,r,a,a.destroy),null===r[Di]&&(r[Di]=new HE),r[Di].queries.push(new $E(a))}function Tw(t,r,s){null===t.queries&&(t.queries=new GE),t.queries.track(new zE(r,s))}function ww(t,r){return t.queries.getByIndex(r)}function Dw(t,r){return ny(t,r)}function qE(t){return!!mn(t)}const jw=new nn("Application Initializer");let JE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=$e(jw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const l of this.appInits){const h=l();if(F_(h))s.push(h);else if(Kv(h)){const y=new Promise((w,P)=>{h.subscribe({complete:w,error:P})});s.push(y)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Gt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$w=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Gt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const oy=new nn("LocaleId",{providedIn:"root",factory:()=>$e(oy,sn.Optional|sn.SkipSelf)||function HC(){return typeof $localize<"u"&&$localize.locale||Gf}()}),GC=new nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Hw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ne.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Gt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class WC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let qC=(()=>{class t{compileModuleSync(s){return new LE(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=Za(mn(s).declarations).reduce((y,w)=>{const P=an(w);return P&&y.push(new Mf(P)),y},[]);return new WC(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Gt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const qw=new nn(""),Kw=new nn("");let tI,gA=(()=>{class t{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tI||(function mA(t){tI=t}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ps.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(ke(Ps),ke(Qw),ke(Kw))};static#t=this.\u0275prov=Gt({token:t,factory:t.\u0275fac})}return t})(),Qw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return tI?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Gt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),jc=null;const Yw=new nn("AllowMultipleToken"),nI=new nn("PlatformDestroyListeners"),rI=new nn("appBootstrapListener");class vA{constructor(r,s){this.name=r,this.token=s}}function Xw(t,r,s=[]){const a=`Platform: ${r}`,l=new nn(a);return(h=[])=>{let y=iI();if(!y||y.injector.get(Yw,!1)){const w=[...s,...h,{provide:l,useValue:!0}];t?t(w):function EA(t){if(jc&&!jc.get(Yw,!1))throw new ht(400,!1);(function Zw(){!function p(t){I=t}(()=>{throw new ht(600,!1)})})(),jc=t;const r=t.get(t0);(function Jw(t){t.get(Cd,null)?.forEach(s=>s())})(t)}(function e0(t=[],r){return Oa.create({name:r,providers:[{provide:Yh,useValue:"platform"},{provide:nI,useValue:new Set([()=>jc=null])},...t]})}(w,a))}return function TA(t){const r=iI();if(!r)throw new ht(401,!1);return r}()}}function iI(){return jc?.get(t0)??null}let t0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function wA(t="zone.js",r){return"noop"===t?new ig:"zone.js"===t?new Ps(r):t}(a?.ngZone,function n0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return l.run(()=>{const h=function MD(t,r,s){return new VE(t,r,s)}(s.moduleType,this.injector,function u0(t){return[{provide:Ps,useFactory:t},{provide:Ed,multi:!0,useFactory:()=>{const r=$e(CA,{optional:!0});return()=>r.initialize()}},{provide:a0,useFactory:DA},{provide:lf,useFactory:Qm}]}(()=>l)),y=h.injector.get(Qa,null);return l.runOutsideAngular(()=>{const w=l.onError.subscribe({next:P=>{y.handleError(P)}});h.onDestroy(()=>{uy(this._modules,h),w.unsubscribe()})}),function r0(t,r,s){try{const a=s();return F_(a)?a.catch(l=>{throw r.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(y,l,()=>{const w=h.injector.get(JE);return w.runInitializers(),w.donePromise.then(()=>(function mT(t){Dn(t,"Expected localeId to be defined"),"string"==typeof t&&(gT=t.toLowerCase().replace(/_/g,"-"))}(h.injector.get(oy,Gf)||Gf),this._moduleDoBootstrap(h),h))})})}bootstrapModule(s,a=[]){const l=s0({},a);return function _A(t,r,s){const a=new LE(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(s){const a=s.injector.get(qf);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new ht(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ht(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(nI,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(ke(Oa))};static#t=this.\u0275prov=Gt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function s0(t,r){return Array.isArray(r)?r.reduce(s0,t):{...t,...r}}let qf=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$e(a0),this.zoneIsStable=$e(lf),this.componentTypes=[],this.components=[],this.isStable=$e(Hw).hasPendingTasks.pipe((0,st.w)(s=>s?(0,se.of)(!1):this.zoneIsStable),(0,it.x)(),de()),this._injector=$e(Ko)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const l=s instanceof Bm;if(!this._injector.get(JE).done)throw!l&&zi(s),new ht(405,!1);let y;y=l?s:this._injector.get(wu).resolveComponentFactory(s),this.componentTypes.push(y.componentType);const w=function yA(t){return t.isBoundToModule}(y)?void 0:this._injector.get(lh),k=y.create(Oa.NULL,[],a||y.selector,w),H=k.location.nativeElement,te=k.injector.get(qw,null);return te?.registerApplication(H),k.onDestroy(()=>{this.detachView(k.hostView),uy(this.components,k),te?.unregisterApplication(H)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new ht(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;uy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(rI,[]);a.push(...this._bootstrapListeners),a.forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>uy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ht(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Gt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uy(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const a0=new nn("",{providedIn:"root",factory:()=>$e(Qa).handleError.bind(void 0)});function DA(){const t=$e(Ps),r=$e(Qa);return s=>t.runOutsideAngular(()=>r.handleError(s))}let CA=(()=>{class t{constructor(){this.zone=$e(Ps),this.applicationRef=$e(qf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Gt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let bA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=SA}return t})();function SA(t){return function PA(t,r,s){if($i(t)&&!s){const a=Mr(t.index,r);return new Rf(a,a)}return 47&t.type?new Rf(r[Vn],r):null}(_r(),Ye(),16==(16&t))}class h0{constructor(){}supports(r){return Kd(r)}create(r){return new kA(r)}}const xA=(t,r)=>r;class kA{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||xA}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,h=null;for(;s||a;){const y=!a||s&&s.currentIndex<p0(a,l,h)?s:a,w=p0(y,l,h),P=y.currentIndex;if(y===a)l--,a=a._nextRemoved;else if(s=s._next,null==y.previousIndex)l++;else{h||(h=[]);const k=w-l,H=P-l;if(k!=H){for(let pe=0;pe<k;pe++){const be=pe<h.length?h[pe]:h[pe]=0,Qe=be+pe;H<=Qe&&Qe<k&&(h[pe]=be+1)}h[y.previousIndex]=H-k}}w!==P&&r(y,w,P)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Kd(r))throw new ht(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,h,y,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)h=r[w],y=this._trackByFn(w,h),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,h,y,w)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,y,w),a=!0),s=s._next}else l=0,function I_(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,w=>{y=this._trackByFn(l,w),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,w,y,l)),Object.is(s.item,w)||this._addIdentityChange(s,w)):(s=this._mismatch(s,w,y,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,l)):r=this._addAfter(new FA(s,a),h,l),r}_verifyReinsertion(r,s,a,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,h=r._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new f0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new f0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class FA{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VA{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class f0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new VA,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function p0(t,r,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class g0{constructor(){}supports(r){return r instanceof Map||kf(r)}create(){return new LA}}class LA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||kf(r)))throw new ht(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const h=l._prev,y=l._next;return h&&(h._next=y),y&&(y._prev=h),l._next=null,l._prev=null,l}const a=new UA(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class UA{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function m0(){return new lI([new h0])}let lI=(()=>{class t{static#e=this.\u0275prov=Gt({token:t,providedIn:"root",factory:m0});constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||m0()),deps:[[t,new D,new Zl]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new ht(901,!1)}}return t})();function _0(){return new cI([new g0])}let cI=(()=>{class t{static#e=this.\u0275prov=Gt({token:t,providedIn:"root",factory:_0});constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||_0()),deps:[[t,new D,new Zl]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new ht(901,!1)}}return t})();const $A=Xw(null,"core",[]);let HA=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)(ke(qf))};static#t=this.\u0275mod=xs({type:t});static#n=this.\u0275inj=Pr({})}return t})();function eb(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function nb(t){const r=an(t);if(!r)return null;const s=new Mf(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},721:(bt,je,$)=>{$.d(je,{Ot:()=>Te,ZF:()=>it,hX:()=>le,z6:()=>ge});var _=$(3182),J=$(6689),j=$(1920);class Te{constructor(Ue){return Ue}}class ge{constructor(){return(0,_.C6)()}}const Oe=new J.OlP("angularfire2._apps"),Ie={provide:Te,useFactory:function Pe(ce){return ce&&1===ce.length?ce[0]:new Te((0,_.Mq)())},deps:[[new J.FiY,Oe]]},ne={provide:ge,deps:[[new J.FiY,Oe]]};function se(ce){return(Ue,He)=>{const Me=Ue.runOutsideAngular(()=>ce(He));return new Te(Me)}}let he=(()=>{class ce{constructor(He){(0,_.KN)("angularfire",j.q4.full,"core"),(0,_.KN)("angularfire",j.q4.full,"app"),(0,_.KN)("angular",J.q4F.full,He.toString())}static \u0275fac=function(Me){return new(Me||ce)(J.LFG(J.Lbi))};static \u0275mod=J.oAB({type:ce});static \u0275inj=J.cJS({providers:[Ie,ne]})}return ce})();function le(ce,...Ue){return{ngModule:he,providers:[{provide:Oe,useFactory:se(ce),multi:!0,deps:[J.R0b,J.zs3,j.HU,...Ue]}]}}const it=(0,j.u3)(_.ZF,!0)},2637:(bt,je,$)=>{$.d(je,{AR:()=>st,dh:()=>Oe,gx:()=>Pe,rh:()=>ln,v0:()=>ht,w7:()=>Er});var _=$(1920),J=$(6689),j=$(721),Te=$(3182),ge=$(9339);class Pe{constructor(Ir){return Ir}}class Oe{constructor(){return(0,_.vb)("auth")}}const ne=new J.OlP("angularfire2.auth-instances");function he(gn){return(Ir,xr)=>{const nn=Ir.runOutsideAngular(()=>gn(xr));return new Pe(nn)}}const le={provide:Oe,deps:[[new J.FiY,ne]]},de={provide:Pe,useFactory:function se(gn,Ir){const xr=(0,_.JM)("auth",gn,Ir);return xr&&new Pe(xr)},deps:[[new J.FiY,ne],j.Ot]};let Re=(()=>{class gn{constructor(){(0,Te.KN)("angularfire",_.q4.full,"auth")}static \u0275fac=function(nn){return new(nn||gn)};static \u0275mod=J.oAB({type:gn});static \u0275inj=J.cJS({providers:[de,le]})}return gn})();function st(gn,...Ir){return{ngModule:Re,providers:[{provide:ne,useFactory:he(gn),multi:!0,deps:[J.R0b,J.zs3,_.HU,j.z6,[new J.FiY,_.Rf],...Ir]}]}}const ht=(0,_.u3)(ge.v0,!0),ln=(0,_.u3)(ge.rh,!0),Er=(0,_.u3)(ge.w7,!0)},9774:(bt,je,$)=>{$.d(je,{gg:()=>ah,ET:()=>iE,Ab:()=>oE,vr:()=>W_,hJ:()=>q_,oe:()=>lE,JU:()=>$g,QT:()=>pE,ad:()=>Y_,cf:()=>EE,Cm:()=>nE,pl:()=>PE,r7:()=>RE});var le,_=$(1920),J=$(6689),j=$(721),Te=$(2637),ge=$(3182),ie=$(5861),Pe=$(534),Oe=$(4537),Ie=$(7879),ne=$(9058),se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he={},de=de||{},Re=se||self;function st(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function it(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var St="closure_uid_"+(1e9*Math.random()>>>0),et=0;function ce(i,e,n){return i.call.apply(i.bind,arguments)}function Ue(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function He(i,e,n){return(He=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ce:Ue).apply(null,arguments)}function Me(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function nt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,c){for(var g=Array(arguments.length-2),b=2;b<arguments.length;b++)g[b-2]=arguments[b];return e.prototype[u].apply(o,g)}}function me(){this.s=this.s,this.o=this.o}me.prototype.s=!1,me.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function We(i){Object.prototype.hasOwnProperty.call(i,St)&&i[St]||(i[St]=++et)}(this)},me.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Qt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function ht(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Zn(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(st(o)){const u=i.length||0,c=o.length||0;i.length=u+c;for(let g=0;g<c;g++)i[u+g]=o[g]}else i.push(o)}}function ot(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var Xt=function(){if(!Re.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const n=()=>{};Re.addEventListener("test",n,e),Re.removeEventListener("test",n,e)}catch{}return i}();function Rt(i){return/^[\s\xa0]*$/.test(i)}function Ht(){var i=Re.navigator;return i&&(i=i.userAgent)?i:""}function Mt(i){return-1!=Ht().indexOf(i)}function ye(i){return ye[" "](i),i}ye[" "]=function(){};var Ut,i,Ne=Mt("Opera"),Ce=Mt("Trident")||Mt("MSIE"),ze=Mt("Edge"),Je=ze||Ce,Bt=Mt("Gecko")&&!(-1!=Ht().toLowerCase().indexOf("webkit")&&!Mt("Edge"))&&!(Mt("Trident")||Mt("MSIE"))&&!Mt("Edge"),vn=-1!=Ht().toLowerCase().indexOf("webkit")&&!Mt("Edge");function kn(){var i=Re.document;return i?i.documentMode:void 0}e:{var pn="",Jn=(i=Ht(),Bt?/rv:([^\);]+)(\)|;)/.exec(i):ze?/Edge\/([\d\.]+)/.exec(i):Ce?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):vn?/WebKit\/(\S+)/.exec(i):Ne?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Jn&&(pn=Jn?Jn[1]:""),Ce){var Fn=kn();if(null!=Fn&&Fn>parseFloat(pn)){Ut=String(Fn);break e}}Ut=pn}var gt=Re.document&&Ce&&(kn()||parseInt(Ut,10))||void 0;function er(i,e){if(ot.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Bt){e:{try{ye(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Ii[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&er.$.h.call(this)}}nt(er,ot);var Ii={2:"touch",3:"pen",4:"mouse"};er.prototype.h=function(){er.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Vi="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function Br(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++Gt,this.fa=this.ia=!1}function Pr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Gn(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function ln(i){const e={};for(const n in i)e[n]=i[n];return e}const en="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Er(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let c=0;c<en.length;c++)n=en[c],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function dr(i){this.src=i,this.g={},this.h=0}function ui(i,e){var n=e.type;if(n in i.g){var c,o=i.g[n],u=Qt(o,e);(c=0<=u)&&Array.prototype.splice.call(o,u,1),c&&(Pr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Or(i,e,n,o){for(var u=0;u<i.length;++u){var c=i[u];if(!c.fa&&c.listener==e&&c.capture==!!n&&c.la==o)return u}return-1}dr.prototype.add=function(i,e,n,o,u){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var g=Or(i,e,o,u);return-1<g?(e=i[g],n||(e.ia=!1)):((e=new Br(e,this.src,c,!!o,u)).ia=n,i.push(e)),e};var tr="closure_lm_"+(1e6*Math.random()|0),sn={};function In(i,e,n,o,u){if(o&&o.once)return fs(i,e,n,o,u);if(Array.isArray(e)){for(var c=0;c<e.length;c++)In(i,e[c],n,o,u);return null}return n=Tr(n),i&&i[Vi]?i.O(e,n,it(o)?!!o.capture:!!o,u):Cn(i,e,n,!1,o,u)}function Cn(i,e,n,o,u,c){if(!e)throw Error("Invalid event type");var g=it(u)?!!u.capture:!!u,b=nn(i);if(b||(i[tr]=b=new dr(i)),(n=b.add(e,n,o,g,c)).proxy)return n;if(o=function Pt(){const e=xr;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Xt||(u=g),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Ir(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function fs(i,e,n,o,u){if(Array.isArray(e)){for(var c=0;c<e.length;c++)fs(i,e[c],n,o,u);return null}return n=Tr(n),i&&i[Vi]?i.P(e,n,it(o)?!!o.capture:!!o,u):Cn(i,e,n,!0,o,u)}function Ti(i,e,n,o,u){if(Array.isArray(e))for(var c=0;c<e.length;c++)Ti(i,e[c],n,o,u);else o=it(o)?!!o.capture:!!o,n=Tr(n),i&&i[Vi]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Or(c=i.g[e],n,o,u))&&(Pr(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=nn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Or(e,n,o,u)),(n=-1<i?e[i]:null)&&gn(n))}function gn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Vi])ui(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Ir(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=nn(e))?(ui(n,i),0==n.h&&(n.src=null,e[tr]=null)):Pr(i)}}}function Ir(i){return i in sn?sn[i]:sn[i]="on"+i}function xr(i,e){if(i.fa)i=!0;else{e=new er(e,this);var n=i.listener,o=i.la||i.src;i.ia&&gn(i),i=n.call(o,e)}return i}function nn(i){return(i=i[tr])instanceof dr?i:null}var li="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tr(i){return"function"==typeof i?i:(i[li]||(i[li]=function(e){return i.handleEvent(e)}),i[li])}function zn(){me.call(this),this.i=new dr(this),this.S=this,this.J=null}function Wn(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new ot(e,i);else if(e instanceof ot)e.target=e.target||i;else{var u=e;Er(e=new ot(o,i),u)}if(u=!0,n)for(var c=n.length-1;0<=c;c--){var g=e.g=n[c];u=mi(g,o,!0,e)&&u}if(u=mi(g=e.g=i,o,!0,e)&&u,u=mi(g,o,!1,e)&&u,n)for(c=0;c<n.length;c++)u=mi(g=e.g=n[c],o,!1,e)&&u}function mi(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,c=0;c<e.length;++c){var g=e[c];if(g&&!g.fa&&g.capture==n){var b=g.listener,M=g.la||g.src;g.ia&&ui(i.i,g),u=!1!==b.call(M,o)&&u}}return u&&!o.defaultPrevented}nt(zn,me),zn.prototype[Vi]=!0,zn.prototype.removeEventListener=function(i,e,n,o){Ti(this,i,e,n,o)},zn.prototype.N=function(){if(zn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Pr(n[o]);delete i.g[e],i.h--}}this.J=null},zn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},zn.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var or=Re.JSON.stringify;function K(){var i=$t;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var W=new class ae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Y,i=>i.reset());class Y{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ee(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function qe(i){Re.setTimeout(()=>{throw i},0)}let lt,Yt=!1,$t=new class Q{constructor(){this.h=this.g=null}add(e,n){const o=W.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},An=()=>{const i=Re.Promise.resolve(void 0);lt=()=>{i.then(un)}};var un=()=>{for(var i;i=K();){try{i.h.call(i.g)}catch(n){qe(n)}var e=W;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Yt=!1};function qn(i,e){zn.call(this),this.h=i||1,this.g=e||Re,this.j=He(this.qb,this),this.l=Date.now()}function kr(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function wr(i,e,n){if("function"==typeof i)n&&(i=He(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=He(i.handleEvent,i)}return 2147483647<Number(e)?-1:Re.setTimeout(i,e||0)}function es(i){i.g=wr(()=>{i.g=null,i.i&&(i.i=!1,es(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}nt(qn,zn),(le=qn.prototype).ga=!1,le.T=null,le.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wn(this,"tick"),this.ga&&(kr(this),this.start()))}},le.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.N=function(){qn.$.N.call(this),kr(this),delete this.g};class ke extends me{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:es(this)}N(){super.N(),this.g&&(Re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function De(i){me.call(this),this.h=i,this.g={}}nt(De,me);var $e=[];function Et(i,e,n,o){Array.isArray(n)||(n&&($e[0]=n.toString()),n=$e);for(var u=0;u<n.length;u++){var c=In(e,n[u],o||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function on(i){Gn(i.g,function(e,n){this.g.hasOwnProperty(n)&&gn(e)},i),i.g={}}function qt(){this.g=!0}function Nn(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ts(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var c=u[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var g=1;g<u.length;g++)u[g]=""}}}return or(n)}catch{return e}}(i,n)+(o?" "+o:"")})}De.prototype.N=function(){De.$.N.call(this),on(this)},De.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qt.prototype.Ea=function(){this.g=!1},qt.prototype.info=function(){};var Cr={},Ar=null;function En(){return Ar=Ar||new zn}function ns(i){ot.call(this,Cr.Ta,i)}function Ms(i){const e=En();Wn(e,new ns(e))}function On(i,e){ot.call(this,Cr.STAT_EVENT,i),this.stat=e}function br(i){const e=En();Wn(e,new On(e,i))}function bi(i,e){ot.call(this,Cr.Ua,i),this.size=e}function Li(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Re.setTimeout(function(){i()},e)}Cr.Ta="serverreachability",nt(ns,ot),Cr.STAT_EVENT="statevent",nt(On,ot),Cr.Ua="timingevent",nt(bi,ot);var Zr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Si={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _i(){}function Pi(){}_i.prototype.h=null;var Xr,gr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ui(){ot.call(this,"d")}function Jr(){ot.call(this,"c")}function ao(){}function ps(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new De(this),this.P=gs,this.V=new qn(i=Je?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ro}function Ro(){this.i=null,this.g="",this.h=!1}nt(Ui,ot),nt(Jr,ot),nt(ao,_i),ao.prototype.g=function(){return new XMLHttpRequest},ao.prototype.i=function(){return{}},Xr=new ao;var gs=45e3,Hi={},ci={};function Mo(i,e,n){i.L=1,i.A=Bi(an(e)),i.u=n,i.S=!0,Zo(i,null)}function Zo(i,e){i.G=Date.now(),Ns(i),i.B=an(i.A);var n=i.B,o=i.W;Array.isArray(o)||(o=[String(o)]),hr(n.i,"t",o),i.o=0,n=i.l.J,i.h=new Ro,i.g=Pu(i.l,n?e:null,!i.u),0<i.O&&(i.M=new ke(He(i.Pa,i,i.g),i.O)),Et(i.U,i.g,"readystatechange",i.nb),e=i.I?ln(i.I):{},i.u?(i.v||(i.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,e)):(i.v="GET",i.g.ha(i.B,i.v,null,e)),Ms(),function fn(i,e,n,o,u,c){i.info(function(){if(i.g)if(c)for(var g="",b=c.split("&"),M=0;M<b.length;M++){var F=b[M].split("=");if(1<F.length){var G=F[0];F=F[1];var X=G.split("_");g=2<=X.length&&"type"==X[1]?g+(G+"=")+F+"&":g+(G+"=redacted&")}}else g=null;else g=c;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+g})}(i.j,i.v,i.B,i.m,i.W,i.u)}function Jo(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function No(i,e,n){let u,o=!0;for(;!i.J&&i.o<n.length;){if(u=Oo(i,n),u==ci){4==e&&(i.s=4,br(14),o=!1),Nn(i.j,i.m,null,"[Incomplete Response]");break}if(u==Hi){i.s=4,br(15),Nn(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Nn(i.j,i.m,u,null),Ys(i,u)}Jo(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=e||0!=n.length||i.h.h||(i.s=1,br(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),va(e),e.M=!0,br(11))):(Nn(i.j,i.m,n,"[Invalid Chunked Response]"),ms(i),Qs(i))}function Oo(i,e){var n=i.o,o=e.indexOf("\n",n);return-1==o?ci:(n=Number(e.substring(n,o)),isNaN(n)?Hi:(o+=1)+n>e.length?ci:(e=e.slice(o,o+n),i.o=o+n,e))}function Ns(i){i.Y=Date.now()+i.P,vo(i,i.P)}function vo(i,e){if(null!=i.C)throw Error("WatchDog timer not null");i.C=Li(He(i.lb,i),e)}function Gi(i){i.C&&(Re.clearTimeout(i.C),i.C=null)}function Qs(i){0==i.l.H||i.J||ho(i.l,i)}function ms(i){Gi(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,kr(i.V),on(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Ys(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||uo(n.i,i)))if(!i.K&&uo(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;no(n),pt(n)}to(n),br(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Li(He(n.ib,n),6e3));if(1>=Vn(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ci(n,11)}else if((i.K||n.g==i)&&no(n),!Rt(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let F=u[e];if(n.V=F[0],F=F[1],2==n.H)if("c"==F[0]){n.K=F[1],n.pa=F[2];const G=F[3];null!=G&&(n.ra=G,n.l.info("VER="+n.ra));const X=F[4];null!=X&&(n.Ga=X,n.l.info("SVER="+n.Ga));const fe=F[5];null!=fe&&"number"==typeof fe&&0<fe&&(n.L=o=1.5*fe,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const Fe=i.g;if(Fe){const dt=Fe.g?Fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dt){var c=o.i;c.g||-1==dt.indexOf("spdy")&&-1==dt.indexOf("quic")&&-1==dt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(js(c,c.h),c.h=null))}if(o.F){const mt=Fe.g?Fe.g.getResponseHeader("X-HTTP-Session-Id"):null;mt&&(o.Da=mt,mn(o.I,o.F,mt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var g=i;if((o=n).wa=Vo(o,o.J?o.pa:null,o.Y),g.K){Di(o.i,g);var b=g,M=o.L;M&&b.setTimeout(M),b.C&&(Gi(b),Ns(b)),o.g=g}else ko(o);0<n.j.length&&ri(n)}else"stop"!=F[0]&&"close"!=F[0]||Ci(n,7);else 3==n.H&&("stop"==F[0]||"close"==F[0]?"stop"==F[0]?Ci(n,7):ue(n):"noop"!=F[0]&&n.h&&n.h.Aa(F),n.A=0)}Ms()}catch{}}function _s(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(st(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function xs(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(st(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function Os(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(st(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,c=0;c<u;c++)e.call(void 0,o[c],n&&n[c],i)}(le=ps.prototype).setTimeout=function(i){this.P=i},le.nb=function(i){i=i.target;const e=this.M;e&&3==Pn(i)?e.l():this.Pa(i)},le.Pa=function(i){try{if(i==this.g)e:{const G=Pn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>G)&&(3!=G||Je||this.g&&(this.h.h||this.g.ja()||Xs(this.g)))){this.J||4!=G||7==e||Ms(),Gi(this);var n=this.g.da();this.ca=n;t:if(Jo(this)){var o=Xs(this.g);i="";var u=o.length,c=4==Pn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ms(this),Qs(this);var g="";break t}this.h.i=new Re.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:c&&e==u-1});o.length=0,this.h.g+=i,this.o=0,g=this.h.g}else g=this.g.ja();if(this.i=200==n,function nr(i,e,n,o,u,c,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+c+" "+g})}(this.j,this.v,this.B,this.m,this.W,G,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var b,M=this.g;if((b=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rt(b)){var F=b;break t}}F=null}if(!(n=F)){this.i=!1,this.s=3,br(12),ms(this),Qs(this);break e}Nn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ys(this,n)}this.S?(No(this,G,g),Je&&this.i&&3==G&&(Et(this.U,this.V,"tick",this.mb),this.V.start())):(Nn(this.j,this.m,g,null),Ys(this,g)),4==G&&ms(this),this.i&&!this.J&&(4==G?ho(this.l,this):(this.i=!1,Ns(this)))}else(function xo(i){const e={};i=(i.g&&2<=Pn(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(Rt(i[o]))continue;var n=Ee(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const c=e[u]||[];e[u]=c,c.push(n)}!function Yr(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<g.indexOf("Unknown SID")?(this.s=3,br(12)):(this.s=0,br(13)),ms(this),Qs(this)}}}catch{}},le.mb=function(){if(this.g){var i=Pn(this.g),e=this.g.ja();this.o<e.length&&(Gi(this),No(this,i,e),this.i&&4!=i&&Ns(this))}},le.cancel=function(){this.J=!0,ms(this)},le.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function Dr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Ms(),br(17)),ms(this),this.s=2,Qs(this)):vo(this,this.Y-i)};var yi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ri(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ri){this.h=i.h,fr(this,i.j),this.s=i.s,this.g=i.g,ar(this,i.m),this.l=i.l;var e=i.i,n=new $r;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),zi(this,n),this.o=i.o}else i&&(e=String(i).match(yi))?(this.h=!1,fr(this,e[1]||"",!0),this.s=Wi(e[2]||""),this.g=Wi(e[3]||"",!0),ar(this,e[4]),this.l=Wi(e[5]||"",!0),zi(this,e[6]||"",!0),this.o=Wi(e[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}function an(i){return new Ri(i)}function fr(i,e,n){i.j=n?Wi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ar(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function zi(i,e,n){e instanceof $r?(i.i=e,function ji(i,e){e&&!i.j&&(Hr(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(mr(this,o),hr(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=ei(e,zt)),i.i=new $r(e,i.h))}function mn(i,e,n){i.i.set(e,n)}function Bi(i){return mn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Wi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ei(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Zs),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Zs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ri.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ei(e,Js,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ei(e,Js,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(ei(n,"/"==n.charAt(0)?_t:Rn,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",ei(n,$n)),i.join("")};var Js=/[#\/\?@]/g,Rn=/[#\?:]/g,_t=/[#\?]/g,zt=/[#\?@]/g,$n=/#/g;function $r(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Hr(i){i.g||(i.g=new Map,i.h=0,i.i&&function rs(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var c=i[n].substring(0,o);u=i[n].substring(o+1)}else c=i[n];e(c,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function mr(i,e){Hr(i),e=Gr(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ys(i,e){return Hr(i),e=Gr(i,e),i.g.has(e)}function hr(i,e,n){mr(i,e),0<n.length&&(i.i=null,i.g.set(Gr(i,e),ht(n)),i.h+=n.length)}function Gr(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Bs(i){this.l=i||Eo,i=Re.PerformanceNavigationTiming?0<(i=Re.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Re.g&&Re.g.Ka&&Re.g.Ka()&&Re.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(le=$r.prototype).add=function(i,e){Hr(this),this.i=null,i=Gr(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},le.forEach=function(i,e){Hr(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},le.ta=function(){Hr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let c=0;c<u.length;c++)n.push(e[o])}return n},le.Z=function(i){Hr(this);let e=[];if("string"==typeof i)ys(this,i)&&(e=e.concat(this.g.get(Gr(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},le.set=function(i,e){return Hr(this),this.i=null,ys(this,i=Gr(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},le.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const c=encodeURIComponent(String(o)),g=this.Z(o);for(o=0;o<g.length;o++){var u=c;""!==g[o]&&(u+="="+encodeURIComponent(String(g[o]))),i.push(u)}}return this.i=i.join("&")};var Eo=10;function wi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Vn(i){return i.h?1:i.g?i.g.size:0}function uo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function js(i,e){i.g?i.g.add(e):i.h=e}function Di(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function lo(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return ht(i.i)}Bs.prototype.cancel=function(){if(this.i=lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var ks=class{stringify(i){return Re.JSON.stringify(i,void 0)}parse(i){return Re.JSON.parse(i,void 0)}};function ti(){this.g=new ks}function vs(i,e,n){const o=n||"";try{_s(i,function(u,c){let g=u;it(u)&&(g=or(u)),e.push(o+c+"="+encodeURIComponent(g))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function is(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Zt(i){this.l=i.ec||null,this.j=i.ob||!1}function Xo(i,e){zn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Es,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nt(Zt,_i),Zt.prototype.g=function(){return new Xo(this.l,this.j)},Zt.prototype.i=function(i){return function(){return i}}({}),nt(Xo,zn);var Es=0;function $s(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function vi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ss(i)}function ss(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(le=Xo.prototype).open=function(i,e){if(this.readyState!=Es)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ss(this)},le.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vi(this)),this.readyState=Es},le.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ss(this)),this.g&&(this.readyState=3,ss(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Re.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$s(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},le.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?vi(this):ss(this),3==this.readyState&&$s(this)}},le.Za=function(i){this.g&&(this.response=this.responseText=i,vi(this))},le.Ya=function(i){this.g&&(this.response=i,vi(this))},le.ka=function(){this.g&&vi(this)},le.setRequestHeader=function(i,e){this.v.append(i,e)},le.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Xo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Io=Re.JSON.parse;function Ln(i){zn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Fr,this.L=this.M=!1}nt(Ln,zn);var Fr="",Mi=/^https?$/i,Rr=["POST","PUT"];function co(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,$i(i),ni(i)}function $i(i){i.F||(i.F=!0,Wn(i,"complete"),Wn(i,"error"))}function qi(i){if(i.h&&typeof de<"u"&&(!i.C[1]||4!=Pn(i)||2!=i.da()))if(i.v&&4==Pn(i))wr(i.La,0,i);else if(Wn(i,"readystatechange"),4==Pn(i)){i.h=!1;try{const g=i.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===g){var u=String(i.I).match(yi)[1]||null;!u&&Re.self&&Re.self.location&&(u=Re.self.location.protocol.slice(0,-1)),o=!Mi.test(u?u.toLowerCase():"")}n=o}if(n)Wn(i,"complete"),Wn(i,"success");else{i.m=6;try{var c=2<Pn(i)?i.g.statusText:""}catch{c=""}i.j=c+" ["+i.da()+"]",$i(i)}}finally{ni(i)}}}function ni(i,e){if(i.g){Ki(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Wn(i,"ready");try{n.onreadystatechange=o}catch{}}}function Ki(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Re.clearTimeout(i.A),i.A=null)}function Pn(i){return i.g?i.g.readyState:0}function Xs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Fr:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function V(i){let e="";return Gn(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function L(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=V(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):mn(i,e,n))}function N(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function q(i){this.Ga=0,this.j=[],this.l=new qt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=N("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=N("baseRetryDelayMs",5e3,i),this.hb=N("retryDelaySeedMs",1e4,i),this.eb=N("forwardChannelMaxRetries",2,i),this.xa=N("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Bs(i&&i.concurrentRequestLimit),this.Ja=new ti,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ue(i){if(Kt(i),3==i.H){var e=i.W++,n=an(i.I);if(mn(n,"SID",i.K),mn(n,"RID",e),mn(n,"TYPE","terminate"),zr(i,n),(e=new ps(i,i.l,e)).L=2,e.A=Bi(an(n)),n=!1,Re.navigator&&Re.navigator.sendBeacon)try{n=Re.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Re.Image&&((new Image).src=e.A,n=!0),n||(e.g=Pu(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ns(e)}hi(i)}function pt(i){i.g&&(va(i),i.g.cancel(),i.g=null)}function Kt(i){pt(i),i.u&&(Re.clearTimeout(i.u),i.u=null),no(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Re.clearTimeout(i.m),i.m=null)}function ri(i){if(!wi(i.i)&&!i.m){i.m=!0;var e=i.Na;lt||An(),Yt||(lt(),Yt=!0),$t.add(e,i),i.C=0}}function os(i,e){var n;n=e?e.m:i.W++;const o=an(i.I);mn(o,"SID",i.K),mn(o,"RID",n),mn(o,"AID",i.V),zr(i,o),i.o&&i.s&&L(o,i.o,i.s),n=new ps(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=as(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),js(i.i,n),Mo(n,o,e)}function zr(i,e){i.na&&Gn(i.na,function(n,o){mn(e,o,n)}),i.h&&_s({},function(n,o){mn(e,o,n)})}function as(i,e,n){n=Math.min(i.j.length,n);var o=i.h?He(i.h.Va,i.h,i):null;e:{var u=i.j;let c=-1;for(;;){const g=["count="+n];-1==c?0<n?(c=u[0].g,g.push("ofs="+c)):c=0:g.push("ofs="+c);let b=!0;for(let M=0;M<n;M++){let F=u[M].g;const G=u[M].map;if(F-=c,0>F)c=Math.max(0,u[M].g-100),b=!1;else try{vs(G,g,"req"+F+"_")}catch{o&&o(G)}}if(b){o=g.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function ko(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;lt||An(),Yt||(lt(),Yt=!0),$t.add(e,i),i.A=0}}function to(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Li(He(i.Ma,i),Fo(i,i.A)),i.A++,0))}function va(i){null!=i.B&&(Re.clearTimeout(i.B),i.B=null)}function ea(i){i.g=new ps(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=an(i.wa);mn(e,"RID","rpc"),mn(e,"SID",i.K),mn(e,"AID",i.V),mn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&mn(e,"TO",i.qa),mn(e,"TYPE","xmlhttp"),zr(i,e),i.o&&i.s&&L(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.A=Bi(an(e)),n.u=null,n.S=!0,Zo(n,i)}function no(i){null!=i.v&&(Re.clearTimeout(i.v),i.v=null)}function ho(i,e){var n=null;if(i.g==e){no(i),va(i),i.g=null;var o=2}else{if(!uo(i.i,e))return;n=e.F,Di(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.u?e.u.length:0,e=Date.now()-e.G;var u=i.C;Wn(o=En(),new bi(o,n)),ri(i)}else ko(i);else if(3==(u=e.s)||0==u&&0<e.ca||!(1==o&&function eo(i,e){return!(Vn(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Li(He(i.Na,i,e),Fo(i,i.C)),i.C++,0)))}(i,e)||2==o&&to(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:Ci(i,5);break;case 4:Ci(i,10);break;case 3:Ci(i,6);break;default:Ci(i,2)}}function Fo(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Ci(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=He(i.pb,i);n||(n=new Ri("//www.google.com/images/cleardot.gif"),Re.location&&"http"==Re.location.protocol||fr(n,"https"),Bi(n)),function Fs(i,e){const n=new qt;if(Re.Image){const o=new Image;o.onload=Me(is,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Me(is,n,o,"TestLoadImage: error",!1,e),o.onabort=Me(is,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Me(is,n,o,"TestLoadImage: timeout",!1,e),Re.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else br(2);i.H=0,i.h&&i.h.za(e),hi(i),Kt(i)}function hi(i){if(i.H=0,i.ma=[],i.h){const e=lo(i.i);(0!=e.length||0!=i.j.length)&&(Zn(i.ma,e),Zn(i.ma,i.j),i.i.i.length=0,ht(i.j),i.j.length=0),i.h.ya()}}function Vo(i,e,n){var o=n instanceof Ri?an(n):new Ri(n);if(""!=o.g)e&&(o.g=e+"."+o.g),ar(o,o.m);else{var u=Re.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var c=new Ri(null);o&&fr(c,o),e&&(c.g=e),u&&ar(c,u),n&&(c.l=n),o=c}return e=i.Da,(n=i.F)&&e&&mn(o,n,e),mn(o,"VER",i.ra),zr(i,o),o}function Pu(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ln(i.Ha&&!i.va?new Zt({ob:n}):i.va)).Oa(i.J),e}function ii(){}function Lo(){if(Ce&&!(10<=Number(gt)))throw Error("Environmental error: no available transport.")}function ur(i,e){zn.call(this),this.g=new q(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Rt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Vs(this)}function iu(i){Ui.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function fo(){Jr.call(this),this.status=1}function Vs(i){this.g=i}function us(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function To(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var c=i.g[3],g=(e=i.g[0])+(c^(n=i.g[1])&((u=i.g[2])^c))+o[0]+3614090360&4294967295;g=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=n+(g<<7&4294967295|g>>>25))+((g=c+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=u+(n^c&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=n+(e^u&(c^e))+o[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(c^n&(u^c))+o[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=c+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=u+(n^c&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=n+(e^u&(c^e))+o[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(c^n&(u^c))+o[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=c+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=u+(n^c&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=n+(e^u&(c^e))+o[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(c^n&(u^c))+o[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=c+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=u+(n^c&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=n+(e^u&(c^e))+o[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(u^c&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=c+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=u+(e^n&(c^e))+o[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=n+(c^e&(u^c))+o[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(u^c&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=c+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=u+(e^n&(c^e))+o[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=n+(c^e&(u^c))+o[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(u^c&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=c+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=u+(e^n&(c^e))+o[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=n+(c^e&(u^c))+o[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(u^c&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=c+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=u+(e^n&(c^e))+o[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=n+(c^e&(u^c))+o[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(n^u^c)+o[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=c+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=u+(c^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=n+(u^c^e)+o[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(n^u^c)+o[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=c+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=u+(c^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=n+(u^c^e)+o[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(n^u^c)+o[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=c+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=u+(c^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=n+(u^c^e)+o[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(n^u^c)+o[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=c+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=u+(c^e^n)+o[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=n+(u^c^e)+o[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(u^(n|~c))+o[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=c+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=u+(e^(c|~n))+o[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=n+(c^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(u^(n|~c))+o[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=c+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=u+(e^(c|~n))+o[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=n+(c^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(u^(n|~c))+o[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=c+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=u+(e^(c|~n))+o[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=n+(c^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((c=(e=n+((g=e+(u^(n|~c))+o[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=c+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((u=c+((g=u+(e^(c|~n))+o[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(g<<21&4294967295|g>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+c&4294967295}function Kn(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var c=0|i[u];o&&c==e||(n[u]=c,o=!1)}this.g=n}(le=Ln.prototype).Oa=function(i){this.M=i},le.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xr.g(),this.C=function jr(i){return i.h||(i.h=i.i())}(this.u?this.u:Xr),this.g.onreadystatechange=He(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(c){return void co(this,c)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const c of o.keys())n.set(c,o.get(c))}o=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),u=Re.FormData&&i instanceof Re.FormData,!(0<=Qt(Rr,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,g]of n)this.g.setRequestHeader(c,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ki(this),0<this.B&&((this.L=function di(i){return Ce&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=He(this.ua,this)):this.A=wr(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){co(this,c)}},le.ua=function(){typeof de<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wn(this,"timeout"),this.abort(8))},le.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Wn(this,"complete"),Wn(this,"abort"),ni(this))},le.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ni(this,!0)),Ln.$.N.call(this)},le.La=function(){this.s||(this.G||this.v||this.l?qi(this):this.kb())},le.kb=function(){qi(this)},le.isActive=function(){return!!this.g},le.da=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},le.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},le.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Io(e)}},le.Ia=function(){return this.m},le.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=q.prototype).ra=8,le.H=1,le.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new ps(this,this.l,i);let c=this.s;if(this.U&&(c?(c=ln(c),Er(c,this.U)):c=this.U),null!==this.o||this.O||(u.I=c,c=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=as(this,u,e),mn(n=an(this.I),"RID",i),mn(n,"CVER",22),this.F&&mn(n,"X-HTTP-Session-Id",this.F),zr(this,n),c&&(this.O?e="headers="+encodeURIComponent(String(V(c)))+"&"+e:this.o&&L(n,this.o,c)),js(this.i,u),this.bb&&mn(n,"TYPE","init"),this.P?(mn(n,"$req",e),mn(n,"SID","null"),u.aa=!0,Mo(u,n,null)):Mo(u,n,e),this.H=2}}else 3==this.H&&(i?os(this,i):0==this.j.length||wi(this.i)||os(this))},le.Ma=function(){if(this.u=null,ea(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Li(He(this.jb,this),i)}},le.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,br(10),pt(this),ea(this))},le.ib=function(){null!=this.v&&(this.v=null,pt(this),to(this),br(19))},le.pb=function(i){i?(this.l.info("Successfully pinged google.com"),br(2)):(this.l.info("Failed to ping google.com"),br(1))},le.isActive=function(){return!!this.h&&this.h.isActive(this)},(le=ii.prototype).Ba=function(){},le.Aa=function(){},le.za=function(){},le.ya=function(){},le.isActive=function(){return!0},le.Va=function(){},Lo.prototype.g=function(i,e){return new ur(i,e)},nt(ur,zn),ur.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;br(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Vo(i,null,i.Y),ri(i)},ur.prototype.close=function(){ue(this.g)},ur.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=or(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&ri(e)},ur.prototype.N=function(){this.g.h=null,delete this.j,ue(this.g),delete this.g,ur.$.N.call(this)},nt(iu,Ui),nt(fo,Jr),nt(Vs,ii),Vs.prototype.Ba=function(){Wn(this.g,"a")},Vs.prototype.Aa=function(i){Wn(this.g,new iu(i))},Vs.prototype.za=function(i){Wn(this.g,new fo)},Vs.prototype.ya=function(){Wn(this.g,"b")},nt(us,function ta(){this.blockSize=-1}),us.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},us.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,c=0;c<e;){if(0==u)for(;c<=n;)To(this,i,c),c+=this.blockSize;if("string"==typeof i){for(;c<e;)if(o[u++]=i.charCodeAt(c++),u==this.blockSize){To(this,o),u=0;break}}else for(;c<e;)if(o[u++]=i[c++],u==this.blockSize){To(this,o),u=0;break}}this.h=u,this.i+=e},us.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var ro={};function ka(i){return-128<=i&&128>i?function we(i,e){var n=ro;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new Kn([0|e],0>e?-1:0)}):new Kn([0|i],0>i?-1:0)}function Hs(i){if(isNaN(i)||!isFinite(i))return Gs;if(0>i)return Ei(Hs(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=ra;return new Kn(e,0)}var ra=4294967296,Gs=ka(0),Is=ka(1),ia=ka(16777216);function io(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function zs(i){return-1==i.h}function Ei(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new Kn(n,~i.h).add(Is)}function Uo(i,e){return i.add(Ei(e))}function Bo(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function A(i,e){this.g=i,this.h=e}function I(i,e){if(io(e))throw Error("division by zero");if(io(i))return new A(Gs,Gs);if(zs(i))return e=I(Ei(i),e),new A(Ei(e.g),Ei(e.h));if(zs(e))return e=I(i,Ei(e)),new A(Ei(e.g),e.h);if(30<i.g.length){if(zs(i)||zs(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Is,o=e;0>=o.X(i);)n=d(n),o=d(o);var u=p(n,1),c=p(o,1);for(o=p(o,2),n=p(n,2);!io(o);){var g=c.add(o);0>=g.X(i)&&(u=u.add(n),c=g),o=p(o,1),n=p(n,1)}return e=Uo(i,u.R(e)),new A(u,e)}for(u=Gs;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),g=(c=Hs(n)).R(e);zs(g)||0<g.X(i);)g=(c=Hs(n-=o)).R(e);io(c)&&(c=Is),u=u.add(c),i=Uo(i,g)}return new A(u,i)}function d(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new Kn(n,i.h)}function p(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],c=0;c<o;c++)u[c]=0<e?i.D(c+n)>>>e|i.D(c+n+1)<<32-e:i.D(c+n);return new Kn(u,i.h)}(le=Kn.prototype).ea=function(){if(zs(this))return-Ei(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:ra+o)*e,e*=ra}return i},le.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(io(this))return"0";if(zs(this))return"-"+Ei(this).toString(i);for(var e=Hs(Math.pow(i,6)),n=this,o="";;){var u=I(n,e).g,c=((0<(n=Uo(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(io(n=u))return c+o;for(;6>c.length;)c="0"+c;o=c+o}},le.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},le.X=function(i){return zs(i=Uo(this,i))?-1:io(i)?0:1},le.abs=function(){return zs(this)?Ei(this):this},le.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var c=o+(65535&this.D(u))+(65535&i.D(u)),g=(c>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=g>>>16,n[u]=(g&=65535)<<16|(c&=65535)}return new Kn(n,-2147483648&n[n.length-1]?-1:0)},le.R=function(i){if(io(this)||io(i))return Gs;if(zs(this))return zs(i)?Ei(this).R(Ei(i)):Ei(Ei(this).R(i));if(zs(i))return Ei(this.R(Ei(i)));if(0>this.X(ia)&&0>i.X(ia))return Hs(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var c=this.D(o)>>>16,g=65535&this.D(o),b=i.D(u)>>>16,M=65535&i.D(u);n[2*o+2*u]+=g*M,Bo(n,2*o+2*u),n[2*o+2*u+1]+=c*M,Bo(n,2*o+2*u+1),n[2*o+2*u+1]+=g*b,Bo(n,2*o+2*u+1),n[2*o+2*u+2]+=c*b,Bo(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new Kn(n,0)},le.gb=function(i){return I(this,i).h},le.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new Kn(n,this.h&i.h)},le.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new Kn(n,this.h|i.h)},le.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new Kn(n,this.h^i.h)},Lo.prototype.createWebChannel=Lo.prototype.g,ur.prototype.send=ur.prototype.u,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,Zr.NO_ERROR=0,Zr.TIMEOUT=8,Zr.HTTP_ERROR=6,Si.COMPLETE="complete",Pi.EventType=gr,gr.OPEN="a",gr.CLOSE="b",gr.ERROR="c",gr.MESSAGE="d",zn.prototype.listen=zn.prototype.O,Ln.prototype.listenOnce=Ln.prototype.P,Ln.prototype.getLastError=Ln.prototype.Sa,Ln.prototype.getLastErrorCode=Ln.prototype.Ia,Ln.prototype.getStatus=Ln.prototype.da,Ln.prototype.getResponseJson=Ln.prototype.Wa,Ln.prototype.getResponseText=Ln.prototype.ja,Ln.prototype.send=Ln.prototype.ha,Ln.prototype.setWithCredentials=Ln.prototype.Oa,us.prototype.digest=us.prototype.l,us.prototype.reset=us.prototype.reset,us.prototype.update=us.prototype.j,Kn.prototype.add=Kn.prototype.add,Kn.prototype.multiply=Kn.prototype.R,Kn.prototype.modulo=Kn.prototype.gb,Kn.prototype.compare=Kn.prototype.X,Kn.prototype.toNumber=Kn.prototype.ea,Kn.prototype.toString=Kn.prototype.toString,Kn.prototype.getBits=Kn.prototype.D,Kn.fromNumber=Hs,Kn.fromString=function na(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Ei(na(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hs(Math.pow(e,8)),o=Gs,u=0;u<i.length;u+=8){var c=Math.min(8,i.length-u),g=parseInt(i.substring(u,u+c),e);8>c?(c=Hs(Math.pow(e,c)),o=o.R(c).add(Hs(g))):o=(o=o.R(n)).add(Hs(g))}return o};var E=he.createWebChannelTransport=function(){return new Lo},O=he.getStatEventTarget=function(){return En()},U=he.ErrorCode=Zr,ee=he.EventType=Si,oe=he.Event=Cr,ve=he.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ke=(he.FetchXmlHttpFactory=Zt,he.WebChannel=Pi),ut=he.XhrIo=Ln,Ft=he.Md5=us,Nt=he.Integer=Kn;const Vt="@firebase/firestore";class wt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");let Un="10.7.0";const Tn=new Ie.Yd("@firebase/firestore");function Qn(){return Tn.logLevel}function Ge(i,...e){if(Tn.logLevel<=Ie.in.DEBUG){const n=e.map(Ni);Tn.debug(`Firestore (${Un}): ${i}`,...n)}}function pr(i,...e){if(Tn.logLevel<=Ie.in.ERROR){const n=e.map(Ni);Tn.error(`Firestore (${Un}): ${i}`,...n)}}function Vr(i,...e){if(Tn.logLevel<=Ie.in.WARN){const n=e.map(Ni);Tn.warn(`Firestore (${Un}): ${i}`,...n)}}function Ni(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Tt(i="Unexpected state"){const e=`FIRESTORE (${Un}) INTERNAL ASSERTION FAILED: `+i;throw pr(e),new Error(e)}function At(i,e){i||Tt()}function ct(i,e){return i}const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends ne.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class jo{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class kt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cn{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const c=F=>this.i!==u?(u=this.i,n(F)):Promise.resolve();let g=new rn;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new rn,e.enqueueRetryable(()=>c(this.currentUser))};const b=()=>{const F=g;e.enqueueRetryable((0,ie.Z)(function*(){yield F.promise,yield c(o.currentUser)}))},M=F=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=F,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(F=>M(F)),setTimeout(()=>{if(!this.auth){const F=this.t.getImmediate({optional:!0});F?M(F):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new rn)}},0),b()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(At("string"==typeof o.accessToken),new jo(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new wt(e)}}class Hn{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Sr{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new Hn(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ls{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const o=c=>{null!=c.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const g=c.token!==this.R;return this.R=c.token,Ge("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const u=c=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>u(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?u(c):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(At("string"==typeof n.token),this.R=n.token,new Mr(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rr(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Ts{static newId(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=rr(40);for(let c=0;c<u.length;++c)o.length<20&&u[c]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[c]%62))}return o}}function hn(i,e){return i<e?-1:i>e?1:0}function pi(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class Mn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ze(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ze(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ze(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Mn(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?hn(this.nanoseconds,e.nanoseconds):hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new Mn(0,0))}static max(){return new Lt(new Mn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class po{constructor(e,n,o){void 0===n?n=0:n>e.length&&Tt(),void 0===o?o=e.length-n:o>e.length-n&&Tt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===po.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof po?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const c=e.get(u),g=n.get(u);if(c<g)return-1;if(c>g)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yt extends po{construct(e,n,o){return new yt(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ze(Ve.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const il=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gi extends po{construct(e,n,o){return new gi(e,n,o)}static isValidIdentifier(e){return il.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gi(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const c=()=>{if(0===o.length)throw new Ze(Ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let g=!1;for(;u<e.length;){const b=e[u];if("\\"===b){if(u+1===e.length)throw new Ze(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[u+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new Ze(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=M,u+=2}else"`"===b?(g=!g,u++):"."!==b||g?(o+=b,u++):(c(),u++)}if(c(),g)throw new Ze(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gi(n)}static emptyPath(){return new gi([])}}class vt{constructor(e){this.path=e}static fromPath(e){return new vt(yt.fromString(e))}static fromName(e){return new vt(yt.fromString(e).popFirst(5))}static empty(){return new vt(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new yt(e.slice()))}}function $l(i){return new Ye(i.readTime,i.key,-1)}class Ye{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Ye(Lt.min(),vt.empty(),-1)}static max(){return new Ye(Lt.max(),vt.empty(),-1)}}function Bn(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=vt.comparator(i.documentKey,e.documentKey),0!==n?n:hn(i.largestBatchId,e.largestBatchId))}const Fa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _r(i){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,ie.Z)(function*(i){if(i.code!==Ve.FAILED_PRECONDITION||i.message!==Fa)throw i;Ge("LocalStore","Unexpectedly lost primary lease")}),Ea.apply(this,arguments)}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se((o,u)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,u)},this.catchCallback=c=>{this.wrapFailure(n,c).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.reject(n)}static resolve(e){return new Se((n,o)=>{n(e)})}static reject(e){return new Se((n,o)=>{o(e)})}static waitFor(e){return new Se((n,o)=>{let u=0,c=0,g=!1;e.forEach(b=>{++u,b.next(()=>{++c,g&&c===u&&n()},M=>o(M))}),g=!0,c===u&&n()})}static or(e){let n=Se.resolve(!1);for(const o of e)n=n.next(u=>u?Se.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,c)=>{o.push(n.call(this,u,c))}),this.waitFor(o)}static mapArray(e,n){return new Se((o,u)=>{const c=e.length,g=new Array(c);let b=0;for(let M=0;M<c;M++){const F=M;n(e[F]).next(G=>{g[F]=G,++b,b===c&&o(g)},G=>u(G))}})}static doWhile(e,n){return new Se((o,u)=>{const c=()=>{!0===e()?n().next(()=>{c()},u):o()};c()})}}function sa(i){return"IndexedDbTransactionError"===i.name}let x=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.se(u),this.oe=u=>o.writeSequenceNumber(u))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function z(i){return null==i}function re(i){return 0===i&&1/i==-1/0}function zl(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ta(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ul(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Lr{constructor(e,n){this.comparator=e,this.root=n||xi.EMPTY}insert(e,n){return new Lr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new Lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wa(this.root,e,this.comparator,!1)}getReverseIterator(){return new wa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wa(this.root,e,this.comparator,!0)}}class wa{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?o(e.key,n):1,n&&u&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xi{constructor(e,n,o,u,c){this.key=e,this.value=n,this.color=o??xi.RED,this.left=u??xi.EMPTY,this.right=c??xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,c){return new xi(e??this.key,n??this.value,o??this.color,u??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const c=o(e,u.key);return u=c<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===c?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return xi.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const e=this.left.check();if(e!==this.right.check())throw Tt();return e+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(e,n,o,u,c){return this}insert(e,n,o){return new xi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yr{constructor(e){this.comparator=e,this.data=new Lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new im(this.data.getIterator())}getIteratorFrom(e){return new im(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,c=o.getNext().key;if(0!==this.comparator(u,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yr(this.comparator);return n.data=e,n}}class im{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Do{constructor(e){this.fields=e,e.sort(gi.comparator)}static empty(){return new Do([])}unionWith(e){let n=new yr(gi.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Do(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pi(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class Wl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Wl("Invalid base64 string: "+c):c}}(e);return new cs(n)}static fromUint8Array(e){const n=function(u){let c="";for(let g=0;g<u.length;++g)c+=String.fromCharCode(u[g]);return c}(e);return new cs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cs.EMPTY_BYTE_STRING=new cs("");const ql=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(i){if(At(!!i),"string"==typeof i){let e=0;const n=ql.exec(i);if(At(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:qr(i.seconds),nanos:qr(i.nanos)}}function qr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Wo(i){return"string"==typeof i?cs.fromBase64String(i):cs.fromUint8Array(i)}function ca(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ua(i){const e=i.mapValue.fields.__previous_value__;return ca(e)?Ua(e):e}function ou(i){const e=la(i.mapValue.fields.__local_write_time__.timestampValue);return new Mn(e.seconds,e.nanos)}class sm{constructor(e,n,o,u,c,g,b,M,F){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=c,this.forceLongPolling=g,this.autoDetectLongPolling=b,this.longPollingOptions=M,this.useFetchStreams=F}}class Da{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Da("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Da&&e.projectId===this.projectId&&e.database===this.database}}const da={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ca(i)?4:fh(i)?9007199254740991:10:Tt()}function Co(i,e){if(i===e)return!0;const n=Cs(i);if(n!==Cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ou(i).isEqual(ou(e));case 3:return function(u,c){if("string"==typeof u.timestampValue&&"string"==typeof c.timestampValue&&u.timestampValue.length===c.timestampValue.length)return u.timestampValue===c.timestampValue;const g=la(u.timestampValue),b=la(c.timestampValue);return g.seconds===b.seconds&&g.nanos===b.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,Wo(i.bytesValue).isEqual(Wo(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,c){return qr(u.geoPointValue.latitude)===qr(c.geoPointValue.latitude)&&qr(u.geoPointValue.longitude)===qr(c.geoPointValue.longitude)}(i,e);case 2:return function(u,c){if("integerValue"in u&&"integerValue"in c)return qr(u.integerValue)===qr(c.integerValue);if("doubleValue"in u&&"doubleValue"in c){const g=qr(u.doubleValue),b=qr(c.doubleValue);return g===b?re(g)===re(b):isNaN(g)&&isNaN(b)}return!1}(i,e);case 9:return pi(i.arrayValue.values||[],e.arrayValue.values||[],Co);case 10:return function(u,c){const g=u.mapValue.fields||{},b=c.mapValue.fields||{};if(zl(g)!==zl(b))return!1;for(const M in g)if(g.hasOwnProperty(M)&&(void 0===b[M]||!Co(g[M],b[M])))return!1;return!0}(i,e);default:return Tt()}var c}function au(i,e){return void 0!==(i.values||[]).find(n=>Co(n,e))}function ha(i,e){if(i===e)return 0;const n=Cs(i),o=Cs(e);if(n!==o)return hn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return hn(i.booleanValue,e.booleanValue);case 2:return function(c,g){const b=qr(c.integerValue||c.doubleValue),M=qr(g.integerValue||g.doubleValue);return b<M?-1:b>M?1:b===M?0:isNaN(b)?isNaN(M)?0:-1:1}(i,e);case 3:return ll(i.timestampValue,e.timestampValue);case 4:return ll(ou(i),ou(e));case 5:return hn(i.stringValue,e.stringValue);case 6:return function(c,g){const b=Wo(c),M=Wo(g);return b.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(c,g){const b=c.split("/"),M=g.split("/");for(let F=0;F<b.length&&F<M.length;F++){const G=hn(b[F],M[F]);if(0!==G)return G}return hn(b.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,g){const b=hn(qr(c.latitude),qr(g.latitude));return 0!==b?b:hn(qr(c.longitude),qr(g.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,g){const b=c.values||[],M=g.values||[];for(let F=0;F<b.length&&F<M.length;++F){const G=ha(b[F],M[F]);if(G)return G}return hn(b.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,g){if(c===da.mapValue&&g===da.mapValue)return 0;if(c===da.mapValue)return 1;if(g===da.mapValue)return-1;const b=c.fields||{},M=Object.keys(b),F=g.fields||{},G=Object.keys(F);M.sort(),G.sort();for(let X=0;X<M.length&&X<G.length;++X){const fe=hn(M[X],G[X]);if(0!==fe)return fe;const Fe=ha(b[M[X]],F[G[X]]);if(0!==Fe)return Fe}return hn(M.length,G.length)}(i.mapValue,e.mapValue);default:throw Tt()}}function ll(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return hn(i,e);const n=la(i),o=la(e),u=hn(n.seconds,o.seconds);return 0!==u?u:hn(n.nanos,o.nanos)}function Ba(i){return cl(i)}function cl(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const o=la(n);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Wo(i.bytesValue).toBase64():"referenceValue"in i?vt.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let o="[",u=!0;for(const c of n.values||[])u?u=!1:o+=",",o+=cl(c);return o+"]"}(i.arrayValue):"mapValue"in i?function(n){const o=Object.keys(n.fields||{}).sort();let u="{",c=!0;for(const g of o)c?c=!1:u+=",",u+=`${g}:${cl(n.fields[g])}`;return u+"}"}(i.mapValue):Tt()}function ku(i){return!!i&&"integerValue"in i}function lu(i){return!!i&&"arrayValue"in i}function dl(i){return!!i&&"nullValue"in i}function qc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ca(i){return!!i&&"mapValue"in i}function qo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ta(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=qo(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function fh(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Ca(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qo(n)}setAll(e){let n=gi.emptyPath(),o={},u=[];e.forEach((g,b)=>{if(!n.isImmediateParentOf(b)){const M=this.getFieldsMap(n);this.applyChanges(M,o,u),o={},u=[],n=b.popLast()}g?o[b.lastSegment()]=qo(g):u.push(b.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,o,u)}delete(e){const n=this.field(e.popLast());Ca(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Co(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Ca(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Ta(n,(u,c)=>e[u]=c);for(const u of o)delete e[u]}clone(){return new lr(qo(this.value))}}function gh(i){const e=[];return Ta(i.fields,(n,o)=>{const u=new gi([n]);if(Ca(o)){const c=gh(o.mapValue).fields;if(0===c.length)e.push(u);else for(const g of c)e.push(u.child(g))}else e.push(u)}),new Do(e)}class Kr{constructor(e,n,o,u,c,g,b){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=c,this.data=g,this.documentState=b}static newInvalidDocument(e){return new Kr(e,0,Lt.min(),Lt.min(),Lt.min(),lr.empty(),0)}static newFoundDocument(e,n,o,u){return new Kr(e,1,n,Lt.min(),o,u,0)}static newNoDocument(e,n){return new Kr(e,2,n,Lt.min(),Lt.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new Kr(e,3,n,Lt.min(),Lt.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fa{constructor(e,n){this.position=e,this.inclusive=n}}function Kl(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const c=e[u],g=i.position[u];if(o=c.field.isKeyField()?vt.comparator(vt.fromName(g.referenceValue),n.key):ha(g,n.data.field(c.field)),"desc"===c.dir&&(o*=-1),0!==o)break}return o}function Yc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Co(i.position[n],e.position[n]))return!1;return!0}class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function du(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class hu{}class wn extends hu{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new om(e,n,o):"array-contains"===n?new Xf(e,o):"in"===n?new ki(e,o):"not-in"===n?new ep(e,o):"array-contains-any"===n?new hl(e,o):new wn(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new am(e,o):new Vu(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ha(n,this.value)):null!==n&&Cs(this.value)===Cs(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends hu{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new vr(e,n)}matches(e){return ja(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ja(i){return"and"===i.op}function mh(i){return function _h(i){for(const e of i.filters)if(e instanceof vr)return!1;return!0}(i)&&ja(i)}function yh(i){if(i instanceof wn)return i.field.canonicalString()+i.op.toString()+Ba(i.value);if(mh(i))return i.filters.map(e=>yh(e)).join(",");{const e=i.filters.map(n=>yh(n)).join(",");return`${i.op}(${e})`}}function Zf(i,e){return i instanceof wn?(o=i,(u=e)instanceof wn&&o.op===u.op&&o.field.isEqual(u.field)&&Co(o.value,u.value)):i instanceof vr?function(o,u){return u instanceof vr&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((c,g,b)=>c&&Zf(g,u.filters[b]),!0)}(i,e):void Tt();var o,u}function Zc(i){return i instanceof wn?`${(n=i).field.canonicalString()} ${n.op} ${Ba(n.value)}`:i instanceof vr?function(n){return n.op.toString()+" {"+n.getFilters().map(Zc).join(" ,")+"}"}(i):"Filter";var n}class om extends wn{constructor(e,n,o){super(e,n,o),this.key=vt.fromName(o.referenceValue)}matches(e){const n=vt.comparator(e.key,this.key);return this.matchesComparison(n)}}class am extends wn{constructor(e,n){super(e,"in",n),this.keys=vh(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Vu extends wn{constructor(e,n){super(e,"not-in",n),this.keys=vh(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vh(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>vt.fromName(o.referenceValue))}class Xf extends wn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lu(n)&&au(n.arrayValue,this.value)}}class ki extends wn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&au(this.value.arrayValue,n)}}class ep extends wn{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!au(this.value.arrayValue,n)}}class hl extends wn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>au(this.value.arrayValue,o))}}class tp{constructor(e,n=null,o=[],u=[],c=null,g=null,b=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=c,this.startAt=g,this.endAt=b,this.ce=null}}function oo(i,e=null,n=[],o=[],u=null,c=null,g=null){return new tp(i,e,n,o,u,c,g)}function Ao(i){const e=ct(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>yh(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(c=o).field.canonicalString()+c.dir;var c}).join(","),z(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Ba(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Ba(o)).join(",")),e.ce=n}return e.ce}function fu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!du(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Zf(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Yc(i.startAt,e.startAt)&&Yc(i.endAt,e.endAt)}function Aa(i){return vt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class ba{constructor(e,n=null,o=[],u=[],c=null,g="F",b=null,M=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=c,this.limitType=g,this.startAt=b,this.endAt=M,this.le=null,this.he=null,this.Pe=null}}function Qi(i){return new ba(i)}function Jc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function gu(i){const e=ct(i);if(null===e.le){e.le=[];const n=new Set;for(const c of e.explicitOrderBy)e.le.push(c),n.add(c.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let b=new yr(gi.comparator);return g.filters.forEach(M=>{M.getFlattenedFilters().forEach(F=>{F.isInequality()&&(b=b.add(F.field))})}),b})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.le.push(new cu(c,o))}),n.has(gi.keyField().canonicalString())||e.le.push(new cu(gi.keyField(),o))}return e.le}function As(i){const e=ct(i);return e.he||(e.he=function fl(i,e){if("F"===i.limitType)return oo(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new cu(u.field,"desc"===u.dir?"asc":"desc"));const n=i.endAt?new fa(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new fa(i.startAt.position,i.startAt.inclusive):null;return oo(i.path,i.collectionGroup,e,i.filters,i.limit,n,o)}}(e,gu(i))),e.he}function pl(i,e,n){return new ba(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function gl(i,e){return fu(As(i),As(e))&&i.limitType===e.limitType}function Eh(i){return`${Ao(As(i))}|lt:${i.limitType}`}function Lu(i){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(u=>Zc(u)).join(", ")}]`),z(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(u=>{return`${(g=u).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(u=>Ba(u)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(u=>Ba(u)).join(",")),`Target(${o})`}(As(i))}; limitType=${i.limitType})`}function mu(i,e){return e.isFoundDocument()&&function(o,u){const c=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):vt.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(i,e)&&function(o,u){for(const c of gu(o))if(!c.field.isKeyField()&&null===u.data.field(c.field))return!1;return!0}(i,e)&&function(o,u){for(const c of o.filters)if(!c.matches(u))return!1;return!0}(i,e)&&(u=e,!((o=i).startAt&&!function(g,b,M){const F=Kl(g,b,M);return g.inclusive?F<=0:F<0}(o.startAt,gu(o),u)||o.endAt&&!function(g,b,M){const F=Kl(g,b,M);return g.inclusive?F>=0:F>0}(o.endAt,gu(o),u)));var o,u}function Xc(i){return(e,n)=>{let o=!1;for(const u of gu(i)){const c=Zl(u,e,n);if(0!==c)return c;o=o||u.field.isKeyField()}return 0}}function Zl(i,e,n){const o=i.field.isKeyField()?vt.comparator(e.key,n.key):function(c,g,b){const M=g.data.field(c),F=b.data.field(c);return null!==M&&null!==F?ha(M,F):Tt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Tt()}}class Sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,c]of o)if(this.equalsFn(u,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let c=0;c<u.length;c++)if(this.equalsFn(u[c][0],e))return void(u[c]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(n,o)=>{for(const[u,c]of o)e(u,c)})}isEmpty(){return ul(this.inner)}size(){return this.innerSize}}const D=new Lr(vt.comparator);function f(){return D}const m=new Lr(vt.comparator);function C(...i){let e=m;for(const n of i)e=e.insert(n.key,n);return e}function B(i){let e=m;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Z(){return Be()}function _e(){return Be()}function Be(){return new Sa(i=>i.toString(),(i,e)=>i.isEqual(e))}const tt=new Lr(vt.comparator),Ot=new yr(vt.comparator);function at(...i){let e=Ot;for(const n of i)e=e.add(n);return e}const ir=new yr(hn);function Pa(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:re(e)?"-0":e}}function Jl(i){return{integerValue:""+i}}function ed(i,e){return function Le(i){return"number"==typeof i&&Number.isInteger(i)&&!re(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Jl(e):Pa(i,e)}class Uu{constructor(){this._=void 0}}function Ih(i,e,n){return i instanceof _u?function(u,c){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return c&&ca(c)&&(c=Ua(c)),c&&(g.fields.__previous_value__=c),{mapValue:g}}(n,e):i instanceof Ra?td(i,e):i instanceof Ma?rp(i,e):function(u,c){const g=yl(u,c),b=Th(g)+Th(u.Ie);return ku(g)&&ku(u.Ie)?Jl(b):Pa(u.serializer,b)}(i,e)}function _l(i,e,n){return i instanceof Ra?td(i,e):i instanceof Ma?rp(i,e):n}function yl(i,e){return i instanceof Ga?ku(o=e)||(c=o)&&"doubleValue"in c?e:{integerValue:0}:null;var o,c}class _u extends Uu{}class Ra extends Uu{constructor(e){super(),this.elements=e}}function td(i,e){const n=wh(e);for(const o of i.elements)n.some(u=>Co(u,o))||n.push(o);return{arrayValue:{values:n}}}class Ma extends Uu{constructor(e){super(),this.elements=e}}function rp(i,e){let n=wh(e);for(const o of i.elements)n=n.filter(u=>!Co(u,o));return{arrayValue:{values:n}}}class Ga extends Uu{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Th(i){return qr(i.integerValue||i.doubleValue)}function wh(i){return lu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Dh{constructor(e,n){this.field=e,this.transform=n}}class ip{constructor(e,n){this.version=e,this.transformResults=n}}class Fi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sp(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class op{}function hy(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Il(i.key,Fi.none()):new vl(i.key,i.data,Fi.none());{const n=i.data,o=lr.empty();let u=new yr(gi.comparator);for(let c of e.fields)if(!u.has(c)){let g=n.field(c);null===g&&c.length>1&&(c=c.popLast(),g=n.field(c)),null===g?o.delete(c):o.set(c,g),u=u.add(c)}return new za(i.key,o,new Do(u.toArray()),Fi.none())}}function pI(i,e,n){i instanceof vl?function(u,c,g){const b=u.value.clone(),M=El(u.fieldTransforms,c,g.transformResults);b.setAll(M),c.convertToFoundDocument(g.version,b).setHasCommittedMutations()}(i,e,n):i instanceof za?function(u,c,g){if(!sp(u.precondition,c))return void c.convertToUnknownDocument(g.version);const b=El(u.fieldTransforms,c,g.transformResults),M=c.data;M.setAll(ap(u)),M.setAll(b),c.convertToFoundDocument(g.version,M).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function nd(i,e,n,o){return i instanceof vl?function(c,g,b,M){if(!sp(c.precondition,g))return b;const F=c.value.clone(),G=up(c.fieldTransforms,M,g);return F.setAll(G),g.convertToFoundDocument(g.version,F).setHasLocalMutations(),null}(i,e,n,o):i instanceof za?function(c,g,b,M){if(!sp(c.precondition,g))return b;const F=up(c.fieldTransforms,M,g),G=g.data;return G.setAll(ap(c)),G.setAll(F),g.convertToFoundDocument(g.version,G).setHasLocalMutations(),null===b?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(X=>X.field))}(i,e,n,o):(b=n,sp(i.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):b);var g,b}function Ch(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),c=yl(o.transform,u||null);null!=c&&(null===n&&(n=lr.empty()),n.set(o.field,c))}return n||null}function rd(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=i.fieldTransforms)&&void 0===u||o&&u&&pi(o,u,(c,g)=>function fI(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(o=i.transform)instanceof Ra&&u instanceof Ra||o instanceof Ma&&u instanceof Ma?pi(o.elements,u.elements,Co):o instanceof Ga&&u instanceof Ga?Co(o.Ie,u.Ie):o instanceof _u&&u instanceof _u);var o,u}(c,g))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var o,u}class vl extends op{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class za extends op{constructor(e,n,o,u,c=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ap(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function El(i,e,n){const o=new Map;At(i.length===n.length);for(let u=0;u<n.length;u++){const c=i[u],g=c.transform,b=e.data.field(c.field);o.set(c.field,_l(g,b,n[u]))}return o}function up(i,e,n){const o=new Map;for(const u of i){const c=u.transform,g=n.data.field(u.field);o.set(u.field,Ih(c,g,e))}return o}class Il extends op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xl extends op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ec{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const c=this.mutations[u];c.key.isEqual(e.key)&&pI(c,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=nd(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=nd(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=_e();return this.mutations.forEach(u=>{const c=e.get(u.key),g=c.overlayedDocument;let b=this.applyToLocalView(g,c.mutatedFields);b=n.has(u.key)?null:b;const M=hy(g,b);null!==M&&o.set(u.key,M),g.isValidDocument()||g.convertToNoDocument(Lt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),at())}isEqual(e){return this.batchId===e.batchId&&pi(this.mutations,e.mutations,(n,o)=>rd(n,o))&&pi(this.baseMutations,e.baseMutations,(n,o)=>rd(n,o))}}class tc{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){At(e.mutations.length===o.length);let u=tt;const c=e.mutations;for(let g=0;g<c.length;g++)u=u.insert(c[g].key,o[g].version);return new tc(e,n,o,u)}}class lp{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class py{constructor(e,n){this.count=e,this.unchangedNames=n}}var Yi,sr;function cm(i){if(void 0===i)return pr("GRPC error has no .code"),Ve.UNKNOWN;switch(i){case Yi.OK:return Ve.OK;case Yi.CANCELLED:return Ve.CANCELLED;case Yi.UNKNOWN:return Ve.UNKNOWN;case Yi.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case Yi.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case Yi.INTERNAL:return Ve.INTERNAL;case Yi.UNAVAILABLE:return Ve.UNAVAILABLE;case Yi.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case Yi.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case Yi.NOT_FOUND:return Ve.NOT_FOUND;case Yi.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case Yi.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case Yi.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case Yi.ABORTED:return Ve.ABORTED;case Yi.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case Yi.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case Yi.DATA_LOSS:return Ve.DATA_LOSS;default:return Tt()}}(sr=Yi||(Yi={}))[sr.OK=0]="OK",sr[sr.CANCELLED=1]="CANCELLED",sr[sr.UNKNOWN=2]="UNKNOWN",sr[sr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sr[sr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sr[sr.NOT_FOUND=5]="NOT_FOUND",sr[sr.ALREADY_EXISTS=6]="ALREADY_EXISTS",sr[sr.PERMISSION_DENIED=7]="PERMISSION_DENIED",sr[sr.UNAUTHENTICATED=16]="UNAUTHENTICATED",sr[sr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sr[sr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sr[sr.ABORTED=10]="ABORTED",sr[sr.OUT_OF_RANGE=11]="OUT_OF_RANGE",sr[sr.UNIMPLEMENTED=12]="UNIMPLEMENTED",sr[sr.INTERNAL=13]="INTERNAL",sr[sr.UNAVAILABLE=14]="UNAVAILABLE",sr[sr.DATA_LOSS=15]="DATA_LOSS";const gy=new Nt([4294967295,4294967295],0);function dm(i){const e=function cp(){return new TextEncoder}().encode(i),n=new Ft;return n.update(e),new Uint8Array(n.digest())}function go(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Nt([n,o],0),new Nt([u,c],0)]}class id{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new nc(`Invalid padding: ${n}`);if(o<0)throw new nc(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new nc(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new nc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Nt.fromNumber(this.Te)}de(e,n,o){let u=e.add(n.multiply(Nt.fromNumber(o)));return 1===u.compare(gy)&&(u=new Nt([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=dm(e),[o,u]=go(n);for(let c=0;c<this.hashCount;c++){const g=this.de(o,u,c);if(!this.Ae(g))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),g=new id(c,u,n);return o.forEach(b=>g.insert(b)),g}insert(e){if(0===this.Te)return;const n=dm(e),[o,u]=go(n);for(let c=0;c<this.hashCount;c++){const g=this.de(o,u,c);this.Re(g)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tl{constructor(e,n,o,u,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,ds.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Tl(Lt.min(),u,new Lr(hn),f(),at())}}class ds{constructor(e,n,o,u,c){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new ds(o,n,at(),at(),at())}}class Bu{constructor(e,n,o,u){this.Ve=e,this.removedTargetIds=n,this.key=o,this.me=u}}class dp{constructor(e,n){this.targetId=e,this.fe=n}}class hp{constructor(e,n,o=cs.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class hm{constructor(){this.ge=0,this.pe=fp(),this.ye=cs.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=at(),n=at(),o=at();return this.pe.forEach((u,c)=>{switch(c){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Tt()}}),new ds(this.ye,this.we,e,n,o)}Fe(){this.Se=!1,this.pe=fp()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,At(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class fm{constructor(e){this.Le=e,this.ke=new Map,this.qe=f(),this.Qe=pm(),this.Ke=new Lr(hn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(n);break;case 3:this.je(n)&&(o.Be(),o.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.Ce(e.resumeToken));break;default:Tt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((o,u)=>{this.je(u)&&n(u)})}Je(e){const n=e.targetId,o=e.fe.count,u=this.Ye(n);if(u){const c=u.target;if(Aa(c))if(0===o){const g=new vt(c.path);this.We(n,g,Kr.newNoDocument(g,Lt.min()))}else At(1===o);else{const g=this.Ze(n);if(g!==o){const b=this.Xe(e),M=b?this.et(b,e,g):1;0!==M&&(this.He(n),this.Ke=this.Ke.insert(n,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:c=0}=n;let g,b;try{g=Wo(o).toUint8Array()}catch(M){if(M instanceof Wl)return Vr("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{b=new id(g,u,c)}catch(M){return Vr(M instanceof nc?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===b.Te?null:b}et(e,n,o){return n.fe.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Le.getRemoteKeysForTarget(n);let u=0;return o.forEach(c=>{const g=this.Le.nt(),b=`projects/${g.projectId}/databases/${g.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.We(n,c,null),u++)}),u}it(e){const n=new Map;this.ke.forEach((c,g)=>{const b=this.Ye(g);if(b){if(c.current&&Aa(b.target)){const M=new vt(b.target.path);null!==this.qe.get(M)||this.st(g,M)||this.We(g,M,Kr.newNoDocument(M,e))}c.De&&(n.set(g,c.ve()),c.Fe())}});let o=at();this.Qe.forEach((c,g)=>{let b=!0;g.forEachWhile(M=>{const F=this.Ye(M);return!F||"TargetPurposeLimboResolution"===F.purpose||(b=!1,!1)}),b&&(o=o.add(c))}),this.qe.forEach((c,g)=>g.setReadTime(e));const u=new Tl(e,n,this.Ke,this.qe,o);return this.qe=f(),this.Qe=pm(),this.Ke=new Lr(hn),u}Ue(e,n){if(!this.je(e))return;const o=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,o),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const u=this.ze(e);this.st(e,n)?u.Me(n,1):u.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),o&&(this.qe=this.qe.insert(n,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new hm,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new yr(hn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Ge("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new hm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function pm(){return new Lr(vt.comparator)}function fp(){return new Lr(vt.comparator)}const my={asc:"ASCENDING",desc:"DESCENDING"},gm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_y={and:"AND",or:"OR"};class yy{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sd(i,e){return i.useProto3Json||z(e)?e:{value:e}}function ju(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function od(i,e){return ju(i,e.toTimestamp())}function Zi(i){return At(!!i),Lt.fromTimestamp(function(n){const o=la(n);return new Mn(o.seconds,o.nanos)}(i))}function pp(i,e){return(o=i,new yt(["projects",o.projectId,"databases",o.database])).child("documents").child(e).canonicalString();var o}function gp(i){const e=yt.fromString(i);return At(Dy(e)),e}function rc(i,e){return pp(i.databaseId,e.path)}function Na(i,e){const n=gp(e);if(n.get(1)!==i.databaseId.projectId)throw new Ze(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ze(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new vt(bh(n))}function $u(i,e){return pp(i.databaseId,e)}function ic(i){return new yt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function bh(i){return At(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function ud(i,e,n){return{name:rc(i,e),fields:n.value.mapValue.fields}}function _p(i,e){return{documents:[$u(i,e.path)]}}function sc(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=$u(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$u(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(M){if(0!==M.length)return Ep(vr.create(M,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const c=function(M){if(0!==M.length)return M.map(F=>{return{field:bo((X=F).field),direction:Ty(X.dir)};var X})}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const g=sd(i,e.limit);return null!==g&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(n.structuredQuery.endAt=function(M){return{before:!M.inclusive,values:M.position}}(e.endAt)),n;var M}function Sh(i){let e=function ad(i){const e=gp(i);return 4===e.length?yt.emptyPath():bh(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){At(1===o);const G=n.from[0];G.allDescendants?u=G.collectionId:e=e.child(G.collectionId)}let c=[];n.where&&(c=function(X){const fe=ym(X);return fe instanceof vr&&mh(fe)?fe.getFilters():[fe]}(n.where));let g=[];n.orderBy&&(g=n.orderBy.map(fe=>{return new cu(wl((dt=fe).field),function(ft){switch(ft){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(dt.direction));var dt}));let b=null;n.limit&&(b=function(X){let fe;return fe="object"==typeof X?X.value:X,z(fe)?null:fe}(n.limit));let M=null;var X;n.startAt&&(M=new fa((X=n.startAt).values||[],!!X.before));let F=null;return n.endAt&&(F=function(X){return new fa(X.values||[],!X.before)}(n.endAt)),function um(i,e,n,o,u,c,g,b){return new ba(i,e,n,o,u,c,g,b)}(e,u,g,c,b,"F",M,F)}function ym(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=wl(n.unaryFilter.field);return wn.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=wl(n.unaryFilter.field);return wn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=wl(n.unaryFilter.field);return wn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=wl(n.unaryFilter.field);return wn.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}(i):void 0!==i.fieldFilter?wn.create(wl((n=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return vr.create(n.compositeFilter.filters.map(o=>ym(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Tt()}}(n.compositeFilter.op))}(i):Tt();var n}function Ty(i){return my[i]}function vp(i){return gm[i]}function vm(i){return _y[i]}function bo(i){return{fieldPath:i.canonicalString()}}function wl(i){return gi.fromServerFormat(i.fieldPath)}function Ep(i){return i instanceof wn?function(n){if("=="===n.op){if(qc(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NAN"}};if(dl(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(qc(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NAN"}};if(dl(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(n.field),op:vp(n.op),value:n.value}}}(i):i instanceof vr?function(n){const o=n.getFilters().map(u=>Ep(u));return 1===o.length?o[0]:{compositeFilter:{op:vm(n.op),filters:o}}}(i):Tt()}function wy(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Dy(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class pa{constructor(e,n,o,u,c=Lt.min(),g=Lt.min(),b=cs.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=b,this.expectedCount=M}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Em{constructor(e){this.ut=e}}function dd(i){const e=Sh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?pl(e,e.limit,"L"):e}class Dl{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(qr(e.integerValue));else if("doubleValue"in e){const o=qr(e.doubleValue);isNaN(o)?this.Tt(n,13):(this.Tt(n,15),re(o)?n.Et(0):n.Et(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Tt(n,20),"string"==typeof o?n.dt(o):(n.dt(`${o.seconds||""}`),n.Et(o.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Wo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.Tt(n,45),n.Et(o.latitude||0),n.Et(o.longitude||0)}else"mapValue"in e?fh(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Tt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const o=e.fields||{};this.Tt(n,55);for(const u of Object.keys(o))this.At(u,n),this.Pt(o[u],n)}yt(e,n){const o=e.values||[];this.Tt(n,50);for(const u of o)this.Pt(u,n)}ft(e,n){this.Tt(n,37),vt.fromName(e).path.forEach(o=>{this.Tt(n,60),this.wt(o,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Dl.St=new Dl;class Cy{constructor(){this.on=new Pp}addToCollectionParentIndex(e,n){return this.on.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(Ye.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(Ye.min())}updateCollectionGroup(e,n,o){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class Pp{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new yr(yt.comparator),c=!u.has(o);return this.index[n]=u.add(o),c}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new yr(yt.comparator)).toArray()}}new Uint8Array(0);class mo{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new mo(e,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}mo.DEFAULT_COLLECTION_PERCENTILE=10,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mo.DEFAULT=new mo(41943040,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mo.DISABLED=new mo(-1,0,0);class _o{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new _o(0)}static Nn(){return new _o(-1)}}class bm{constructor(){this.changes=new Sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Se.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xy{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Sl{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&nd(o.mutation,u,Do.empty(),Mn.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,at()).next(()=>o))}getLocalViewOfDocuments(e,n,o=at()){const u=Z();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(c=>{let g=C();return c.forEach((b,M)=>{g=g.insert(b,M.overlayedDocument)}),g}))}getOverlayedDocuments(e,n){const o=Z();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,at()))}populateOverlays(e,n,o){const u=[];return o.forEach(c=>{n.has(c)||u.push(c)}),this.documentOverlayCache.getOverlays(e,u).next(c=>{c.forEach((g,b)=>{n.set(g,b)})})}computeViews(e,n,o,u){let c=f();const g=Be(),b=Be();return n.forEach((M,F)=>{const G=o.get(F.key);u.has(F.key)&&(void 0===G||G.mutation instanceof za)?c=c.insert(F.key,F):void 0!==G?(g.set(F.key,G.mutation.getFieldMask()),nd(G.mutation,F,G.mutation.getFieldMask(),Mn.now())):g.set(F.key,Do.empty())}),this.recalculateAndSaveOverlays(e,c).next(M=>(M.forEach((F,G)=>g.set(F,G)),n.forEach((F,G)=>{var X;return b.set(F,new xy(G,null!==(X=g.get(F))&&void 0!==X?X:null))}),b))}recalculateAndSaveOverlays(e,n){const o=Be();let u=new Lr((g,b)=>g-b),c=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(g=>{for(const b of g)b.keys().forEach(M=>{const F=n.get(M);if(null===F)return;let G=o.get(M)||Do.empty();G=b.applyToLocalView(F,G),o.set(M,G);const X=(u.get(b.batchId)||at()).add(M);u=u.insert(b.batchId,X)})}).next(()=>{const g=[],b=u.getReverseIterator();for(;b.hasNext();){const M=b.getNext(),F=M.key,G=M.value,X=_e();G.forEach(fe=>{if(!c.has(fe)){const Fe=hy(n.get(fe),o.get(fe));null!==Fe&&X.set(fe,Fe),c=c.add(fe)}}),g.push(this.documentOverlayCache.saveOverlays(e,F,X))}return Se.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,u){return vt.isDocumentKey((g=n).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function pu(i){return null!==i.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,u):this.getDocumentsMatchingCollectionQuery(e,n,o,u);var g}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(c=>{const g=u-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-c.size):Se.resolve(Z());let b=-1,M=c;return g.next(F=>Se.forEach(F,(G,X)=>(b<X.largestBatchId&&(b=X.largestBatchId),c.get(G)?Se.resolve():this.remoteDocumentCache.getEntry(e,G).next(fe=>{M=M.insert(G,fe)}))).next(()=>this.populateOverlays(e,F,c)).next(()=>this.computeViews(e,M,F,at())).next(G=>({batchId:b,changes:B(G)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new vt(n)).next(o=>{let u=C();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o,u){const c=n.collectionGroup;let g=C();return this.indexManager.getCollectionParents(e,c).next(b=>Se.forEach(b,M=>{const F=(X=n,fe=M.child(c),new ba(fe,null,X.explicitOrderBy.slice(),X.filters.slice(),X.limit,X.limitType,X.startAt,X.endAt));var X,fe;return this.getDocumentsMatchingCollectionQuery(e,F,o,u).next(G=>{G.forEach((X,fe)=>{g=g.insert(X,fe)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,n,o,u){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(g=>(c=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,c,u))).next(g=>{c.forEach((M,F)=>{const G=F.getKey();null===g.get(G)&&(g=g.insert(G,Kr.newInvalidDocument(G)))});let b=C();return g.forEach((M,F)=>{const G=c.get(M);void 0!==G&&nd(G.mutation,F,Do.empty(),Mn.now()),mu(n,F)&&(b=b.insert(M,F))}),b})}}class ky{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Se.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(u=n).id,version:u.version,createTime:Zi(u.createTime)}),Se.resolve();var u}getNamedQuery(e,n){return Se.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(u=n).name,query:dd(u.bundledQuery),readTime:Zi(u.readTime)}),Se.resolve();var u}}class Fy{constructor(){this.overlays=new Lr(vt.comparator),this.lr=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Z();return Se.forEach(n,u=>this.getOverlay(e,u).next(c=>{null!==c&&o.set(u,c)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,c)=>{this.lt(e,n,c)}),Se.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.lr.get(o);return void 0!==u&&(u.forEach(c=>this.overlays=this.overlays.remove(c)),this.lr.delete(o)),Se.resolve()}getOverlaysForCollection(e,n,o){const u=Z(),c=n.length+1,g=new vt(n.child("")),b=this.overlays.getIteratorFrom(g);for(;b.hasNext();){const M=b.getNext().value,F=M.getKey();if(!n.isPrefixOf(F.path))break;F.path.length===c&&M.largestBatchId>o&&u.set(M.getKey(),M)}return Se.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let c=new Lr((F,G)=>F-G);const g=this.overlays.getIterator();for(;g.hasNext();){const F=g.getNext().value;if(F.getKey().getCollectionGroup()===n&&F.largestBatchId>o){let G=c.get(F.largestBatchId);null===G&&(G=Z(),c=c.insert(F.largestBatchId,G)),G.set(F.getKey(),F)}}const b=Z(),M=c.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((F,G)=>b.set(F,G)),!(b.size()>=u)););return Se.resolve(b)}lt(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const g=this.lr.get(u.largestBatchId).delete(o.key);this.lr.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new lp(n,o));let c=this.lr.get(n);void 0===c&&(c=at(),this.lr.set(n,c)),this.lr.set(n,c.add(o.key))}}class jh{constructor(){this.hr=new yr(Ss.Pr),this.Ir=new yr(Ss.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const o=new Ss(e,n);this.hr=this.hr.add(o),this.Ir=this.Ir.add(o)}Er(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.dr(new Ss(e,n))}Ar(e,n){e.forEach(o=>this.removeReference(o,n))}Rr(e){const n=new vt(new yt([])),o=new Ss(n,e),u=new Ss(n,e+1),c=[];return this.Ir.forEachInRange([o,u],g=>{this.dr(g),c.push(g.key)}),c}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new vt(new yt([])),o=new Ss(n,e),u=new Ss(n,e+1);let c=at();return this.Ir.forEachInRange([o,u],g=>{c=c.add(g.key)}),c}containsKey(e){const n=new Ss(e,0),o=this.hr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Ss{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return vt.comparator(e.key,n.key)||hn(e.gr,n.gr)}static Tr(e,n){return hn(e.gr,n.gr)||vt.comparator(e.key,n.key)}}class Vy{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new yr(Ss.Pr)}checkEmpty(e){return Se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const c=this.pr;this.pr++;const g=new ec(c,n,o,u);this.mutationQueue.push(g);for(const b of u)this.yr=this.yr.add(new Ss(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Se.resolve(g)}lookupMutationBatch(e,n){return Se.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Sr(n+1),c=u<0?0:u;return Se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Ss(n,0),u=new Ss(n,Number.POSITIVE_INFINITY),c=[];return this.yr.forEachInRange([o,u],g=>{const b=this.wr(g.gr);c.push(b)}),Se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new yr(hn);return n.forEach(u=>{const c=new Ss(u,0),g=new Ss(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([c,g],b=>{o=o.add(b.gr)})}),Se.resolve(this.br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let c=o;vt.isDocumentKey(c)||(c=c.child(""));const g=new Ss(new vt(c),0);let b=new yr(hn);return this.yr.forEachWhile(M=>{const F=M.key.path;return!!o.isPrefixOf(F)&&(F.length===u&&(b=b.add(M.gr)),!0)},g),Se.resolve(this.br(b))}br(e){const n=[];return e.forEach(o=>{const u=this.wr(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){At(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.yr;return Se.forEach(n.mutations,u=>{const c=new Ss(u.key,n.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=o})}Fn(e){}containsKey(e,n){const o=new Ss(n,0),u=this.yr.firstAfterOrEqual(o);return Se.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Se.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ly{constructor(e){this.Cr=e,this.docs=new Lr(vt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),c=u?u.size:0,g=this.Cr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:g}),this.size+=g-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Se.resolve(o?o.document.mutableCopy():Kr.newInvalidDocument(n))}getEntries(e,n){let o=f();return n.forEach(u=>{const c=this.docs.get(u);o=o.insert(u,c?c.document.mutableCopy():Kr.newInvalidDocument(u))}),Se.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let c=f();const g=n.path,b=new vt(g.child("")),M=this.docs.getIteratorFrom(b);for(;M.hasNext();){const{key:F,value:{document:G}}=M.getNext();if(!g.isPrefixOf(F.path))break;F.path.length>g.length+1||Bn($l(G),o)<=0||(u.has(G.key)||mu(n,G))&&(c=c.insert(G.key,G.mutableCopy()))}return Se.resolve(c)}getAllFromCollectionGroup(e,n,o,u){Tt()}vr(e,n){return Se.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Uy(this)}getSize(e){return Se.resolve(this.size)}}class Uy extends bm{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this._r.addEntry(e,u)):this._r.removeEntry(o)}),Se.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class By{constructor(e){this.persistence=e,this.Fr=new Sa(n=>Ao(n),fu),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new jh,this.targetCount=0,this.Nr=_o.On()}forEachTarget(e,n){return this.Fr.forEach((o,u)=>n(u)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Mr&&(this.Mr=n),Se.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.kn(n),Se.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,o){let u=0;const c=[];return this.Fr.forEach((g,b)=>{b.sequenceNumber<=n&&null===o.get(b.targetId)&&(this.Fr.delete(g),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),u++)}),Se.waitFor(c).next(()=>u)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fr.get(n)||null;return Se.resolve(o)}addMatchingKeys(e,n,o){return this.Or.Er(n,o),Se.resolve()}removeMatchingKeys(e,n,o){this.Or.Ar(n,o);const u=this.persistence.referenceDelegate,c=[];return u&&n.forEach(g=>{c.push(u.markPotentiallyOrphaned(e,g))}),Se.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Or.mr(n);return Se.resolve(o)}containsKey(e,n){return Se.resolve(this.Or.containsKey(n))}}class $h{constructor(e,n){this.Br={},this.overlays={},this.Lr=new x(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new By(this),this.indexManager=new Cy,this.remoteDocumentCache=new Ly(o=>this.referenceDelegate.Qr(o)),this.serializer=new Em(n),this.Kr=new ky(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Fy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Br[e.toKey()];return o||(o=new Vy(n,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,o){Ge("MemoryPersistence","Starting transaction:",e);const u=new _I(this.Lr.next());return this.referenceDelegate.$r(),o(u).next(c=>this.referenceDelegate.Ur(u).next(()=>c)).toPromise().then(c=>(u.raiseOnCommittedEvent(),c))}Wr(e,n){return Se.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,n)))}}class _I extends sl{constructor(e){super(),this.currentSequenceNumber=e}}class Op{constructor(e){this.persistence=e,this.Gr=new jh,this.zr=null}static jr(e){return new Op(e)}get Hr(){if(this.zr)return this.zr;throw Tt()}addReference(e,n,o){return this.Gr.addReference(o,n),this.Hr.delete(o.toString()),Se.resolve()}removeReference(e,n,o){return this.Gr.removeReference(o,n),this.Hr.add(o.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(u=>this.Hr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(c=>this.Hr.add(c.toString()))}).next(()=>o.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Hr,o=>{const u=vt.fromPath(o);return this.Jr(e,u).next(c=>{c||n.removeEntry(u,Lt.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(o=>{o?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Se.or([()=>Se.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Wh{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.ki=o,this.qi=u}static Qi(e,n){let o=at(),u=at();for(const c of n.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:u=u.add(c.doc.key)}return new Wh(e,n.fromCache,o,u)}}class qh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jy{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,o,u){const c={result:null};return this.zi(e,n).next(g=>{c.result=g}).next(()=>{if(!c.result)return this.ji(e,n,u,o).next(g=>{c.result=g})}).next(()=>{if(c.result)return;const g=new qh;return this.Hi(e,n,g).next(b=>{if(c.result=b,this.$i)return this.Ji(e,n,g,b.size)})}).next(()=>c.result)}Ji(e,n,o,u){return o.documentReadCount<this.Ui?(Qn()<=Ie.in.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",Lu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Se.resolve()):(Qn()<=Ie.in.DEBUG&&Ge("QueryEngine","Query:",Lu(n),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Wi*u?(Qn()<=Ie.in.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",Lu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):Se.resolve())}zi(e,n){if(Jc(n))return Se.resolve(null);let o=As(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=pl(n,null,"F"),o=As(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(c=>{const g=at(...c);return this.Gi.getDocuments(e,g).next(b=>this.indexManager.getMinOffset(e,o).next(M=>{const F=this.Yi(n,b);return this.Zi(n,F,g,M.readTime)?this.zi(e,pl(n,null,"F")):this.Xi(e,F,n,M)}))})))}ji(e,n,o,u){return Jc(n)||u.isEqual(Lt.min())?Se.resolve(null):this.Gi.getDocuments(e,o).next(c=>{const g=this.Yi(n,c);return this.Zi(n,g,o,u)?Se.resolve(null):(Qn()<=Ie.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Lu(n)),this.Xi(e,g,n,function jl(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Lt.fromTimestamp(1e9===o?new Mn(n+1,0):new Mn(n,o));return new Ye(u,vt.empty(),e)}(u,-1)).next(b=>b))})}Yi(e,n){let o=new yr(Xc(e));return n.forEach((u,c)=>{mu(e,c)&&(o=o.add(c))}),o}Zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(u)>0)}Hi(e,n,o){return Qn()<=Ie.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",Lu(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ye.min(),o)}Xi(e,n,o,u){return this.Gi.getDocumentsMatchingQuery(e,o,u).next(c=>(n.forEach(g=>{c=c.insert(g.key,g)}),c))}}class kp{constructor(e,n,o,u){this.persistence=e,this.es=n,this.serializer=u,this.ts=new Lr(hn),this.ns=new Sa(c=>Ao(c),fu),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(o)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sl(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function Kh(i,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,ie.Z)(function*(i,e){const n=ct(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(c=>(u=c,n.os(e),n.mutationQueue.getAllMutationBatches(o))).next(c=>{const g=[],b=[];let M=at();for(const F of u){g.push(F.batchId);for(const G of F.mutations)M=M.add(G.key)}for(const F of c){b.push(F.batchId);for(const G of F.mutations)M=M.add(G.key)}return n.localDocuments.getDocuments(o,M).next(F=>({_s:F,removedBatchIds:g,addedBatchIds:b}))})})}),Qh.apply(this,arguments)}function Ku(i){const e=ct(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Zh(i,e){const n=ct(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Qu(i,e,n){return fc.apply(this,arguments)}function fc(){return fc=(0,ie.Z)(function*(i,e,n){const o=ct(i),u=o.ts.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",c,g=>o.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!sa(g))throw g;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.ts=o.ts.remove(e),o.ns.delete(u.target)}),fc.apply(this,arguments)}function Ko(i,e,n){const o=ct(i);let u=Lt.min(),c=at();return o.persistence.runTransaction("Execute query","readwrite",g=>function(M,F,G){const X=ct(M),fe=X.ns.get(G);return void 0!==fe?Se.resolve(X.ts.get(fe)):X.qr.getTargetData(F,G)}(o,g,As(e)).next(b=>{if(b)return u=b.lastLimboFreeSnapshotVersion,o.qr.getMatchingKeysForTargetId(g,b.targetId).next(M=>{c=M})}).next(()=>o.es.getDocumentsMatchingQuery(g,e,n?u:Lt.min(),n?c:at())).next(b=>(function Om(i,e,n){let o=i.rs.get(e)||Lt.min();n.forEach((u,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),i.rs.set(e,o)}(o,function ml(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),b),{documents:b,ls:c})))}class Fm{constructor(){this.activeTargetIds=function bs(){return ir}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vm{constructor(){this.eo=new Fm,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,o){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Fm,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gy{ro(e){}shutdown(){}}class zy{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Lp=null;function gc(){return null===Lp?Lp=268435456+Math.round(2147483648*Math.random()):Lp++,"0x"+Lp.toString(16)}const Wy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Up{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ls="WebChannelConnection";class mc extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.mo=o+"://"+n.host,this.fo=`projects/${u}/databases/${c}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${c}`}get yo(){return!1}wo(n,o,u,c,g){const b=gc(),M=this.So(n,o);Ge("RestConnection",`Sending RPC '${n}' ${b}:`,M,u);const F={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(F,c,g),this.Do(n,M,F,u).then(G=>(Ge("RestConnection",`Received RPC '${n}' ${b}: `,G),G),G=>{throw Vr("RestConnection",`RPC '${n}' ${b} failed with error: `,G,"url: ",M,"request:",u),G})}Co(n,o,u,c,g,b){return this.wo(n,o,u,c,g)}bo(n,o,u){n["X-Goog-Api-Client"]="gl-js/ fire/"+Un,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,g)=>n[g]=c),u&&u.headers.forEach((c,g)=>n[g]=c)}So(n,o){return`${this.mo}/v1/${o}:${Wy[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,o,u){const c=gc();return new Promise((g,b)=>{const M=new ut;M.setWithCredentials(!0),M.listenOnce(ee.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case U.NO_ERROR:const G=M.getResponseJson();Ge(Ls,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(G)),g(G);break;case U.TIMEOUT:Ge(Ls,`RPC '${e}' ${c} timed out`),b(new Ze(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case U.HTTP_ERROR:const X=M.getStatus();if(Ge(Ls,`RPC '${e}' ${c} failed with status:`,X,"response text:",M.getResponseText()),X>0){let fe=M.getResponseJson();Array.isArray(fe)&&(fe=fe[0]);const Fe=fe?.error;if(Fe&&Fe.status&&Fe.message){const dt=function(ft){const dn=ft.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(dn)>=0?dn:Ve.UNKNOWN}(Fe.status);b(new Ze(dt,Fe.message))}else b(new Ze(Ve.UNKNOWN,"Server responded with status "+M.getStatus()))}else b(new Ze(Ve.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{Ge(Ls,`RPC '${e}' ${c} completed.`)}});const F=JSON.stringify(u);Ge(Ls,`RPC '${e}' ${c} sending request:`,u),M.send(n,"POST",F,o,15)})}vo(e,n,o){const u=gc(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=E(),b=O(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},F=this.longPollingOptions.timeoutSeconds;void 0!==F&&(M.longPollingTimeout=Math.round(1e3*F)),this.useFetchStreams&&(M.useFetchStreams=!0),this.bo(M.initMessageHeaders,n,o),M.encodeInitMessageHeaders=!0;const G=c.join("");Ge(Ls,`Creating RPC '${e}' stream ${u}: ${G}`,M);const X=g.createWebChannel(G,M);let fe=!1,Fe=!1;const dt=new Up({co:ft=>{Fe?Ge(Ls,`Not sending because RPC '${e}' stream ${u} is closed:`,ft):(fe||(Ge(Ls,`Opening RPC '${e}' stream ${u} transport.`),X.open(),fe=!0),Ge(Ls,`RPC '${e}' stream ${u} sending:`,ft),X.send(ft))},lo:()=>X.close()}),mt=(ft,dn,yn)=>{ft.listen(dn,tn=>{try{yn(tn)}catch(cr){setTimeout(()=>{throw cr},0)}})};return mt(X,Ke.EventType.OPEN,()=>{Fe||Ge(Ls,`RPC '${e}' stream ${u} transport opened.`)}),mt(X,Ke.EventType.CLOSE,()=>{Fe||(Fe=!0,Ge(Ls,`RPC '${e}' stream ${u} transport closed`),dt.Ro())}),mt(X,Ke.EventType.ERROR,ft=>{Fe||(Fe=!0,Vr(Ls,`RPC '${e}' stream ${u} transport errored:`,ft),dt.Ro(new Ze(Ve.UNAVAILABLE,"The operation could not be completed")))}),mt(X,Ke.EventType.MESSAGE,ft=>{var dn;if(!Fe){const yn=ft.data[0];At(!!yn);const cr=yn.error||(null===(dn=yn[0])||void 0===dn?void 0:dn.error);if(cr){Ge(Ls,`RPC '${e}' stream ${u} received error:`,cr);const Ur=cr.status;let Qr=function(pT){const Ll=Yi[pT];if(void 0!==Ll)return cm(Ll)}(Ur),hs=cr.message;void 0===Qr&&(Qr=Ve.INTERNAL,hs="Unknown error status: "+Ur+" with message "+cr.message),Fe=!0,dt.Ro(new Ze(Qr,hs)),X.close()}else Ge(Ls,`RPC '${e}' stream ${u} received:`,yn),dt.Vo(yn)}}),mt(b,oe.STAT_EVENT,ft=>{ft.stat===ve.PROXY?Ge(Ls,`RPC '${e}' stream ${u} detected buffering proxy`):ft.stat===ve.NOPROXY&&Ge(Ls,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{dt.Ao()},0),dt}}function _c(){return typeof document<"u"?document:null}function Tu(i){return new yy(i,!0)}class yc{constructor(e,n,o=1e3,u=1.5,c=6e4){this.si=e,this.timerId=n,this.Fo=o,this.Mo=u,this.xo=c,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),o=Math.max(0,Date.now()-this.Bo),u=Math.max(0,n-o);u>0&&Ge("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Rl{constructor(e,n,o,u,c,g,b,M){this.si=e,this.Ko=o,this.$o=u,this.connection=c,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=b,this.listener=M,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new yc(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,ie.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,ie.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var o=this;return(0,ie.Z)(function*(){o.t_(),o.n_(),o.zo.cancel(),o.Uo++,4!==e?o.zo.reset():n&&n.code===Ve.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),o.zo.Lo()):n&&n.code===Ve.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.r_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Uo===n&&this.s_(o,u)},o=>{e(()=>{const u=new Ze(Ve.UNKNOWN,"Fetching auth token failed: "+o.message);return this.o_(u)})})}s_(e,n){const o=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{o(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{o(()=>this.o_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,ie.Z)(function*(){e.state=0,e.start()}))}o_(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bp extends Rl{constructor(e,n,o,u,c,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,g),this.serializer=c}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Ey(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(F=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===F?1:"REMOVE"===F?2:"CURRENT"===F?3:"RESET"===F?4:Tt(),u=e.targetChange.targetIds||[],c=function(F,G){return F.useProto3Json?(At(void 0===G||"string"==typeof G),cs.fromBase64String(G||"")):(At(void 0===G||G instanceof Uint8Array),cs.fromUint8Array(G||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,b=g&&function(F){const G=void 0===F.code?Ve.UNKNOWN:cm(F.code);return new Ze(G,F.message||"")}(g);n=new hp(o,u,c,b||null)}else if("documentChange"in e){const o=e.documentChange,u=Na(i,o.document.name),c=Zi(o.document.updateTime),g=o.document.createTime?Zi(o.document.createTime):Lt.min(),b=new lr({mapValue:{fields:o.document.fields}}),M=Kr.newFoundDocument(u,c,g,b);n=new Bu(o.targetIds||[],o.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const o=e.documentDelete,u=Na(i,o.document),c=o.readTime?Zi(o.readTime):Lt.min(),g=Kr.newNoDocument(u,c);n=new Bu([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,u=Na(i,o.document);n=new Bu([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Tt();{const o=e.filter,{count:u=0,unchangedNames:c}=o,g=new py(u,c);n=new dp(o.targetId,g)}}var F;return n}(this.serializer,e),o=function(c){if(!("targetChange"in c))return Lt.min();const g=c.targetChange;return g.targetIds&&g.targetIds.length?Lt.min():g.readTime?Zi(g.readTime):Lt.min()}(e);return this.listener.a_(n,o)}u_(e){const n={};n.database=ic(this.serializer),n.addTarget=function(c,g){let b;const M=g.target;if(b=Aa(M)?{documents:_p(c,M)}:{query:sc(c,M)},b.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){b.resumeToken=mm(c,g.resumeToken);const F=sd(c,g.expectedCount);null!==F&&(b.expectedCount=F)}else if(g.snapshotVersion.compareTo(Lt.min())>0){b.readTime=ju(c,g.snapshotVersion.toTimestamp());const F=sd(c,g.expectedCount);null!==F&&(b.expectedCount=F)}return b}(this.serializer,e);const o=function yp(i,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.e_(n)}c_(e){const n={};n.database=ic(this.serializer),n.removeTarget=e,this.e_(n)}}class jp extends Rl{constructor(e,n,o,u,c,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,g),this.serializer=c,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Iy(i,e){return i&&i.length>0?(At(void 0!==e),i.map(n=>function(u,c){let g=Zi(u.updateTime?u.updateTime:c);return g.isEqual(Lt.min())&&(g=Zi(c)),new ip(g,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Zi(e.commitTime);return this.listener.I_(o,n)}return At(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=ic(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function ld(i,e){let n;if(e instanceof vl)n={update:ud(i,e.key,e.value)};else if(e instanceof Il)n={delete:rc(i,e.key)};else if(e instanceof za)n={update:ud(i,e.key,e.data),updateMask:wy(e.fieldMask)};else{if(!(e instanceof Xl))return Tt();n={verify:rc(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(c,g){const b=g.transform;if(b instanceof _u)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Ra)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Ma)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Ga)return{fieldPath:g.field.canonicalString(),increment:b.Ie};throw Tt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:od(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Tt()),n;var c}(this.serializer,o))};this.e_(n)}}class tf extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new Ze(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.wo(e,n,o,u,c)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ze(Ve.UNKNOWN,u.toString())})}Co(e,n,o,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,g])=>this.connection.Co(e,n,o,c,g,u)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ze(Ve.UNKNOWN,c.toString())})}terminate(){this.d_=!0}}class Sd{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(pr(n),this.f_=!1):Ge("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class qy{constructor(e,n,o,u,c){var g=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=c,this.F_.ro(b=>{o.enqueueAndForget((0,ie.Z)(function*(){var M;Ka(g)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,ie.Z)(function*(G){const X=ct(G);X.C_.add(4),yield Ec(X),X.M_.set("Unknown"),X.C_.delete(4),yield vc(X)}),function F(G){return M.apply(this,arguments)})(g))}))}),this.M_=new Sd(o,u)}}function vc(i){return $p.apply(this,arguments)}function $p(){return $p=(0,ie.Z)(function*(i){if(Ka(i))for(const e of i.v_)yield e(!0)}),$p.apply(this,arguments)}function Ec(i){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,ie.Z)(function*(i){for(const e of i.v_)yield e(!1)}),Pd.apply(this,arguments)}function Rd(i,e){const n=ct(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Ic(n)?Gp(n):wc(n).Ho()&&Hp(n,e))}function Md(i,e){const n=ct(i),o=wc(n);n.D_.delete(e),o.Ho()&&Ky(n,e),0===n.D_.size&&(o.Ho()?o.Zo():Ka(n)&&n.M_.set("Unknown"))}function Hp(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Lt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wc(i).u_(e)}function Ky(i,e){i.x_.Oe(e),wc(i).c_(e)}function Gp(i){i.x_=new fm({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),wc(i).start(),i.M_.g_()}function Ic(i){return Ka(i)&&!wc(i).jo()&&i.D_.size>0}function Ka(i){return 0===ct(i).C_.size}function Lm(i){i.x_=void 0}function Um(i){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,ie.Z)(function*(i){i.D_.forEach((e,n)=>{Hp(i,e)})}),Nd.apply(this,arguments)}function nf(i,e){return zp.apply(this,arguments)}function zp(){return zp=(0,ie.Z)(function*(i,e){Lm(i),Ic(i)?(i.M_.w_(e),Gp(i)):i.M_.set("Unknown")}),zp.apply(this,arguments)}function Bm(i,e,n){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,ie.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof hp&&2===e.state&&e.cause)try{yield(o=(0,ie.Z)(function*(c,g){const b=g.cause;for(const M of g.targetIds)c.D_.has(M)&&(yield c.remoteSyncer.rejectListen(M,b),c.D_.delete(M),c.x_.removeTarget(M))}),function u(c,g){return o.apply(this,arguments)})(i,e)}catch(o){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Od(i,o)}else if(e instanceof Bu?i.x_.$e(e):e instanceof dp?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(Lt.min()))try{const o=yield Ku(i.localStore);n.compareTo(o)>=0&&(yield function(c,g){const b=c.x_.it(g);return b.targetChanges.forEach((M,F)=>{if(M.resumeToken.approximateByteSize()>0){const G=c.D_.get(F);G&&c.D_.set(F,G.withResumeToken(M.resumeToken,g))}}),b.targetMismatches.forEach((M,F)=>{const G=c.D_.get(M);if(!G)return;c.D_.set(M,G.withResumeToken(cs.EMPTY_BYTE_STRING,G.snapshotVersion)),Ky(c,M);const X=new pa(G.target,M,F,G.sequenceNumber);Hp(c,X)}),c.remoteSyncer.applyRemoteEvent(b)}(i,n))}catch(o){Ge("RemoteStore","Failed to raise snapshot:",o),yield Od(i,o)}var o}),Wp.apply(this,arguments)}function Od(i,e,n){return jm.apply(this,arguments)}function jm(){return jm=(0,ie.Z)(function*(i,e,n){if(!sa(e))throw e;i.C_.add(1),yield Ec(i),i.M_.set("Offline"),n||(n=()=>Ku(i.localStore)),i.asyncQueue.enqueueRetryable((0,ie.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield vc(i)}))}),jm.apply(this,arguments)}function $m(i,e){return e().catch(n=>Od(i,n,e))}function wu(i){return qp.apply(this,arguments)}function qp(){return qp=(0,ie.Z)(function*(i){const e=ct(i),n=Du(e);let o=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Tc(e);)try{const u=yield Zh(e.localStore,o);if(null===u){0===e.b_.length&&n.Zo();break}o=u.batchId,xd(e,u)}catch(u){yield Od(e,u)}Hm(e)&&Kp(e)}),qp.apply(this,arguments)}function Tc(i){return Ka(i)&&i.b_.length<10}function xd(i,e){i.b_.push(e);const n=Du(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function Hm(i){return Ka(i)&&!Du(i).jo()&&i.b_.length>0}function Kp(i){Du(i).start()}function Qy(i){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,ie.Z)(function*(i){Du(i).E_()}),Qp.apply(this,arguments)}function Yy(i){return rf.apply(this,arguments)}function rf(){return rf=(0,ie.Z)(function*(i){const e=Du(i);for(const n of i.b_)e.P_(n.mutations)}),rf.apply(this,arguments)}function Gm(i,e,n){return kd.apply(this,arguments)}function kd(){return kd=(0,ie.Z)(function*(i,e,n){const o=i.b_.shift(),u=tc.from(o,e,n);yield $m(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield wu(i)}),kd.apply(this,arguments)}function vI(i,e){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,ie.Z)(function*(i,e){var n;e&&Du(i).h_&&(yield(n=(0,ie.Z)(function*(u,c){if(function lm(i){switch(i){default:return Tt();case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0}}(b=c.code)&&b!==Ve.ABORTED){const g=u.b_.shift();Du(u).Yo(),yield $m(u,()=>u.remoteSyncer.rejectFailedWrite(g.batchId,c)),yield wu(u)}var b}),function o(u,c){return n.apply(this,arguments)})(i,e)),Hm(i)&&Kp(i)}),Fd.apply(this,arguments)}function Yp(i,e){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,ie.Z)(function*(i,e){const n=ct(i);n.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const o=Ka(n);n.C_.add(3),yield Ec(n),o&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield vc(n)}),Zp.apply(this,arguments)}function sf(){return sf=(0,ie.Z)(function*(i,e){const n=ct(i);e?(n.C_.delete(2),yield vc(n)):e||(n.C_.add(2),yield Ec(n),n.M_.set("Unknown"))}),sf.apply(this,arguments)}function wc(i){return i.O_||(i.O_=function(n,o,u){const c=ct(n);return c.A_(),new Bp(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,u)}(i.datastore,i.asyncQueue,{ho:Um.bind(null,i),Io:nf.bind(null,i),a_:Bm.bind(null,i)}),i.v_.push(function(){var e=(0,ie.Z)(function*(n){n?(i.O_.Yo(),Ic(i)?Gp(i):i.M_.set("Unknown")):(yield i.O_.stop(),Lm(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function Du(i){return i.N_||(i.N_=function(n,o,u){const c=ct(n);return c.A_(),new jp(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,u)}(i.datastore,i.asyncQueue,{ho:Qy.bind(null,i),Io:vI.bind(null,i),T_:Yy.bind(null,i),I_:Gm.bind(null,i)}),i.v_.push(function(){var e=(0,ie.Z)(function*(n){n?(i.N_.Yo(),yield wu(i)):(yield i.N_.stop(),i.b_.length>0&&(Ge("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class Xp{constructor(e,n,o,u,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=c,this.deferred=new rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,u,c){const g=Date.now()+o,b=new Xp(e,n,g,u,c);return b.start(o),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ze(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dc(i,e){if(pr("AsyncQueue",`${e}: ${i}`),sa(i))return new Ze(Ve.UNAVAILABLE,`${e}: ${i}`);throw i}class Vd{constructor(e){this.comparator=e?(n,o)=>e(n,o)||vt.comparator(n.key,o.key):(n,o)=>vt.comparator(n.key,o.key),this.keyedMap=C(),this.sortedSet=new Lr(this.comparator)}static emptySet(e){return new Vd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,c=o.getNext().key;if(!u.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Vd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class eg{constructor(){this.B_=new Lr(vt.comparator)}track(e){const n=e.doc.key,o=this.B_.get(n);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(n):1===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Tt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,o)=>{e.push(o)}),e}}class Ml{constructor(e,n,o,u,c,g,b,M,F){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=c,this.fromCache=g,this.syncStateChanged=b,this.excludesMetadataChanges=M,this.hasCachedResults=F}static fromInitialDocuments(e,n,o,u,c){const g=[];return n.forEach(b=>{g.push({type:0,doc:b})}),new Ml(e,n,Vd.emptySet(n),g,o,u,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class Oa{constructor(){this.k_=void 0,this.listeners=[]}}class zm{constructor(){this.queries=new Sa(e=>Eh(e),gl),this.onlineState="Unknown",this.q_=new Set}}function Wm(i,e){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,ie.Z)(function*(i,e){const n=ct(i),o=e.query;let u=!1,c=n.queries.get(o);if(c||(u=!0,c=new Oa),u)try{c.k_=yield n.onListen(o)}catch(g){const b=Dc(g,`Initialization of query '${Lu(e.query)}' failed`);return void e.onError(b)}n.queries.set(o,c),c.listeners.push(e),e.Q_(n.onlineState),c.k_&&e.K_(c.k_)&&tg(n)}),Ld.apply(this,arguments)}function Qa(i,e){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,ie.Z)(function*(i,e){const n=ct(i),o=e.query;let u=!1;const c=n.queries.get(o);if(c){const g=c.listeners.indexOf(e);g>=0&&(c.listeners.splice(g,1),u=0===c.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Ud.apply(this,arguments)}function Zy(i,e){const n=ct(i);let o=!1;for(const u of e){const g=n.queries.get(u.query);if(g){for(const b of g.listeners)b.K_(u)&&(o=!0);g.k_=u}}o&&tg(n)}function EI(i,e,n){const o=ct(i),u=o.queries.get(e);if(u)for(const c of u.listeners)c.onError(n);o.queries.delete(e)}function tg(i){i.q_.forEach(e=>{e.next()})}class Bd{constructor(e,n,o){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=o||{}}K_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Ml(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Ps{constructor(e){this.key=e}}class qm{constructor(e){this.key=e}}class af{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=at(),this.mutatedKeys=at(),this._a=Xc(e),this.aa=new Vd(this._a)}get ua(){return this.ia}ca(e,n){const o=n?n.la:new eg,u=n?n.aa:this.aa;let c=n?n.mutatedKeys:this.mutatedKeys,g=u,b=!1;const M="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,F="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((G,X)=>{const fe=u.get(G),Fe=mu(this.query,X)?X:null,dt=!!fe&&this.mutatedKeys.has(fe.key),mt=!!Fe&&(Fe.hasLocalMutations||this.mutatedKeys.has(Fe.key)&&Fe.hasCommittedMutations);let ft=!1;fe&&Fe?fe.data.isEqual(Fe.data)?dt!==mt&&(o.track({type:3,doc:Fe}),ft=!0):this.ha(fe,Fe)||(o.track({type:2,doc:Fe}),ft=!0,(M&&this._a(Fe,M)>0||F&&this._a(Fe,F)<0)&&(b=!0)):!fe&&Fe?(o.track({type:0,doc:Fe}),ft=!0):fe&&!Fe&&(o.track({type:1,doc:fe}),ft=!0,(M||F)&&(b=!0)),ft&&(Fe?(g=g.add(Fe),c=mt?c.add(G):c.delete(G)):(g=g.delete(G),c=c.delete(G)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const G="F"===this.query.limitType?g.last():g.first();g=g.delete(G.key),c=c.delete(G.key),o.track({type:1,doc:G})}return{aa:g,la:o,Zi:b,mutatedKeys:c}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o,u){const c=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const g=e.la.L_();g.sort((G,X)=>function(Fe,dt){const mt=ft=>{switch(ft){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return mt(Fe)-mt(dt)}(G.type,X.type)||this._a(G.doc,X.doc)),this.Pa(o),u=null!=u&&u;const b=n&&!u?this.Ia():[],M=0===this.oa.size&&this.current&&!u?1:0,F=M!==this.sa;return this.sa=M,0!==g.length||F?{snapshot:new Ml(this.query,e.aa,c,g,e.mutatedKeys,0===M,F,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ta:b}:{Ta:b}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new eg,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=at(),this.aa.forEach(o=>{this.Ea(o.key)&&(this.oa=this.oa.add(o.key))});const n=[];return e.forEach(o=>{this.oa.has(o)||n.push(new qm(o))}),this.oa.forEach(o=>{e.has(o)||n.push(new Ps(o))}),n}da(e){this.ia=e.ls,this.oa=at();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ml.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class ev{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class tv{constructor(e){this.key=e,this.Ra=!1}}class rg{constructor(e,n,o,u,c,g){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=c,this.maxConcurrentLimboResolutions=g,this.Va={},this.ma=new Sa(b=>Eh(b),gl),this.fa=new Map,this.ga=new Set,this.pa=new Lr(vt.comparator),this.ya=new Map,this.wa=new jh,this.Sa={},this.ba=new Map,this.Da=_o.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Km(i,e){return uf.apply(this,arguments)}function uf(){return uf=(0,ie.Z)(function*(i,e){const n=function Hd(i){const e=ct(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=og.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cc.bind(null,e),e.Va.a_=Zy.bind(null,e.eventManager),e.Va.Fa=EI.bind(null,e.eventManager),e}(i);let o,u;const c=n.ma.get(e);if(c)o=c.targetId,n.sharedClientState.addLocalQueryTarget(o),u=c.view.Aa();else{const g=yield function hc(i,e){const n=ct(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.qr.getTargetData(o,e).next(c=>c?(u=c,Se.resolve(u)):n.qr.allocateTargetId(o).next(g=>(u=new pa(e,g,"TargetPurposeListen",o.currentSequenceNumber),n.qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.ts.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ts=n.ts.insert(o.targetId,o),n.ns.set(e,o.targetId)),o})}(n.localStore,As(e)),b=n.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,u=yield function ig(i,e,n,o,u){return lf.apply(this,arguments)}(n,e,o,"current"===b,g.resumeToken),n.isPrimaryClient&&Rd(n.remoteStore,g)}return u}),uf.apply(this,arguments)}function lf(){return lf=(0,ie.Z)(function*(i,e,n,o,u){i.va=(X,fe,Fe)=>{return(dt=(0,ie.Z)(function*(ft,dn,yn,tn){let cr=dn.view.ca(yn);cr.Zi&&(cr=yield Ko(ft.localStore,dn.query,!1).then(({documents:Qo})=>dn.view.ca(Qo,cr)));const Ur=tn&&tn.targetChanges.get(dn.targetId),Qr=tn&&null!=tn.targetMismatches.get(dn.targetId),hs=dn.view.applyChanges(cr,ft.isPrimaryClient,Ur,Qr);return ug(ft,dn.targetId,hs.Ta),hs.snapshot}),function mt(ft,dn,yn,tn){return dt.apply(this,arguments)})(i,X,fe,Fe);var dt};const c=yield Ko(i.localStore,e,!0),g=new af(e,c.ls),b=g.ca(c.documents),M=ds.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),F=g.applyChanges(b,i.isPrimaryClient,M);ug(i,n,F.Ta);const G=new ev(e,n,g);return i.ma.set(e,G),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),F.snapshot}),lf.apply(this,arguments)}function Qm(i,e){return sg.apply(this,arguments)}function sg(){return sg=(0,ie.Z)(function*(i,e){const n=ct(i),o=n.ma.get(e),u=n.fa.get(o.targetId);if(u.length>1)return n.fa.set(o.targetId,u.filter(c=>!gl(c,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Qu(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Md(n.remoteStore,o.targetId),bc(n,o.targetId)}).catch(_r))):(bc(n,o.targetId),yield Qu(n.localStore,o.targetId,!0))}),sg.apply(this,arguments)}function cf(){return cf=(0,ie.Z)(function*(i,e,n){const o=function Nl(i){const e=ct(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ym.bind(null,e),e}(i);try{const u=yield function(g,b){const M=ct(g),F=Mn.now(),G=b.reduce((Fe,dt)=>Fe.add(dt.key),at());let X,fe;return M.persistence.runTransaction("Locally write mutations","readwrite",Fe=>{let dt=f(),mt=at();return M.ss.getEntries(Fe,G).next(ft=>{dt=ft,dt.forEach((dn,yn)=>{yn.isValidDocument()||(mt=mt.add(dn))})}).next(()=>M.localDocuments.getOverlayedDocuments(Fe,dt)).next(ft=>{X=ft;const dn=[];for(const yn of b){const tn=Ch(yn,X.get(yn.key).overlayedDocument);null!=tn&&dn.push(new za(yn.key,tn,gh(tn.value.mapValue),Fi.exists(!0)))}return M.mutationQueue.addMutationBatch(Fe,F,dn,b)}).next(ft=>{fe=ft;const dn=ft.applyToLocalDocumentSet(X,mt);return M.documentOverlayCache.saveOverlays(Fe,ft.batchId,dn)})}).then(()=>({batchId:fe.batchId,changes:B(X)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(g,b,M){let F=g.Sa[g.currentUser.toKey()];F||(F=new Lr(hn)),F=F.insert(b,M),g.Sa[g.currentUser.toKey()]=F}(o,u.batchId,n),yield Zu(o,u.changes),yield wu(o.remoteStore)}catch(u){const c=Dc(u,"Failed to persist write");n.reject(c)}}),cf.apply(this,arguments)}function og(i,e){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,ie.Z)(function*(i,e){const n=ct(i);try{const o=yield function $y(i,e){const n=ct(i),o=e.snapshotVersion;let u=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const g=n.ss.newChangeBuffer({trackRemovals:!0});u=n.ts;const b=[];e.targetChanges.forEach((G,X)=>{const fe=u.get(X);if(!fe)return;b.push(n.qr.removeMatchingKeys(c,G.removedDocuments,X).next(()=>n.qr.addMatchingKeys(c,G.addedDocuments,X)));let Fe=fe.withSequenceNumber(c.currentSequenceNumber);var mt,ft,dn;null!==e.targetMismatches.get(X)?Fe=Fe.withResumeToken(cs.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):G.resumeToken.approximateByteSize()>0&&(Fe=Fe.withResumeToken(G.resumeToken,o)),u=u.insert(X,Fe),ft=Fe,dn=G,(0===(mt=fe).resumeToken.approximateByteSize()||ft.snapshotVersion.toMicroseconds()-mt.snapshotVersion.toMicroseconds()>=3e8||dn.addedDocuments.size+dn.modifiedDocuments.size+dn.removedDocuments.size>0)&&b.push(n.qr.updateTargetData(c,Fe))});let M=f(),F=at();if(e.documentUpdates.forEach(G=>{e.resolvedLimboDocuments.has(G)&&b.push(n.persistence.referenceDelegate.updateLimboDocument(c,G))}),b.push(function Yh(i,e,n){let o=at(),u=at();return n.forEach(c=>o=o.add(c)),e.getEntries(i,o).next(c=>{let g=f();return n.forEach((b,M)=>{const F=c.get(b);M.isFoundDocument()!==F.isFoundDocument()&&(u=u.add(b)),M.isNoDocument()&&M.version.isEqual(Lt.min())?(e.removeEntry(b,M.readTime),g=g.insert(b,M)):!F.isValidDocument()||M.version.compareTo(F.version)>0||0===M.version.compareTo(F.version)&&F.hasPendingWrites?(e.addEntry(M),g=g.insert(b,M)):Ge("LocalStore","Ignoring outdated watch update for ",b,". Current version:",F.version," Watch version:",M.version)}),{us:g,cs:u}})}(c,g,e.documentUpdates).next(G=>{M=G.us,F=G.cs})),!o.isEqual(Lt.min())){const G=n.qr.getLastRemoteSnapshotVersion(c).next(X=>n.qr.setTargetsMetadata(c,c.currentSequenceNumber,o));b.push(G)}return Se.waitFor(b).next(()=>g.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,M,F)).next(()=>M)}).then(c=>(n.ts=u,c))}(n.localStore,e);e.targetChanges.forEach((u,c)=>{const g=n.ya.get(c);g&&(At(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.Ra=!0:u.modifiedDocuments.size>0?At(g.Ra):u.removedDocuments.size>0&&(At(g.Ra),g.Ra=!1))}),yield Zu(n,o,e)}catch(o){yield _r(o)}}),Yu.apply(this,arguments)}function Za(i,e,n){const o=ct(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ma.forEach((c,g)=>{const b=g.view.Q_(e);b.snapshot&&u.push(b.snapshot)}),function(g,b){const M=ct(g);M.onlineState=b;let F=!1;M.queries.forEach((G,X)=>{for(const fe of X.listeners)fe.Q_(b)&&(F=!0)}),F&&tg(M)}(o.eventManager,e),u.length&&o.Va.a_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Cc(i,e,n){return ag.apply(this,arguments)}function ag(){return ag=(0,ie.Z)(function*(i,e,n){const o=ct(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.ya.get(e),c=u&&u.key;if(c){let g=new Lr(vt.comparator);g=g.insert(c,Kr.newNoDocument(c,Lt.min()));const b=at().add(c),M=new Tl(Lt.min(),new Map,new Lr(hn),g,b);yield og(o,M),o.pa=o.pa.remove(c),o.ya.delete(e),pf(o)}else yield Qu(o.localStore,e,!1).then(()=>bc(o,e,n)).catch(_r)}),ag.apply(this,arguments)}function rv(i,e){return df.apply(this,arguments)}function df(){return df=(0,ie.Z)(function*(i,e){const n=ct(i),o=e.batch.batchId;try{const u=yield function Nm(i,e){const n=ct(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),c=n.ss.newChangeBuffer({trackRemovals:!0});return function(b,M,F,G){const X=F.batch,fe=X.keys();let Fe=Se.resolve();return fe.forEach(dt=>{Fe=Fe.next(()=>G.getEntry(M,dt)).next(mt=>{const ft=F.docVersions.get(dt);At(null!==ft),mt.version.compareTo(ft)<0&&(X.applyToRemoteDocument(mt,F),mt.isValidDocument()&&(mt.setReadTime(F.commitVersion),G.addEntry(mt)))})}),Fe.next(()=>b.mutationQueue.removeMutationBatch(M,X))}(n,o,e,c).next(()=>c.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(b){let M=at();for(let F=0;F<b.mutationResults.length;++F)b.mutationResults[F].transformResults.length>0&&(M=M.add(b.batch.mutations[F].key));return M}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);ff(n,o,null),hf(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Zu(n,u)}catch(u){yield _r(u)}}),df.apply(this,arguments)}function Ym(i,e,n){return jd.apply(this,arguments)}function jd(){return jd=(0,ie.Z)(function*(i,e,n){const o=ct(i);try{const u=yield function(g,b){const M=ct(g);return M.persistence.runTransaction("Reject batch","readwrite-primary",F=>{let G;return M.mutationQueue.lookupMutationBatch(F,b).next(X=>(At(null!==X),G=X.keys(),M.mutationQueue.removeMutationBatch(F,X))).next(()=>M.mutationQueue.performConsistencyCheck(F)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(F,G,b)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(F,G)).next(()=>M.localDocuments.getDocuments(F,G))})}(o.localStore,e);ff(o,e,n),hf(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Zu(o,u)}catch(u){yield _r(u)}}),jd.apply(this,arguments)}function hf(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function ff(i,e,n){const o=ct(i);let u=o.Sa[o.currentUser.toKey()];if(u){const c=u.get(e);c&&(n?c.reject(n):c.resolve(),u=u.remove(e)),o.Sa[o.currentUser.toKey()]=u}}function bc(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.fa.get(e))i.ma.delete(o),n&&i.Va.Fa(o,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(o=>{i.wa.containsKey(o)||Zm(i,o)})}function Zm(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(Md(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),pf(i))}function ug(i,e,n){for(const o of n)o instanceof Ps?(i.wa.addReference(o.key,e),iv(i,o)):o instanceof qm?(Ge("SyncEngine","Document no longer in limbo: "+o.key),i.wa.removeReference(o.key,e),i.wa.containsKey(o.key)||Zm(i,o.key)):Tt()}function iv(i,e){const n=e.key,o=n.path.canonicalString();i.pa.get(n)||i.ga.has(o)||(Ge("SyncEngine","New document in limbo: "+n),i.ga.add(o),pf(i))}function pf(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new vt(yt.fromString(e)),o=i.Da.next();i.ya.set(o,new tv(n)),i.pa=i.pa.insert(n,o),Rd(i.remoteStore,new pa(As(Qi(n.path)),o,"TargetPurposeLimboResolution",x._e))}}function Zu(i,e,n){return lg.apply(this,arguments)}function lg(){return lg=(0,ie.Z)(function*(i,e,n){const o=ct(i),u=[],c=[],g=[];var b;o.ma.isEmpty()||(o.ma.forEach((b,M)=>{g.push(o.va(M,e,n).then(F=>{if((F||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(M.targetId,F?.fromCache?"not-current":"current"),F){u.push(F);const G=Wh.Qi(M.targetId,F);c.push(G)}}))}),yield Promise.all(g),o.Va.a_(u),yield(b=(0,ie.Z)(function*(F,G){const X=ct(F);try{yield X.persistence.runTransaction("notifyLocalViewChanges","readwrite",fe=>Se.forEach(G,Fe=>Se.forEach(Fe.ki,dt=>X.persistence.referenceDelegate.addReference(fe,Fe.targetId,dt)).next(()=>Se.forEach(Fe.qi,dt=>X.persistence.referenceDelegate.removeReference(fe,Fe.targetId,dt)))))}catch(fe){if(!sa(fe))throw fe;Ge("LocalStore","Failed to update sequence numbers: "+fe)}for(const fe of G){const Fe=fe.targetId;if(!fe.fromCache){const dt=X.ts.get(Fe),ft=dt.withLastLimboFreeSnapshotVersion(dt.snapshotVersion);X.ts=X.ts.insert(Fe,ft)}}}),function M(F,G){return b.apply(this,arguments)})(o.localStore,c))}),lg.apply(this,arguments)}function II(i,e){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,ie.Z)(function*(i,e){const n=ct(i);if(!n.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const o=yield Kh(n.localStore,e);n.currentUser=e,(c=n).ba.forEach(b=>{b.forEach(M=>{M.reject(new Ze(Ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.ba.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Zu(n,o._s)}var c}),Jm.apply(this,arguments)}function Xm(i,e){const n=ct(i),o=n.ya.get(e);if(o&&o.Ra)return at().add(o.key);{let u=at();const c=n.fa.get(e);if(!c)return u;for(const g of c){const b=n.ma.get(g);u=u.unionWith(b.view.ua)}return u}}class Pc{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,ie.Z)(function*(){n.serializer=Tu(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Mm(i,e,n,o){return new kp(i,e,n,o)}(this.persistence,new jy,e.initialUser,this.serializer)}createPersistence(e){return new $h(Op.jr,this.serializer)}createSharedClientState(e){return new Vm}terminate(){var e=this;return(0,ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xu{initialize(e,n){var o=this;return(0,ie.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Za(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=II.bind(null,o.syncEngine),yield function Jp(i,e){return sf.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new zm}createDatastore(e){const n=Tu(e.databaseInfo.databaseId),o=new mc(e.databaseInfo);return new tf(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return o=this.localStore,u=this.datastore,c=e.asyncQueue,g=n=>Za(this.syncEngine,n,0),b=zy.D()?new zy:new Gy,new qy(o,u,c,g,b);var o,u,c,g,b}createSyncEngine(e,n){return function(u,c,g,b,M,F,G){const X=new rg(u,c,g,b,M,F);return G&&(X.Ca=!0),X}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,ie.Z)(function*(o){const u=ct(o);Ge("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield Ec(u),u.F_.shutdown(),u.M_.set("Unknown")}),function n(o){return e.apply(this,arguments)})(this.remoteStore);var e}}class If{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class av{constructor(e,n,o,u){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=wt.UNAUTHENTICATED,this.clientId=Ts.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,ie.Z)(function*(b){Ge("FirestoreClient","Received user=",b.uid),yield c.authCredentialListener(b),c.user=b});return function(b){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(Ge("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ze(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ie.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=Dc(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Tf(i,e){return gg.apply(this,arguments)}function gg(){return gg=(0,ie.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,ie.Z)(function*(c){o.isEqual(c)||(yield Kh(e.localStore,c),o=c)});return function(c){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),gg.apply(this,arguments)}function wf(i,e){return Df.apply(this,arguments)}function Df(){return Df=(0,ie.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function mg(i){return yo.apply(this,arguments)}(i);Ge("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>Yp(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,c)=>Yp(e.remoteStore,c)),i._onlineComponents=e}),Df.apply(this,arguments)}function yo(){return yo=(0,ie.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ge("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Tf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function u_(i){return"FirebaseError"===i.name?i.code===Ve.FAILED_PRECONDITION||i.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Vr("Error using user provided cache. Falling back to memory cache: "+n),yield Tf(i,new Pc)}}else Ge("FirestoreClient","Using default OfflineComponentProvider"),yield Tf(i,new Pc);return i._offlineComponents}),yo.apply(this,arguments)}function Cf(i){return _g.apply(this,arguments)}function _g(){return _g=(0,ie.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ge("FirestoreClient","Using user provided OnlineComponentProvider"),yield wf(i,i._uninitializedComponentsProvider._online)):(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield wf(i,new Xu))),i._onlineComponents}),_g.apply(this,arguments)}function Rc(i){return Af.apply(this,arguments)}function Af(){return Af=(0,ie.Z)(function*(i){const e=yield Cf(i),n=e.eventManager;return n.onListen=Km.bind(null,e.syncEngine),n.onUnlisten=Qm.bind(null,e.syncEngine),n}),Af.apply(this,arguments)}function f_(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Tg=new Map;function bf(i,e,n){if(!n)throw new Ze(Ve.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Pf(i){if(!vt.isDocumentKey(i))throw new Ze(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function gv(i){if(vt.isDocumentKey(i))throw new Ze(Ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Gd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(o=i).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof i?"a function":Tt()}function Xn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ze(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gd(i);throw new Ze(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Dg{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Ze(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ze(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Sf(i,e,n,o){if(!0===e&&!0===o)throw new Ze(Ve.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=f_(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Ze(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Ze(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Ze(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ol{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ze(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ze(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dg(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new xt;switch(o.type){case"firstParty":return new Sr(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Ze(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=Tg.get(n);o&&(Ge("ComponentProvider","Removing Datastore"),Tg.delete(n),o.terminate())}(this),Promise.resolve()}}class Ks{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ks(this.firestore,e,this._query)}}class Ji{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ji(this.firestore,e,this._key)}}class ga extends Ks{constructor(e,n,o){super(e,n,Qi(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ji(this.firestore,null,new vt(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function mv(i,e,...n){if(i=(0,ne.m9)(i),bf("collection","path",e),i instanceof Ol){const o=yt.fromString(e,...n);return gv(o),new ga(i,null,o)}{if(!(i instanceof Ji||i instanceof ga))throw new Ze(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(yt.fromString(e,...n));return gv(o),new ga(i.firestore,null,o)}}function p_(i,e,...n){if(i=(0,ne.m9)(i),1===arguments.length&&(e=Ts.newId()),bf("doc","path",e),i instanceof Ol){const o=yt.fromString(e,...n);return Pf(o),new Ji(i,null,new vt(o))}{if(!(i instanceof Ji||i instanceof ga))throw new Ze(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(yt.fromString(e,...n));return Pf(o),new Ji(i.firestore,i instanceof ga?i.converter:null,new vt(o))}}class g_{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new yc(this,"async_queue_retry"),this.iu=()=>{const n=_c();n&&Ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=_c();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=_c();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new rn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,ie.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!sa(n))throw n;Ge("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(o=>{throw this.eu=o,this.tu=!1,pr("INTERNAL UNHANDLED ERROR: ",function(g){let b=g.message||"";return g.stack&&(b=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),b}(o)),o}).then(o=>(this.tu=!1,o))));return this.Ja=n,n}enqueueAfterDelay(e,n,o){this.su(),this.ru.indexOf(e)>-1&&(n=0);const u=Xp.createAndSchedule(this,e,n,o,c=>this.au(c));return this.Xa.push(u),u}su(){this.eu&&Tt()}verifyOperationInProgress(){}uu(){var e=this;return(0,ie.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Nc(i){return function(n,o){if("object"!=typeof n||null===n)return!1;const u=n;for(const c of["next","error","complete"])if(c in u&&"function"==typeof u[c])return!0;return!1}(i)}class oi extends Ol{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new g_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ag(this),this._firestoreClient.terminate()}}function vv(i,e){const n="object"==typeof i?i:(0,Pe.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,Pe.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const c=(0,ne.P0)("firestore");c&&function Cu(i,e,n,o={}){var u;const c=(i=Xn(i,Ol))._getSettings(),g=`${e}:${n}`;if("firestore.googleapis.com"!==c.host&&c.host!==g&&Vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:g,ssl:!1})),o.mockUserToken){let b,M;if("string"==typeof o.mockUserToken)b=o.mockUserToken,M=wt.MOCK_USER;else{b=(0,ne.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const F=o.mockUserToken.sub||o.mockUserToken.user_id;if(!F)throw new Ze(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new wt(F)}i._authCredentials=new kt(new jo(b,M))}}(u,...c)}return u}function Xi(i){return i._firestoreClient||Ag(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Ag(i){var e,n,o;const u=i._freezeSettings(),c=(M=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new sm(i._databaseId,M,i._persistenceKey,(G=u).host,G.ssl,G.experimentalForceLongPolling,G.experimentalAutoDetectLongPolling,f_(G.experimentalLongPollingOptions),G.useFetchStreams));var M,G;i._firestoreClient=new av(i._authCredentials,i._appCheckCredentials,i._queue,c),null!==(n=u.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}class xl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xl(cs.fromBase64String(e))}catch(n){throw new Ze(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xl(cs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Oc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Ze(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xc{constructor(e){this._methodName=e}}class Wd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ze(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ze(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return hn(this._lat,e._lat)||hn(this._long,e._long)}}const Dv=/^__.*__$/;class Nf{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new za(e,this.data,this.fieldMask,n,this.fieldTransforms):new vl(e,this.data,n,this.fieldTransforms)}}class y_{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new za(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function v_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class Of{constructor(e,n,o,u,c,g){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===c&&this.Pu(),this.fieldTransforms=c||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Of(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Au(e),u}Ru(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Xa(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(v_(this.Iu)&&Dv.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Cv{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||Tu(e)}pu(e,n,o,u=!1){return new Of({Iu:e,methodName:n,gu:o,path:gi.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kc(i){const e=i._freezeSettings(),n=Tu(i._databaseId);return new Cv(i._databaseId,!!e.ignoreUndefinedProperties,n)}function bg(i,e,n,o,u,c={}){const g=i.pu(c.merge||c.mergeFields?2:0,e,n,u);Rg("Data must be an object, but it was:",g,o);const b=I_(o,g);let M,F;if(c.merge)M=new Do(g.fieldMask),F=g.fieldTransforms;else if(c.mergeFields){const G=[];for(const X of c.mergeFields){const fe=So(e,X,n);if(!g.contains(fe))throw new Ze(Ve.INVALID_ARGUMENT,`Field '${fe}' is specified in your field mask but missing from your input data.`);Yd(G,fe)||G.push(fe)}M=new Do(G),F=g.fieldTransforms.filter(X=>M.covers(X.field))}else M=null,F=g.fieldTransforms;return new Nf(new lr(b),M,F)}class qd extends xc{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qd}}function Sg(i,e,n){return new Of({Iu:3,gu:e.settings.gu,methodName:i._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Av extends xc{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=Sg(this,e,!0),o=this.yu.map(c=>kl(c,n)),u=new Ra(o);return new Dh(e.path,u)}isEqual(e){return this===e}}class PI extends xc{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=Sg(this,e,!0),o=this.yu.map(c=>kl(c,n)),u=new Ma(o);return new Dh(e.path,u)}isEqual(e){return this===e}}function kl(i,e){if(kf(i=(0,ne.m9)(i)))return Rg("Unsupported field value:",e,i),I_(i,e);if(i instanceof xc)return function(o,u){if(!v_(u.Iu))throw u.mu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${o._methodName}() is not currently supported inside arrays`);const c=o._toFieldTransform(u);c&&u.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(o,u){const c=[];let g=0;for(const b of o){let M=kl(b,u.Vu(g));null==M&&(M={nullValue:"NULL_VALUE"}),c.push(M),g++}return{arrayValue:{values:c}}}(i,e)}return function(o,u){if(null===(o=(0,ne.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return ed(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const c=Mn.fromDate(o);return{timestampValue:ju(u.serializer,c)}}if(o instanceof Mn){const c=new Mn(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:ju(u.serializer,c)}}if(o instanceof Wd)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof xl)return{bytesValue:mm(u.serializer,o._byteString)};if(o instanceof Ji){const c=u.databaseId,g=o.firestore._databaseId;if(!g.isEqual(c))throw u.mu(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:pp(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.mu(`Unsupported field value: ${Gd(o)}`)}(i,e)}function I_(i,e){const n={};return ul(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(i,(o,u)=>{const c=kl(u,e.Eu(o));null!=c&&(n[o]=c)}),{mapValue:{fields:n}}}function kf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Mn||i instanceof Wd||i instanceof xl||i instanceof Ji||i instanceof xc)}function Rg(i,e,n){if(!kf(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=Gd(n);throw e.mu("an object"===o?i+" a custom object":i+" "+o)}var u}function So(i,e,n){if((e=(0,ne.m9)(e))instanceof Oc)return e._internalPath;if("string"==typeof e)return Rs(i,e);throw Xa("Field path arguments must be of type string or ",i,!1,void 0,n)}const Qd=new RegExp("[~\\*/\\[\\]]");function Rs(i,e,n){if(e.search(Qd)>=0)throw Xa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Oc(...e.split("."))._internalPath}catch{throw Xa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Xa(i,e,n,o,u){const c=o&&!o.isEmpty(),g=void 0!==u;let b=`Function ${e}() called with invalid data`;n&&(b+=" (via `toFirestore()`)"),b+=". ";let M="";return(c||g)&&(M+=" (found",c&&(M+=` in field ${o}`),g&&(M+=` in document ${u}`),M+=")"),new Ze(Ve.INVALID_ARGUMENT,b+i+M)}function Yd(i,e){return i.some(n=>n.isEqual(e))}class Po{constructor(e,n,o,u,c){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ji(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Mg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Au("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Mg extends Po{data(){return super.data()}}function Au(i,e){return"string"==typeof e?Rs(i,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}class MI{convertValue(e,n="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Tt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Ta(e,(u,c)=>{o[u]=this.convertValue(c,n)}),o}convertGeoPoint(e){return new Wd(qr(e.latitude),qr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Ua(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=la(e);return new Mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=yt.fromString(e);At(Dy(o));const u=new Da(o.get(1),o.get(3)),c=new vt(o.popFirst(5));return u.isEqual(n)||pr(`Document ${c} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function Ng(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class tl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tu extends Po{constructor(e,n,o,u,c,g){super(e,n,o,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Au("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class ih extends tu{data(e={}){return super.data(e)}}class Lc{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new tl(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new ih(this._firestore,this._userDataWriter,o.key,o,new tl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ze(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,c){if(u._snapshot.oldDocs.isEmpty()){let g=0;return u._snapshot.docChanges.map(b=>({type:"added",doc:new ih(u._firestore,u._userDataWriter,b.doc.key,b.doc,new tl(u._snapshot.mutatedKeys.has(b.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:g++}))}{let g=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(b=>c||3!==b.type).map(b=>{const M=new ih(u._firestore,u._userDataWriter,b.doc.key,b.doc,new tl(u._snapshot.mutatedKeys.has(b.doc.key),u._snapshot.fromCache),u.query.converter);let F=-1,G=-1;return 0!==b.type&&(F=g.indexOf(b.doc.key),g=g.delete(b.doc.key)),1!==b.type&&(g=g.add(b.doc),G=g.indexOf(b.doc.key)),{type:sh(b.type),doc:M,oldIndex:F,newIndex:G}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sh(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}function Fv(i){i=Xn(i,Ji);const e=Xn(i.firestore,oi);return function c_(i,e,n={}){const o=new rn;return i.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function(c,g,b,M,F){const G=new If({next:fe=>{g.enqueueAndForget(()=>Qa(c,X));const Fe=fe.docs.has(b);!Fe&&fe.fromCache?F.reject(new Ze(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):Fe&&fe.fromCache&&M&&"server"===M.source?F.reject(new Ze(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):F.resolve(fe)},error:fe=>F.reject(fe)}),X=new Bd(Qi(b.path),G,{includeMetadataChanges:!0,J_:!0});return Wm(c,X)}(yield Rc(i),i.asyncQueue,e,n,o)})),o.promise}(Xi(e),i._key).then(n=>Vf(e,i,n))}class nl extends MI{constructor(e){super(),this.firestore=e}convertBytes(e){return new xl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ji(this.firestore,null,n)}}function Vv(i,e,n){i=Xn(i,Ji);const o=Xn(i.firestore,oi),u=Ng(i.converter,e,n);return oh(o,[bg(kc(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Fi.none())])}function Lv(i,e,n,...o){i=Xn(i,Ji);const u=Xn(i.firestore,oi),c=kc(u);let g;return g="string"==typeof(e=(0,ne.m9)(e))||e instanceof Oc?function bv(i,e,n,o,u,c){const g=i.pu(1,e,n),b=[So(e,o,n)],M=[u];if(c.length%2!=0)throw new Ze(Ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let fe=0;fe<c.length;fe+=2)b.push(So(e,c[fe])),M.push(c[fe+1]);const F=[],G=lr.empty();for(let fe=b.length-1;fe>=0;--fe)if(!Yd(F,b[fe])){const Fe=b[fe];let dt=M[fe];dt=(0,ne.m9)(dt);const mt=g.Ru(Fe);if(dt instanceof qd)F.push(Fe);else{const ft=kl(dt,mt);null!=ft&&(F.push(Fe),G.set(Fe,ft))}}const X=new Do(F);return new y_(G,X,g.fieldTransforms)}(c,"updateDoc",i._key,e,n,o):function Pg(i,e,n,o){const u=i.pu(1,e,n);Rg("Data must be an object, but it was:",u,o);const c=[],g=lr.empty();Ta(o,(M,F)=>{const G=Rs(e,M,n);F=(0,ne.m9)(F);const X=u.Ru(G);if(F instanceof qd)c.push(G);else{const fe=kl(F,X);null!=fe&&(c.push(G),g.set(G,fe))}});const b=new Do(c);return new y_(g,b,u.fieldTransforms)}(c,"updateDoc",i._key,e),oh(u,[g.toMutation(i._key,Fi.exists(!0))])}function Fg(i){return oh(Xn(i.firestore,oi),[new Il(i._key,Fi.none())])}function Uv(i,e){const n=Xn(i.firestore,oi),o=p_(i),u=Ng(i.converter,e);return oh(n,[bg(kc(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Fi.exists(!1))]).then(()=>o)}function S_(i,...e){var n,o,u;i=(0,ne.m9)(i);let c={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||Nc(e[g])||(c=e[g],g++);const b={includeMetadataChanges:c.includeMetadataChanges};if(Nc(e[g])){const X=e[g];e[g]=null===(n=X.next)||void 0===n?void 0:n.bind(X),e[g+1]=null===(o=X.error)||void 0===o?void 0:o.bind(X),e[g+2]=null===(u=X.complete)||void 0===u?void 0:u.bind(X)}let M,F,G;if(i instanceof Ji)F=Xn(i.firestore,oi),G=Qi(i._key.path),M={next:X=>{e[g]&&e[g](Vf(F,i,X))},error:e[g+1],complete:e[g+2]};else{const X=Xn(i,Ks);F=Xn(X.firestore,oi),G=X._query;const fe=new nl(F);M={next:Fe=>{e[g]&&e[g](new Lc(F,fe,X,Fe))},error:e[g+1],complete:e[g+2]},function Fl(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ze(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(fe,Fe,dt,mt){const ft=new If(mt),dn=new Bd(Fe,ft,dt);return fe.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return Wm(yield Rc(fe),dn)})),()=>{ft.Na(),fe.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return Qa(yield Rc(fe),dn)}))}}(Xi(F),G,b,M)}function oh(i,e){return function(o,u){const c=new rn;return o.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function nv(i,e,n){return cf.apply(this,arguments)}(yield function vg(i){return Cf(i).then(e=>e.syncEngine)}(o),u,c)})),c.promise}(Xi(i),e)}function Vf(i,e,n){const o=n.docs.get(e._key),u=new nl(i);return new tu(i,u,e._key,o,new tl(n.hasPendingWrites,n.fromCache),e.converter)}function qv(...i){return new Av("arrayUnion",i)}function k_(...i){return new PI("arrayRemove",i)}!function(e,n=!0){Un=Pe.Jn,(0,Pe.Xd)(new Oe.wA("firestore",(o,{instanceIdentifier:u,options:c})=>{const g=o.getProvider("app").getImmediate(),b=new oi(new cn(o.getProvider("auth-internal")),new ls(o.getProvider("app-check-internal")),function(F,G){if(!Object.prototype.hasOwnProperty.apply(F.options,["projectId"]))throw new Ze(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Da(F.options.projectId,G)}(g,u),g);return c=Object.assign({useFetchStreams:n},c),b._setSettings(c),b},"PUBLIC").setMultipleInstances(!0)),(0,Pe.KN)(Vt,"4.4.0",e),(0,Pe.KN)(Vt,"4.4.0","esm2017")}();class ah{constructor(e){return e}}const jg="firestore",jf=new J.OlP("angularfire2.firestore-instances");function j_(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new ah(o)}}const $_={provide:class U_{constructor(){return(0,_.vb)(jg)}},deps:[[new J.FiY,jf]]},$f={provide:ah,useFactory:function B_(i,e){const n=(0,_.JM)(jg,i,e);return n&&new ah(n)},deps:[[new J.FiY,jf],j.Ot]};let rl=(()=>{class i{constructor(){(0,ge.KN)("angularfire",_.q4.full,"fst")}static \u0275fac=function(o){return new(o||i)};static \u0275mod=J.oAB({type:i});static \u0275inj=J.cJS({providers:[$f,$_]})}return i})();function nE(i,...e){return{ngModule:rl,providers:[{provide:jf,useFactory:j_(i),multi:!0,deps:[J.R0b,J.zs3,_.HU,j.z6,[new J.FiY,Te.dh],[new J.FiY,_.Rf],...e]}]}}const iE=(0,_.u3)(Uv,!0),oE=(0,_.u3)(k_,!0),W_=(0,_.u3)(qv,!0),q_=(0,_.u3)(mv,!0),lE=(0,_.u3)(Fg,!0),$g=(0,_.u3)(p_,!0),pE=(0,_.u3)(Fv,!0),Y_=(0,_.u3)(vv,!0),EE=(0,_.u3)(S_,!0),PE=(0,_.u3)(Vv,!0),RE=(0,_.u3)(Lv,!0)},1920:(bt,je,$)=>{$.d(je,{q4:()=>de,HU:()=>He,Rf:()=>We,vb:()=>it,JM:()=>st,u3:()=>Xt});var _=$(6689),J=$(3182),j=$(1954),ge=$(9931);const Pe=new class ie extends ge.v{}(class Te extends j.o{constructor(Ht,Mt){super(Ht,Mt),this.scheduler=Ht,this.work=Mt}schedule(Ht,Mt=0){return Mt>0?super.schedule(Ht,Mt):(this.delay=Mt,this.state=Ht,this.scheduler.flush(this),this)}execute(Ht,Mt){return Mt>0||this.closed?super.execute(Ht,Mt):this._execute(Ht,Mt)}requestAsyncId(Ht,Mt,ye=0){return null!=ye&&ye>0||null==ye&&this.delay>0?super.requestAsyncId(Ht,Mt,ye):(Ht.flush(this),0)}});var Ie=$(6321),ne=$(5592),se=$(9397),he=$(5137),le=$(3093);const de=new _.GfV("ANGULARFIRE2_VERSION");function st(Rt,Ht,Mt){if(Ht){if(1===Ht.length)return Ht[0];const Ne=Ht.filter(Ce=>Ce.app===Mt);if(1===Ne.length)return Ne[0]}return Mt.container.getProvider(Rt).getImmediate({optional:!0})}const it=(Rt,Ht)=>{const Mt=Ht?[Ht]:(0,J.C6)(),ye=[];return Mt.forEach(we=>{we.container.getProvider(Rt).instances.forEach(Ce=>{ye.includes(Ce)||ye.push(Ce)})}),ye};class We{constructor(){return it(St)}}const St="app-check";function et(){}class ce{zone;delegate;constructor(Ht,Mt=Pe){this.zone=Ht,this.delegate=Mt}now(){return this.delegate.now()}schedule(Ht,Mt,ye){const we=this.zone;return this.delegate.schedule(function(Ce){we.runGuarded(()=>{Ht.apply(this,[Ce])})},Mt,ye)}}class Ue{zone;task=null;constructor(Ht){this.zone=Ht}call(Ht,Mt){const ye=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",et,{},et,et)),Mt.pipe((0,se.b)({next:ye,complete:ye,error:ye})).subscribe(Ht).add(ye)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let He=(()=>{class Rt{ngZone;outsideAngular;insideAngular;constructor(Mt){this.ngZone=Mt,this.outsideAngular=Mt.runOutsideAngular(()=>new ce(Zone.current)),this.insideAngular=Mt.run(()=>new ce(Zone.current,Ie.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ye){return new(ye||Rt)(_.LFG(_.R0b))};static \u0275prov=_.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})();function Me(){const Rt=globalThis.\u0275AngularFireScheduler;if(!Rt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Rt}function me(Rt){return Me().ngZone.run(()=>Rt())}function ht(Rt){return function Zn(Rt){return function(Mt){return(Mt=Mt.lift(new Ue(Rt.ngZone))).pipe((0,he.R)(Rt.outsideAngular),(0,le.Q)(Rt.insideAngular))}}(Me())(Rt)}const ot=(Rt,Ht)=>function(){const ye=arguments;return Ht&&setTimeout(()=>{"scheduled"===Ht.state&&Ht.invoke()},10),me(()=>Rt.apply(void 0,ye))},Xt=(Rt,Ht)=>function(){let Mt;const ye=arguments;for(let Ne=0;Ne<arguments.length;Ne++)"function"==typeof ye[Ne]&&(Ht&&(Mt||=me(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",et,{},et,et))),ye[Ne]=ot(ye[Ne],Mt));const we=function nt(Rt){return Me().ngZone.runOutsideAngular(()=>Rt())}(()=>Rt.apply(this,ye));if(!Ht){if(we instanceof ne.y){const Ne=Me();return we.pipe((0,he.R)(Ne.outsideAngular),(0,le.Q)(Ne.insideAngular))}return me(()=>we)}return we instanceof ne.y?we.pipe(ht):we instanceof Promise?me(()=>new Promise((Ne,Ce)=>we.then(ze=>me(()=>Ne(ze)),ze=>me(()=>Ce(ze))))):"function"==typeof we&&Mt?function(){return setTimeout(()=>{Mt&&"scheduled"===Mt.state&&Mt.invoke()},10),we.apply(this,arguments)}:me(()=>we)}},95:(bt,je,$)=>{$.d(je,{Fj:()=>ce,qu:()=>qi,NI:()=>Xr,oH:()=>fr,u:()=>Rn,sg:()=>zi,JJ:()=>ln,JL:()=>en,YN:()=>Hr,_:()=>_s,UX:()=>xo,EJ:()=>$r,kI:()=>jt,_Y:()=>vo,Kr:()=>Jt});var _=$(6689),J=$(6814),j=$(2459),Te=$(5592),ge=$(7453),ie=$(4829),Pe=$(4564),Oe=$(8251),Ie=$(7400),ne=$(2714),he=$(7398);let le=(()=>{class V{constructor(N,q){this._renderer=N,this._elementRef=q,this.onChange=ue=>{},this.onTouched=()=>{}}setProperty(N,q){this._renderer.setProperty(this._elementRef.nativeElement,N,q)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}static#e=this.\u0275fac=function(q){return new(q||V)(_.Y36(_.Qsj),_.Y36(_.SBq))};static#t=this.\u0275dir=_.lG2({type:V})}return V})(),de=(()=>{class V extends le{static#e=this.\u0275fac=function(){let N;return function(ue){return(N||(N=_.n5z(V)))(ue||V)}}();static#t=this.\u0275dir=_.lG2({type:V,features:[_.qOj]})}return V})();const Re=new _.OlP("NgValueAccessor"),We={provide:Re,useExisting:(0,_.Gpc)(()=>ce),multi:!0},et=new _.OlP("CompositionEventMode");let ce=(()=>{class V extends le{constructor(N,q,ue){super(N,q),this._compositionMode=ue,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function St(){const V=(0,J.q)()?(0,J.q)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue(N){this.setProperty("value",N??"")}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}static#e=this.\u0275fac=function(q){return new(q||V)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(et,8))};static#t=this.\u0275dir=_.lG2({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(q,ue){1&q&&_.NdJ("input",function(Kt){return ue._handleInput(Kt.target.value)})("blur",function(){return ue.onTouched()})("compositionstart",function(){return ue._compositionStart()})("compositionend",function(Kt){return ue._compositionEnd(Kt.target.value)})},features:[_._Bn([We]),_.qOj]})}return V})();function Ue(V){return null==V||("string"==typeof V||Array.isArray(V))&&0===V.length}function He(V){return null!=V&&"number"==typeof V.length}const Me=new _.OlP("NgValidators"),nt=new _.OlP("NgAsyncValidators"),me=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jt{static min(L){return function Qt(V){return L=>{if(Ue(L.value)||Ue(V))return null;const N=parseFloat(L.value);return!isNaN(N)&&N<V?{min:{min:V,actual:L.value}}:null}}(L)}static max(L){return function ht(V){return L=>{if(Ue(L.value)||Ue(V))return null;const N=parseFloat(L.value);return!isNaN(N)&&N>V?{max:{max:V,actual:L.value}}:null}}(L)}static required(L){return function Zn(V){return Ue(V.value)?{required:!0}:null}(L)}static requiredTrue(L){return function ot(V){return!0===V.value?null:{required:!0}}(L)}static email(L){return function Xt(V){return Ue(V.value)||me.test(V.value)?null:{email:!0}}(L)}static minLength(L){return function Rt(V){return L=>Ue(L.value)||!He(L.value)?null:L.value.length<V?{minlength:{requiredLength:V,actualLength:L.value.length}}:null}(L)}static maxLength(L){return function Ht(V){return L=>He(L.value)&&L.value.length>V?{maxlength:{requiredLength:V,actualLength:L.value.length}}:null}(L)}static pattern(L){return function Mt(V){if(!V)return ye;let L,N;return"string"==typeof V?(N="","^"!==V.charAt(0)&&(N+="^"),N+=V,"$"!==V.charAt(V.length-1)&&(N+="$"),L=new RegExp(N)):(N=V.toString(),L=V),q=>{if(Ue(q.value))return null;const ue=q.value;return L.test(ue)?null:{pattern:{requiredPattern:N,actualValue:ue}}}}(L)}static nullValidator(L){return null}static compose(L){return vn(L)}static composeAsync(L){return Ut(L)}}function ye(V){return null}function we(V){return null!=V}function Ne(V){return(0,_.QGY)(V)?(0,j.D)(V):V}function Ce(V){let L={};return V.forEach(N=>{L=null!=N?{...L,...N}:L}),0===Object.keys(L).length?null:L}function ze(V,L){return L.map(N=>N(V))}function Bt(V){return V.map(L=>function Je(V){return!V.validate}(L)?L:N=>L.validate(N))}function vn(V){if(!V)return null;const L=V.filter(we);return 0==L.length?null:function(N){return Ce(ze(N,L))}}function kn(V){return null!=V?vn(Bt(V)):null}function Ut(V){if(!V)return null;const L=V.filter(we);return 0==L.length?null:function(N){return function se(...V){const L=(0,Pe.jO)(V),{args:N,keys:q}=(0,ge.D)(V),ue=new Te.y(pt=>{const{length:Kt}=N;if(!Kt)return void pt.complete();const ri=new Array(Kt);let eo=Kt,os=Kt;for(let zr=0;zr<Kt;zr++){let as=!1;(0,ie.Xf)(N[zr]).subscribe((0,Oe.x)(pt,ko=>{as||(as=!0,os--),ri[zr]=ko},()=>eo--,void 0,()=>{(!eo||!as)&&(os||pt.next(q?(0,ne.n)(q,ri):ri),pt.complete())}))}});return L?ue.pipe((0,Ie.Z)(L)):ue}(ze(N,L).map(Ne)).pipe((0,he.U)(Ce))}}function pn(V){return null!=V?Ut(Bt(V)):null}function Jn(V,L){return null===V?[L]:Array.isArray(V)?[...V,L]:[V,L]}function Fn(V){return V._rawValidators}function Ct(V){return V._rawAsyncValidators}function Dn(V){return V?Array.isArray(V)?V:[V]:[]}function gt(V,L){return Array.isArray(V)?V.includes(L):V===L}function er(V,L){const N=Dn(L);return Dn(V).forEach(ue=>{gt(N,ue)||N.push(ue)}),N}function Ii(V,L){return Dn(L).filter(N=>!gt(V,N))}class Vi{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=kn(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=pn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L=void 0){this.control&&this.control.reset(L)}hasError(L,N){return!!this.control&&this.control.hasError(L,N)}getError(L,N){return this.control?this.control.getError(L,N):null}}class Gt extends Vi{get formDirective(){return null}get path(){return null}}class Br extends Vi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pr{constructor(L){this._cd=L}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ln=(()=>{class V extends Pr{constructor(N){super(N)}static#e=this.\u0275fac=function(q){return new(q||V)(_.Y36(Br,2))};static#t=this.\u0275dir=_.lG2({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(q,ue){2&q&&_.ekj("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)},features:[_.qOj]})}return V})(),en=(()=>{class V extends Pr{constructor(N){super(N)}static#e=this.\u0275fac=function(q){return new(q||V)(_.Y36(Gt,10))};static#t=this.\u0275dir=_.lG2({type:V,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(q,ue){2&q&&_.ekj("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)("ng-submitted",ue.isSubmitted)},features:[_.qOj]})}return V})();const zn="VALID",Wn="INVALID",mi="PENDING",or="DISABLED";function ae(V){return(Y(V)?V.validators:V)||null}function Q(V,L){return(Y(L)?L.asyncValidators:V)||null}function Y(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}function Ee(V,L,N){const q=V.controls;if(!(L?Object.keys(q):q).length)throw new _.vHH(1e3,"");if(!q[N])throw new _.vHH(1001,"")}function qe(V,L,N){V._forEachChild((q,ue)=>{if(void 0===N[ue])throw new _.vHH(1002,"")})}class lt{constructor(L,N){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(L),this._assignAsyncValidators(N)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===zn}get invalid(){return this.status===Wn}get pending(){return this.status==mi}get disabled(){return this.status===or}get enabled(){return this.status!==or}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._assignValidators(L)}setAsyncValidators(L){this._assignAsyncValidators(L)}addValidators(L){this.setValidators(er(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(er(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(Ii(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(Ii(L,this._rawAsyncValidators))}hasValidator(L){return gt(this._rawValidators,L)}hasAsyncValidator(L){return gt(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=mi,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const N=this._parentMarkedDirty(L.onlySelf);this.status=or,this.errors=null,this._forEachChild(q=>{q.disable({...L,onlySelf:!0})}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:N}),this._onDisabledChange.forEach(q=>q(!0))}enable(L={}){const N=this._parentMarkedDirty(L.onlySelf);this.status=zn,this._forEachChild(q=>{q.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:N}),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zn||this.status===mi)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?or:zn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=mi,this._hasOwnPendingAsyncValidator=!0;const N=Ne(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,N={}){this.errors=L,this._updateControlsErrors(!1!==N.emitEvent)}get(L){let N=L;return null==N||(Array.isArray(N)||(N=N.split(".")),0===N.length)?null:N.reduce((q,ue)=>q&&q._find(ue),this)}getError(L,N){const q=N?this.get(N):this;return q&&q.errors?q.errors[L]:null}hasError(L,N){return!!this.getError(L,N)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?or:this.errors?Wn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mi)?mi:this._anyControlsHaveStatus(Wn)?Wn:zn}_anyControlsHaveStatus(L){return this._anyControls(N=>N.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){Y(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}_assignValidators(L){this._rawValidators=Array.isArray(L)?L.slice():L,this._composedValidatorFn=function K(V){return Array.isArray(V)?kn(V):V||null}(this._rawValidators)}_assignAsyncValidators(L){this._rawAsyncValidators=Array.isArray(L)?L.slice():L,this._composedAsyncValidatorFn=function W(V){return Array.isArray(V)?pn(V):V||null}(this._rawAsyncValidators)}}class Yt extends lt{constructor(L,N,q){super(ae(N),Q(q,N)),this.controls=L,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,N){return this.controls[L]?this.controls[L]:(this.controls[L]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(L,N,q={}){this.registerControl(L,N),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(L,N={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(L,N,q={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],N&&this.registerControl(L,N),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,N={}){qe(this,0,L),Object.keys(L).forEach(q=>{Ee(this,!0,q),this.controls[q].setValue(L[q],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(L,N={}){null!=L&&(Object.keys(L).forEach(q=>{const ue=this.controls[q];ue&&ue.patchValue(L[q],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(L={},N={}){this._forEachChild((q,ue)=>{q.reset(L?L[ue]:null,{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(L,N,q)=>(L[q]=N.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(N,q)=>!!q._syncPendingControls()||N);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(N=>{const q=this.controls[N];q&&L(q,N)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[N,q]of Object.entries(this.controls))if(this.contains(N)&&L(q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(N,q,ue)=>((q.enabled||this.disabled)&&(N[ue]=q.value),N))}_reduceChildren(L,N){let q=L;return this._forEachChild((ue,pt)=>{q=N(q,ue,pt)}),q}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}class un extends Yt{}const kr=new _.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>wr}),wr="always";function ke(V,L,N=wr){on(V,L),L.valueAccessor.writeValue(V.value),(V.disabled||"always"===N)&&L.valueAccessor.setDisabledState?.(V.disabled),function fn(V,L){L.valueAccessor.registerOnChange(N=>{V._pendingValue=N,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&Nn(V,L)})}(V,L),function Dr(V,L){const N=(q,ue)=>{L.valueAccessor.writeValue(q),ue&&L.viewToModelUpdate(q)};V.registerOnChange(N),L._registerOnDestroy(()=>{V._unregisterOnChange(N)})}(V,L),function nr(V,L){L.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&Nn(V,L),"submit"!==V.updateOn&&V.markAsTouched()})}(V,L),function Et(V,L){if(L.valueAccessor.setDisabledState){const N=q=>{L.valueAccessor.setDisabledState(q)};V.registerOnDisabledChange(N),L._registerOnDestroy(()=>{V._unregisterOnDisabledChange(N)})}}(V,L)}function De(V,L,N=!0){const q=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(q),L.valueAccessor.registerOnTouched(q)),qt(V,L),V&&(L._invokeOnDestroyCallbacks(),V._registerOnCollectionChange(()=>{}))}function $e(V,L){V.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(L)})}function on(V,L){const N=Fn(V);null!==L.validator?V.setValidators(Jn(N,L.validator)):"function"==typeof N&&V.setValidators([N]);const q=Ct(V);null!==L.asyncValidator?V.setAsyncValidators(Jn(q,L.asyncValidator)):"function"==typeof q&&V.setAsyncValidators([q]);const ue=()=>V.updateValueAndValidity();$e(L._rawValidators,ue),$e(L._rawAsyncValidators,ue)}function qt(V,L){let N=!1;if(null!==V){if(null!==L.validator){const ue=Fn(V);if(Array.isArray(ue)&&ue.length>0){const pt=ue.filter(Kt=>Kt!==L.validator);pt.length!==ue.length&&(N=!0,V.setValidators(pt))}}if(null!==L.asyncValidator){const ue=Ct(V);if(Array.isArray(ue)&&ue.length>0){const pt=ue.filter(Kt=>Kt!==L.asyncValidator);pt.length!==ue.length&&(N=!0,V.setAsyncValidators(pt))}}}const q=()=>{};return $e(L._rawValidators,q),$e(L._rawAsyncValidators,q),N}function Nn(V,L){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function br(V,L){if(!V.hasOwnProperty("model"))return!1;const N=V.model;return!!N.isFirstChange()||!Object.is(L,N.currentValue)}function Zr(V,L){if(!L)return null;let N,q,ue;return Array.isArray(L),L.forEach(pt=>{pt.constructor===ce?N=pt:function bi(V){return Object.getPrototypeOf(V.constructor)===de}(pt)?q=pt:ue=pt}),ue||q||N||null}function Ui(V,L){const N=V.indexOf(L);N>-1&&V.splice(N,1)}function Jr(V){return"object"==typeof V&&null!==V&&2===Object.keys(V).length&&"value"in V&&"disabled"in V}const Xr=class extends lt{constructor(L=null,N,q){super(ae(N),Q(q,N)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Y(N)&&(N.nonNullable||N.initialValueIsDefault)&&(this.defaultValue=Jr(L)?L.value:L)}setValue(L,N={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(L,N={}){this.setValue(L,N)}reset(L=this.defaultValue,N={}){this._applyFormState(L),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){Ui(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){Ui(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){Jr(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}};let vo=(()=>{class V{static#e=this.\u0275fac=function(q){return new(q||V)};static#t=this.\u0275dir=_.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return V})();const ms={provide:Re,useExisting:(0,_.Gpc)(()=>_s),multi:!0};let Os=(()=>{class V{static#e=this.\u0275fac=function(q){return new(q||V)};static#t=this.\u0275mod=_.oAB({type:V});static#n=this.\u0275inj=_.cJS({})}return V})(),xs=(()=>{class V{constructor(){this._accessors=[]}add(N,q){this._accessors.push([N,q])}remove(N){for(let q=this._accessors.length-1;q>=0;--q)if(this._accessors[q][1]===N)return void this._accessors.splice(q,1)}select(N){this._accessors.forEach(q=>{this._isSameGroup(q,N)&&q[1]!==N&&q[1].fireUncheck(N.value)})}_isSameGroup(N,q){return!!N[0].control&&N[0]._parent===q._control._parent&&N[1].name===q.name}static#e=this.\u0275fac=function(q){return new(q||V)};static#t=this.\u0275prov=_.Yz7({token:V,factory:V.\u0275fac,providedIn:Os})}return V})(),_s=(()=>{class V extends de{constructor(N,q,ue,pt){super(N,q),this._registry=ue,this._injector=pt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,_.f3M)(kr,{optional:!0})??wr}ngOnInit(){this._control=this._injector.get(Br),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(N){this._state=N===this.value,this.setProperty("checked",this._state)}registerOnChange(N){this._fn=N,this.onChange=()=>{N(this.value),this._registry.select(this)}}setDisabledState(N){(this.setDisabledStateFired||N||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",N),this.setDisabledStateFired=!0}fireUncheck(N){this.writeValue(N)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(q){return new(q||V)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(xs),_.Y36(_.zs3))};static#t=this.\u0275dir=_.lG2({type:V,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(q,ue){1&q&&_.NdJ("change",function(){return ue.onChange()})("blur",function(){return ue.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[_._Bn([ms]),_.qOj]})}return V})();const Ri=new _.OlP("NgModelWithFormControlWarning"),an={provide:Br,useExisting:(0,_.Gpc)(()=>fr)};let fr=(()=>{class V extends Br{set isDisabled(N){}static#e=this._ngModelWarningSentOnce=!1;constructor(N,q,ue,pt,Kt){super(),this._ngModelWarningConfig=pt,this.callSetDisabledState=Kt,this.update=new _.vpe,this._ngModelWarningSent=!1,this._setValidators(N),this._setAsyncValidators(q),this.valueAccessor=Zr(0,ue)}ngOnChanges(N){if(this._isControlChanged(N)){const q=N.form.previousValue;q&&De(q,this,!1),ke(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}br(N,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&De(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_isControlChanged(N){return N.hasOwnProperty("form")}static#t=this.\u0275fac=function(q){return new(q||V)(_.Y36(Me,10),_.Y36(nt,10),_.Y36(Re,10),_.Y36(Ri,8),_.Y36(kr,8))};static#n=this.\u0275dir=_.lG2({type:V,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[_._Bn([an]),_.qOj,_.TTD]})}return V})();const ar={provide:Gt,useExisting:(0,_.Gpc)(()=>zi)};let zi=(()=>{class V extends Gt{constructor(N,q,ue){super(),this.callSetDisabledState=ue,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(N),this._setAsyncValidators(q)}ngOnChanges(N){this._checkFormPresent(),N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(N){const q=this.form.get(N.path);return ke(q,N,this.callSetDisabledState),q.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),q}getControl(N){return this.form.get(N.path)}removeControl(N){De(N.control||null,N,!1),function Si(V,L){const N=V.indexOf(L);N>-1&&V.splice(N,1)}(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}getFormArray(N){return this.form.get(N.path)}updateModel(N,q){this.form.get(N.path).setValue(q)}onSubmit(N){return this.submitted=!0,function Li(V,L){V._syncPendingControls(),L.forEach(N=>{const q=N.control;"submit"===q.updateOn&&q._pendingChange&&(N.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(N),"dialog"===N?.target?.method}onReset(){this.resetForm()}resetForm(N=void 0){this.form.reset(N),this.submitted=!1}_updateDomValue(){this.directives.forEach(N=>{const q=N.control,ue=this.form.get(N.path);q!==ue&&(De(q||null,N),(V=>V instanceof Xr)(ue)&&(ke(ue,N,this.callSetDisabledState),N.control=ue))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const q=this.form.get(N.path);(function ts(V,L){on(V,L)})(q,N),q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const q=this.form.get(N.path);q&&function Cr(V,L){return qt(V,L)}(q,N)&&q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){on(this.form,this),this._oldForm&&qt(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(q){return new(q||V)(_.Y36(Me,10),_.Y36(nt,10),_.Y36(kr,8))};static#t=this.\u0275dir=_.lG2({type:V,selectors:[["","formGroup",""]],hostBindings:function(q,ue){1&q&&_.NdJ("submit",function(Kt){return ue.onSubmit(Kt)})("reset",function(){return ue.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([ar]),_.qOj,_.TTD]})}return V})();const Js={provide:Br,useExisting:(0,_.Gpc)(()=>Rn)};let Rn=(()=>{class V extends Br{set isDisabled(N){}static#e=this._ngModelWarningSentOnce=!1;constructor(N,q,ue,pt,Kt){super(),this._ngModelWarningConfig=Kt,this._added=!1,this.name=null,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=N,this._setValidators(q),this._setAsyncValidators(ue),this.valueAccessor=Zr(0,pt)}ngOnChanges(N){this._added||this._setUpControl(),br(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return function es(V,L){return[...L.path,V]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(q){return new(q||V)(_.Y36(Gt,13),_.Y36(Me,10),_.Y36(nt,10),_.Y36(Re,10),_.Y36(Ri,8))};static#n=this.\u0275dir=_.lG2({type:V,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([Js]),_.qOj,_.TTD]})}return V})();const _t={provide:Re,useExisting:(0,_.Gpc)(()=>$r),multi:!0};function zt(V,L){return null==V?`${L}`:(L&&"object"==typeof L&&(L="Object"),`${V}: ${L}`.slice(0,50))}let $r=(()=>{class V extends de{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(N){this._compareWith=N}writeValue(N){this.value=N;const ue=zt(this._getOptionId(N),N);this.setProperty("value",ue)}registerOnChange(N){this.onChange=q=>{this.value=this._getOptionValue(q),N(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(N){for(const q of this._optionMap.keys())if(this._compareWith(this._optionMap.get(q),N))return q;return null}_getOptionValue(N){const q=function $n(V){return V.split(":")[0]}(N);return this._optionMap.has(q)?this._optionMap.get(q):N}static#e=this.\u0275fac=function(){let N;return function(ue){return(N||(N=_.n5z(V)))(ue||V)}}();static#t=this.\u0275dir=_.lG2({type:V,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(q,ue){1&q&&_.NdJ("change",function(Kt){return ue.onChange(Kt.target.value)})("blur",function(){return ue.onTouched()})},inputs:{compareWith:"compareWith"},features:[_._Bn([_t]),_.qOj]})}return V})(),Hr=(()=>{class V{constructor(N,q,ue){this._element=N,this._renderer=q,this._select=ue,this._select&&(this.id=this._select._registerOption())}set ngValue(N){null!=this._select&&(this._select._optionMap.set(this.id,N),this._setElementValue(zt(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._setElementValue(N),this._select&&this._select.writeValue(this._select.value)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(q){return new(q||V)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36($r,9))};static#t=this.\u0275dir=_.lG2({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return V})();const mr={provide:Re,useExisting:(0,_.Gpc)(()=>ji),multi:!0};function ys(V,L){return null==V?`${L}`:("string"==typeof L&&(L=`'${L}'`),L&&"object"==typeof L&&(L="Object"),`${V}: ${L}`.slice(0,50))}let ji=(()=>{class V extends de{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(N){this._compareWith=N}writeValue(N){let q;if(this.value=N,Array.isArray(N)){const ue=N.map(pt=>this._getOptionId(pt));q=(pt,Kt)=>{pt._setSelected(ue.indexOf(Kt.toString())>-1)}}else q=(ue,pt)=>{ue._setSelected(!1)};this._optionMap.forEach(q)}registerOnChange(N){this.onChange=q=>{const ue=[],pt=q.selectedOptions;if(void 0!==pt){const Kt=pt;for(let ri=0;ri<Kt.length;ri++){const os=this._getOptionValue(Kt[ri].value);ue.push(os)}}else{const Kt=q.options;for(let ri=0;ri<Kt.length;ri++){const eo=Kt[ri];if(eo.selected){const os=this._getOptionValue(eo.value);ue.push(os)}}}this.value=ue,N(ue)}}_registerOption(N){const q=(this._idCounter++).toString();return this._optionMap.set(q,N),q}_getOptionId(N){for(const q of this._optionMap.keys())if(this._compareWith(this._optionMap.get(q)._value,N))return q;return null}_getOptionValue(N){const q=function hr(V){return V.split(":")[0]}(N);return this._optionMap.has(q)?this._optionMap.get(q)._value:N}static#e=this.\u0275fac=function(){let N;return function(ue){return(N||(N=_.n5z(V)))(ue||V)}}();static#t=this.\u0275dir=_.lG2({type:V,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(q,ue){1&q&&_.NdJ("change",function(Kt){return ue.onChange(Kt.target)})("blur",function(){return ue.onTouched()})},inputs:{compareWith:"compareWith"},features:[_._Bn([mr]),_.qOj]})}return V})(),Jt=(()=>{class V{constructor(N,q,ue){this._element=N,this._renderer=q,this._select=ue,this._select&&(this.id=this._select._registerOption(this))}set ngValue(N){null!=this._select&&(this._value=N,this._setElementValue(ys(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._select?(this._value=N,this._setElementValue(ys(this.id,N)),this._select.writeValue(this._select.value)):this._setElementValue(N)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}_setSelected(N){this._renderer.setProperty(this._element.nativeElement,"selected",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(q){return new(q||V)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(ji,9))};static#t=this.\u0275dir=_.lG2({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return V})(),Mi=(()=>{class V{static#e=this.\u0275fac=function(q){return new(q||V)};static#t=this.\u0275mod=_.oAB({type:V});static#n=this.\u0275inj=_.cJS({imports:[Os]})}return V})();class Rr extends lt{constructor(L,N,q){super(ae(N),Q(q,N)),this.controls=L,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[this._adjustIndex(L)]}push(L,N={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(L,N,q={}){this.controls.splice(L,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:q.emitEvent})}removeAt(L,N={}){let q=this._adjustIndex(L);q<0&&(q=0),this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),this.controls.splice(q,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(L,N,q={}){let ue=this._adjustIndex(L);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),N&&(this.controls.splice(ue,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,N={}){qe(this,0,L),L.forEach((q,ue)=>{Ee(this,!1,ue),this.at(ue).setValue(q,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(L,N={}){null!=L&&(L.forEach((q,ue)=>{this.at(ue)&&this.at(ue).patchValue(q,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(L=[],N={}){this._forEachChild((q,ue)=>{q.reset(L[ue],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(L=>L.getRawValue())}clear(L={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_adjustIndex(L){return L<0?L+this.length:L}_syncPendingControls(){let L=this.controls.reduce((N,q)=>!!q._syncPendingControls()||N,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){this.controls.forEach((N,q)=>{L(N,q)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(N=>N.enabled&&L(N))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}_find(L){return this.at(L)??null}}function $i(V){return!!V&&(void 0!==V.asyncValidators||void 0!==V.validators||void 0!==V.updateOn)}let qi=(()=>{class V{constructor(){this.useNonNullable=!1}get nonNullable(){const N=new V;return N.useNonNullable=!0,N}group(N,q=null){const ue=this._reduceControls(N);let pt={};return $i(q)?pt=q:null!==q&&(pt.validators=q.validator,pt.asyncValidators=q.asyncValidator),new Yt(ue,pt)}record(N,q=null){const ue=this._reduceControls(N);return new un(ue,q)}control(N,q,ue){let pt={};return this.useNonNullable?($i(q)?pt=q:(pt.validators=q,pt.asyncValidators=ue),new Xr(N,{...pt,nonNullable:!0})):new Xr(N,q,ue)}array(N,q,ue){const pt=N.map(Kt=>this._createControl(Kt));return new Rr(pt,q,ue)}_reduceControls(N){const q={};return Object.keys(N).forEach(ue=>{q[ue]=this._createControl(N[ue])}),q}_createControl(N){return N instanceof Xr||N instanceof lt?N:Array.isArray(N)?this.control(N[0],N.length>1?N[1]:null,N.length>2?N[2]:null):this.control(N)}static#e=this.\u0275fac=function(q){return new(q||V)};static#t=this.\u0275prov=_.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})(),xo=(()=>{class V{static withConfig(N){return{ngModule:V,providers:[{provide:Ri,useValue:N.warnOnNgModelWithFormControl??"always"},{provide:kr,useValue:N.callSetDisabledState??wr}]}}static#e=this.\u0275fac=function(q){return new(q||V)};static#t=this.\u0275mod=_.oAB({type:V});static#n=this.\u0275inj=_.cJS({imports:[Mi]})}return V})()},6593:(bt,je,$)=>{$.d(je,{Dx:()=>Br,b2:()=>gt,q6:()=>Jn,se:()=>me});var _=$(6689),J=$(6814);class j extends J.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends j{static makeCurrent(){(0,J.HT)(new Te)}onAndCancel(Q,W,Y){return Q.addEventListener(W,Y),()=>{Q.removeEventListener(W,Y)}}dispatchEvent(Q,W){Q.dispatchEvent(W)}remove(Q){Q.parentNode&&Q.parentNode.removeChild(Q)}createElement(Q,W){return(W=W||this.getDefaultDocument()).createElement(Q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Q){return Q.nodeType===Node.ELEMENT_NODE}isShadowRoot(Q){return Q instanceof DocumentFragment}getGlobalEventTarget(Q,W){return"window"===W?window:"document"===W?Q:"body"===W?Q.body:null}getBaseHref(Q){const W=function ie(){return ge=ge||document.querySelector("base"),ge?ge.getAttribute("href"):null}();return null==W?null:function Oe(K){Pe=Pe||document.createElement("a"),Pe.setAttribute("href",K);const Q=Pe.pathname;return"/"===Q.charAt(0)?Q:`/${Q}`}(W)}resetBaseElement(){ge=null}getUserAgent(){return window.navigator.userAgent}getCookie(Q){return(0,J.Mx)(document.cookie,Q)}}let Pe,ge=null,ne=(()=>{class K{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Y){return new(Y||K)};static#t=this.\u0275prov=_.Yz7({token:K,factory:K.\u0275fac})}return K})();const se=new _.OlP("EventManagerPlugins");let he=(()=>{class K{constructor(W,Y){this._zone=Y,this._eventNameToPlugin=new Map,W.forEach(Ee=>{Ee.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,Y,Ee){return this._findPluginFor(Y).addEventListener(W,Y,Ee)}getZone(){return this._zone}_findPluginFor(W){let Y=this._eventNameToPlugin.get(W);if(Y)return Y;if(Y=this._plugins.find(qe=>qe.supports(W)),!Y)throw new _.vHH(5101,!1);return this._eventNameToPlugin.set(W,Y),Y}static#e=this.\u0275fac=function(Y){return new(Y||K)(_.LFG(se),_.LFG(_.R0b))};static#t=this.\u0275prov=_.Yz7({token:K,factory:K.\u0275fac})}return K})();class le{constructor(Q){this._doc=Q}}const de="ng-app-id";let Re=(()=>{class K{constructor(W,Y,Ee,qe={}){this.doc=W,this.appId=Y,this.nonce=Ee,this.platformId=qe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,J.PM)(qe),this.resetHostNodes()}addStyles(W){for(const Y of W)1===this.changeUsageCount(Y,1)&&this.onStyleAdded(Y)}removeStyles(W){for(const Y of W)this.changeUsageCount(Y,-1)<=0&&this.onStyleRemoved(Y)}ngOnDestroy(){const W=this.styleNodesInDOM;W&&(W.forEach(Y=>Y.remove()),W.clear());for(const Y of this.getAllStyles())this.onStyleRemoved(Y);this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const Y of this.getAllStyles())this.addStyleToHost(W,Y)}removeHost(W){this.hostNodes.delete(W)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(W){for(const Y of this.hostNodes)this.addStyleToHost(Y,W)}onStyleRemoved(W){const Y=this.styleRef;Y.get(W)?.elements?.forEach(Ee=>Ee.remove()),Y.delete(W)}collectServerRenderedStyles(){const W=this.doc.head?.querySelectorAll(`style[${de}="${this.appId}"]`);if(W?.length){const Y=new Map;return W.forEach(Ee=>{null!=Ee.textContent&&Y.set(Ee.textContent,Ee)}),Y}return null}changeUsageCount(W,Y){const Ee=this.styleRef;if(Ee.has(W)){const qe=Ee.get(W);return qe.usage+=Y,qe.usage}return Ee.set(W,{usage:Y,elements:[]}),Y}getStyleElement(W,Y){const Ee=this.styleNodesInDOM,qe=Ee?.get(Y);if(qe?.parentNode===W)return Ee.delete(Y),qe.removeAttribute(de),qe;{const lt=this.doc.createElement("style");return this.nonce&&lt.setAttribute("nonce",this.nonce),lt.textContent=Y,this.platformIsServer&&lt.setAttribute(de,this.appId),lt}}addStyleToHost(W,Y){const Ee=this.getStyleElement(W,Y);W.appendChild(Ee);const qe=this.styleRef,lt=qe.get(Y)?.elements;lt?lt.push(Ee):qe.set(Y,{elements:[Ee],usage:1})}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}static#e=this.\u0275fac=function(Y){return new(Y||K)(_.LFG(J.K0),_.LFG(_.AFp),_.LFG(_.Ojb,8),_.LFG(_.Lbi))};static#t=this.\u0275prov=_.Yz7({token:K,factory:K.\u0275fac})}return K})();const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},it=/%COMP%/g,Ue=new _.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function nt(K,Q){return Q.map(W=>W.replace(it,K))}let me=(()=>{class K{constructor(W,Y,Ee,qe,lt,Yt,$t,An=null){this.eventManager=W,this.sharedStylesHost=Y,this.appId=Ee,this.removeStylesOnCompDestroy=qe,this.doc=lt,this.platformId=Yt,this.ngZone=$t,this.nonce=An,this.rendererByCompId=new Map,this.platformIsServer=(0,J.PM)(Yt),this.defaultRenderer=new jt(W,lt,$t,this.platformIsServer)}createRenderer(W,Y){if(!W||!Y)return this.defaultRenderer;this.platformIsServer&&Y.encapsulation===_.ifc.ShadowDom&&(Y={...Y,encapsulation:_.ifc.Emulated});const Ee=this.getOrCreateRenderer(W,Y);return Ee instanceof Rt?Ee.applyToHost(W):Ee instanceof Xt&&Ee.applyStyles(),Ee}getOrCreateRenderer(W,Y){const Ee=this.rendererByCompId;let qe=Ee.get(Y.id);if(!qe){const lt=this.doc,Yt=this.ngZone,$t=this.eventManager,An=this.sharedStylesHost,un=this.removeStylesOnCompDestroy,qn=this.platformIsServer;switch(Y.encapsulation){case _.ifc.Emulated:qe=new Rt($t,An,Y,this.appId,un,lt,Yt,qn);break;case _.ifc.ShadowDom:return new ot($t,An,W,Y,lt,Yt,this.nonce,qn);default:qe=new Xt($t,An,Y,un,lt,Yt,qn)}Ee.set(Y.id,qe)}return qe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Y){return new(Y||K)(_.LFG(he),_.LFG(Re),_.LFG(_.AFp),_.LFG(Ue),_.LFG(J.K0),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(_.Ojb))};static#t=this.\u0275prov=_.Yz7({token:K,factory:K.\u0275fac})}return K})();class jt{constructor(Q,W,Y,Ee){this.eventManager=Q,this.doc=W,this.ngZone=Y,this.platformIsServer=Ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Q,W){return W?this.doc.createElementNS(st[W]||W,Q):this.doc.createElement(Q)}createComment(Q){return this.doc.createComment(Q)}createText(Q){return this.doc.createTextNode(Q)}appendChild(Q,W){(Zn(Q)?Q.content:Q).appendChild(W)}insertBefore(Q,W,Y){Q&&(Zn(Q)?Q.content:Q).insertBefore(W,Y)}removeChild(Q,W){Q&&Q.removeChild(W)}selectRootElement(Q,W){let Y="string"==typeof Q?this.doc.querySelector(Q):Q;if(!Y)throw new _.vHH(-5104,!1);return W||(Y.textContent=""),Y}parentNode(Q){return Q.parentNode}nextSibling(Q){return Q.nextSibling}setAttribute(Q,W,Y,Ee){if(Ee){W=Ee+":"+W;const qe=st[Ee];qe?Q.setAttributeNS(qe,W,Y):Q.setAttribute(W,Y)}else Q.setAttribute(W,Y)}removeAttribute(Q,W,Y){if(Y){const Ee=st[Y];Ee?Q.removeAttributeNS(Ee,W):Q.removeAttribute(`${Y}:${W}`)}else Q.removeAttribute(W)}addClass(Q,W){Q.classList.add(W)}removeClass(Q,W){Q.classList.remove(W)}setStyle(Q,W,Y,Ee){Ee&(_.JOm.DashCase|_.JOm.Important)?Q.style.setProperty(W,Y,Ee&_.JOm.Important?"important":""):Q.style[W]=Y}removeStyle(Q,W,Y){Y&_.JOm.DashCase?Q.style.removeProperty(W):Q.style[W]=""}setProperty(Q,W,Y){Q[W]=Y}setValue(Q,W){Q.nodeValue=W}listen(Q,W,Y){if("string"==typeof Q&&!(Q=(0,J.q)().getGlobalEventTarget(this.doc,Q)))throw new Error(`Unsupported event target ${Q} for event ${W}`);return this.eventManager.addEventListener(Q,W,this.decoratePreventDefault(Y))}decoratePreventDefault(Q){return W=>{if("__ngUnwrap__"===W)return Q;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Q(W)):Q(W))&&W.preventDefault()}}}function Zn(K){return"TEMPLATE"===K.tagName&&void 0!==K.content}class ot extends jt{constructor(Q,W,Y,Ee,qe,lt,Yt,$t){super(Q,qe,lt,$t),this.sharedStylesHost=W,this.hostEl=Y,this.shadowRoot=Y.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const An=nt(Ee.id,Ee.styles);for(const un of An){const qn=document.createElement("style");Yt&&qn.setAttribute("nonce",Yt),qn.textContent=un,this.shadowRoot.appendChild(qn)}}nodeOrShadowRoot(Q){return Q===this.hostEl?this.shadowRoot:Q}appendChild(Q,W){return super.appendChild(this.nodeOrShadowRoot(Q),W)}insertBefore(Q,W,Y){return super.insertBefore(this.nodeOrShadowRoot(Q),W,Y)}removeChild(Q,W){return super.removeChild(this.nodeOrShadowRoot(Q),W)}parentNode(Q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Q)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Xt extends jt{constructor(Q,W,Y,Ee,qe,lt,Yt,$t){super(Q,qe,lt,Yt),this.sharedStylesHost=W,this.removeStylesOnCompDestroy=Ee,this.styles=$t?nt($t,Y.styles):Y.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Rt extends Xt{constructor(Q,W,Y,Ee,qe,lt,Yt,$t){const An=Ee+"-"+Y.id;super(Q,W,Y,qe,lt,Yt,$t,An),this.contentAttr=function He(K){return"_ngcontent-%COMP%".replace(it,K)}(An),this.hostAttr=function Me(K){return"_nghost-%COMP%".replace(it,K)}(An)}applyToHost(Q){this.applyStyles(),this.setAttribute(Q,this.hostAttr,"")}createElement(Q,W){const Y=super.createElement(Q,W);return super.setAttribute(Y,this.contentAttr,""),Y}}let Ht=(()=>{class K extends le{constructor(W){super(W)}supports(W){return!0}addEventListener(W,Y,Ee){return W.addEventListener(Y,Ee,!1),()=>this.removeEventListener(W,Y,Ee)}removeEventListener(W,Y,Ee){return W.removeEventListener(Y,Ee)}static#e=this.\u0275fac=function(Y){return new(Y||K)(_.LFG(J.K0))};static#t=this.\u0275prov=_.Yz7({token:K,factory:K.\u0275fac})}return K})();const Mt=["alt","control","meta","shift"],ye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},we={alt:K=>K.altKey,control:K=>K.ctrlKey,meta:K=>K.metaKey,shift:K=>K.shiftKey};let Ne=(()=>{class K extends le{constructor(W){super(W)}supports(W){return null!=K.parseEventName(W)}addEventListener(W,Y,Ee){const qe=K.parseEventName(Y),lt=K.eventCallback(qe.fullKey,Ee,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,J.q)().onAndCancel(W,qe.domEventName,lt))}static parseEventName(W){const Y=W.toLowerCase().split("."),Ee=Y.shift();if(0===Y.length||"keydown"!==Ee&&"keyup"!==Ee)return null;const qe=K._normalizeKey(Y.pop());let lt="",Yt=Y.indexOf("code");if(Yt>-1&&(Y.splice(Yt,1),lt="code."),Mt.forEach(An=>{const un=Y.indexOf(An);un>-1&&(Y.splice(un,1),lt+=An+".")}),lt+=qe,0!=Y.length||0===qe.length)return null;const $t={};return $t.domEventName=Ee,$t.fullKey=lt,$t}static matchEventFullKeyCode(W,Y){let Ee=ye[W.key]||W.key,qe="";return Y.indexOf("code.")>-1&&(Ee=W.code,qe="code."),!(null==Ee||!Ee)&&(Ee=Ee.toLowerCase()," "===Ee?Ee="space":"."===Ee&&(Ee="dot"),Mt.forEach(lt=>{lt!==Ee&&(0,we[lt])(W)&&(qe+=lt+".")}),qe+=Ee,qe===Y)}static eventCallback(W,Y,Ee){return qe=>{K.matchEventFullKeyCode(qe,W)&&Ee.runGuarded(()=>Y(qe))}}static _normalizeKey(W){return"esc"===W?"escape":W}static#e=this.\u0275fac=function(Y){return new(Y||K)(_.LFG(J.K0))};static#t=this.\u0275prov=_.Yz7({token:K,factory:K.\u0275fac})}return K})();const Jn=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:J.bD},{provide:_.g9A,useValue:function vn(){Te.makeCurrent()},multi:!0},{provide:J.K0,useFactory:function Ut(){return(0,_.RDi)(document),document},deps:[]}]),Fn=new _.OlP(""),Ct=[{provide:_.rWj,useClass:class Ie{addToWindow(Q){_.dqk.getAngularTestability=(Y,Ee=!0)=>{const qe=Q.findTestabilityInTree(Y,Ee);if(null==qe)throw new _.vHH(5103,!1);return qe},_.dqk.getAllAngularTestabilities=()=>Q.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>Q.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(Y=>{const Ee=_.dqk.getAllAngularTestabilities();let qe=Ee.length,lt=!1;const Yt=function($t){lt=lt||$t,qe--,0==qe&&Y(lt)};Ee.forEach($t=>{$t.whenStable(Yt)})})}findTestabilityInTree(Q,W,Y){return null==W?null:Q.getTestability(W)??(Y?(0,J.q)().isShadowRoot(W)?this.findTestabilityInTree(Q,W.host,!0):this.findTestabilityInTree(Q,W.parentElement,!0):null)}},deps:[]},{provide:_.lri,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]}],Dn=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function kn(){return new _.qLn},deps:[]},{provide:se,useClass:Ht,multi:!0,deps:[J.K0,_.R0b,_.Lbi]},{provide:se,useClass:Ne,multi:!0,deps:[J.K0]},me,Re,he,{provide:_.FYo,useExisting:me},{provide:J.JF,useClass:ne,deps:[]},[]];let gt=(()=>{class K{constructor(W){}static withServerTransition(W){return{ngModule:K,providers:[{provide:_.AFp,useValue:W.appId}]}}static#e=this.\u0275fac=function(Y){return new(Y||K)(_.LFG(Fn,12))};static#t=this.\u0275mod=_.oAB({type:K});static#n=this.\u0275inj=_.cJS({providers:[...Dn,...Ct],imports:[J.ez,_.hGG]})}return K})(),Br=(()=>{class K{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}static#e=this.\u0275fac=function(Y){return new(Y||K)(_.LFG(J.K0))};static#t=this.\u0275prov=_.Yz7({token:K,factory:function(Y){let Ee=null;return Ee=Y?new Y:function Gt(){return new Br((0,_.LFG)(J.K0))}(),Ee},providedIn:"root"})}return K})();typeof window<"u"&&window},9805:(bt,je,$)=>{$.d(je,{m2:()=>gr,F0:()=>fi,rH:()=>Ze,Bz:()=>Ye,lC:()=>_t});var _=$(6689),J=$(5592),j=$(4674),ge=$(2459),ie=$(2096),Pe=$(5619),Oe=$(2572),Ie=$(6973),ne=$(7537),he=$(4564);function le(...T){return function se(){return(0,ne.J)(1)}()((0,ge.D)(T,(0,he.yG)(T)))}var de=$(4829);function Re(T){return new J.y(S=>{(0,de.Xf)(T()).subscribe(S)})}var st=$(8407);function it(T,S){const v=(0,j.m)(T)?T:()=>T,R=x=>x.error(v());return new J.y(S?x=>S.schedule(R,0,x):R)}var We=$(6232),St=$(7394),et=$(9360),ce=$(8251);function Ue(){return(0,et.e)((T,S)=>{let v=null;T._refCount++;const R=(0,ce.x)(S,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(v=null);const x=T._connection,z=v;v=null,x&&(!z||x===z)&&x.unsubscribe(),S.unsubscribe()});T.subscribe(R),R.closed||(v=T.connect())})}class He extends J.y{constructor(S,v){super(),this.source=S,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,et.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new St.w0;const v=this.getSubject();S.add(this.source.subscribe((0,ce.x)(v,void 0,()=>{this._teardown(),v.complete()},R=>{this._teardown(),v.error(R)},()=>this._teardown()))),S.closed&&(this._connection=null,S=St.w0.EMPTY)}return S}refCount(){return Ue()(this)}}var Me=$(8645),nt=$(6814),me=$(7398),jt=$(4664);function Qt(T){return T<=0?()=>We.E:(0,et.e)((S,v)=>{let R=0;S.subscribe((0,ce.x)(v,x=>{++R<=T&&(v.next(x),T<=R&&v.complete())}))})}var Zn=$(2181),ot=$(1631);function Xt(T){return(0,et.e)((S,v)=>{let R=!1;S.subscribe((0,ce.x)(v,x=>{R=!0,v.next(x)},()=>{R||v.next(T),v.complete()}))})}function Rt(T=Ht){return(0,et.e)((S,v)=>{let R=!1;S.subscribe((0,ce.x)(v,x=>{R=!0,v.next(x)},()=>R?v.complete():v.error(T())))})}function Ht(){return new Ie.K}var Mt=$(2737);function ye(T,S){const v=arguments.length>=2;return R=>R.pipe(T?(0,Zn.h)((x,z)=>T(x,z,R)):Mt.y,Qt(1),v?Xt(S):Rt(()=>new Ie.K))}function we(T,S){return(0,j.m)(S)?(0,ot.z)(T,S,1):(0,ot.z)(T,1)}var Ne=$(9397);function Ce(T){return(0,et.e)((S,v)=>{let z,R=null,x=!1;R=S.subscribe((0,ce.x)(v,void 0,void 0,re=>{z=(0,de.Xf)(T(re,Ce(T)(S))),R?(R.unsubscribe(),R=null,z.subscribe(v)):x=!0})),x&&(R.unsubscribe(),R=null,z.subscribe(v))})}function Bt(T){return T<=0?()=>We.E:(0,et.e)((S,v)=>{let R=[];S.subscribe((0,ce.x)(v,x=>{R.push(x),T<R.length&&R.shift()},()=>{for(const x of R)v.next(x);v.complete()},void 0,()=>{R=null}))})}function Ut(T){return(0,et.e)((S,v)=>{try{S.subscribe(v)}finally{v.add(T)}})}var pn=$(2420),Fn=$(6593);const Ct="primary",Dn=Symbol("RouteTitle");class gt{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const v=this.params[S];return Array.isArray(v)?v[0]:v}return null}getAll(S){if(this.has(S)){const v=this.params[S];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function er(T){return new gt(T)}function Ii(T,S,v){const R=v.path.split("/");if(R.length>T.length||"full"===v.pathMatch&&(S.hasChildren()||R.length<T.length))return null;const x={};for(let z=0;z<R.length;z++){const re=R[z],Le=T[z];if(re.startsWith(":"))x[re.substring(1)]=Le;else if(re!==Le.path)return null}return{consumed:T.slice(0,R.length),posParams:x}}function Gt(T,S){const v=T?Object.keys(T):void 0,R=S?Object.keys(S):void 0;if(!v||!R||v.length!=R.length)return!1;let x;for(let z=0;z<v.length;z++)if(x=v[z],!Br(T[x],S[x]))return!1;return!0}function Br(T,S){if(Array.isArray(T)&&Array.isArray(S)){if(T.length!==S.length)return!1;const v=[...T].sort(),R=[...S].sort();return v.every((x,z)=>R[z]===x)}return T===S}function Pr(T){return T.length>0?T[T.length-1]:null}function Gn(T){return function Te(T){return!!T&&(T instanceof J.y||(0,j.m)(T.lift)&&(0,j.m)(T.subscribe))}(T)?T:(0,_.QGY)(T)?(0,ge.D)(Promise.resolve(T)):(0,ie.of)(T)}const Yr={exact:function dr(T,S,v){if(!Ti(T.segments,S.segments)||!sn(T.segments,S.segments,v)||T.numberOfChildren!==S.numberOfChildren)return!1;for(const R in S.children)if(!T.children[R]||!dr(T.children[R],S.children[R],v))return!1;return!0},subset:Or},ln={exact:function Er(T,S){return Gt(T,S)},subset:function ui(T,S){return Object.keys(S).length<=Object.keys(T).length&&Object.keys(S).every(v=>Br(T[v],S[v]))},ignored:()=>!0};function en(T,S,v){return Yr[v.paths](T.root,S.root,v.matrixParams)&&ln[v.queryParams](T.queryParams,S.queryParams)&&!("exact"===v.fragment&&T.fragment!==S.fragment)}function Or(T,S,v){return tr(T,S,S.segments,v)}function tr(T,S,v,R){if(T.segments.length>v.length){const x=T.segments.slice(0,v.length);return!(!Ti(x,v)||S.hasChildren()||!sn(x,v,R))}if(T.segments.length===v.length){if(!Ti(T.segments,v)||!sn(T.segments,v,R))return!1;for(const x in S.children)if(!T.children[x]||!Or(T.children[x],S.children[x],R))return!1;return!0}{const x=v.slice(0,T.segments.length),z=v.slice(T.segments.length);return!!(Ti(T.segments,x)&&sn(T.segments,x,R)&&T.children[Ct])&&tr(T.children[Ct],S,z,R)}}function sn(T,S,v){return S.every((R,x)=>ln[v](T[x].parameters,R.parameters))}class In{constructor(S=new Cn([],{}),v={},R=null){this.root=S,this.queryParams=v,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=er(this.queryParams)),this._queryParamMap}toString(){return nn.serialize(this)}}class Cn{constructor(S,v){this.segments=S,this.children=v,this.parent=null,Object.values(v).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return li(this)}}class Pt{constructor(S,v){this.path=S,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=er(this.parameters)),this._parameterMap}toString(){return Q(this)}}function Ti(T,S){return T.length===S.length&&T.every((v,R)=>v.path===S[R].path)}let Ir=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=_.Yz7({token:T,factory:function(){return new xr},providedIn:"root"})}return T})();class xr{parse(S){const v=new kr(S);return new In(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(S){const v=`/${Tr(S.root,!0)}`,R=function Y(T){const S=Object.keys(T).map(v=>{const R=T[v];return Array.isArray(R)?R.map(x=>`${Wn(v)}=${Wn(x)}`).join("&"):`${Wn(v)}=${Wn(R)}`}).filter(v=>!!v);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${v}${R}${"string"==typeof S.fragment?`#${function mi(T){return encodeURI(T)}(S.fragment)}`:""}`}}const nn=new xr;function li(T){return T.segments.map(S=>Q(S)).join("/")}function Tr(T,S){if(!T.hasChildren())return li(T);if(S){const v=T.children[Ct]?Tr(T.children[Ct],!1):"",R=[];return Object.entries(T.children).forEach(([x,z])=>{x!==Ct&&R.push(`${x}:${Tr(z,!1)}`)}),R.length>0?`${v}(${R.join("//")})`:v}{const v=function gn(T,S){let v=[];return Object.entries(T.children).forEach(([R,x])=>{R===Ct&&(v=v.concat(S(x,R)))}),Object.entries(T.children).forEach(([R,x])=>{R!==Ct&&(v=v.concat(S(x,R)))}),v}(T,(R,x)=>x===Ct?[Tr(T.children[Ct],!1)]:[`${x}:${Tr(R,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Ct]?`${li(T)}/${v[0]}`:`${li(T)}/(${v.join("//")})`}}function zn(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wn(T){return zn(T).replace(/%3B/gi,";")}function or(T){return zn(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ae(T){return decodeURIComponent(T)}function K(T){return ae(T.replace(/\+/g,"%20"))}function Q(T){return`${or(T.path)}${function W(T){return Object.keys(T).map(S=>`;${or(S)}=${or(T[S])}`).join("")}(T.parameters)}`}const Ee=/^[^\/()?;#]+/;function qe(T){const S=T.match(Ee);return S?S[0]:""}const lt=/^[^\/()?;=#]+/,$t=/^[^=?&#]+/,un=/^[^&#]+/;class kr{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(S.length>0||Object.keys(v).length>0)&&(R[Ct]=new Cn(S,v)),R}parseSegment(){const S=qe(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new _.vHH(4009,!1);return this.capture(S),new Pt(ae(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const v=function Yt(T){const S=T.match(lt);return S?S[0]:""}(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const x=qe(this.remaining);x&&(R=x,this.capture(R))}S[ae(v)]=ae(R)}parseQueryParam(S){const v=function An(T){const S=T.match($t);return S?S[0]:""}(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const re=function qn(T){const S=T.match(un);return S?S[0]:""}(this.remaining);re&&(R=re,this.capture(R))}const x=K(v),z=K(R);if(S.hasOwnProperty(x)){let re=S[x];Array.isArray(re)||(re=[re],S[x]=re),re.push(z)}else S[x]=z}parseParens(S){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=qe(this.remaining),x=this.remaining[R.length];if("/"!==x&&")"!==x&&";"!==x)throw new _.vHH(4010,!1);let z;R.indexOf(":")>-1?(z=R.slice(0,R.indexOf(":")),this.capture(z),this.capture(":")):S&&(z=Ct);const re=this.parseChildren();v[z]=1===Object.keys(re).length?re[Ct]:new Cn([],re),this.consumeOptional("//")}return v}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new _.vHH(4011,!1)}}function wr(T){return T.segments.length>0?new Cn([],{[Ct]:T}):T}function es(T){const S={};for(const R of Object.keys(T.children)){const z=es(T.children[R]);if(R===Ct&&0===z.segments.length&&z.hasChildren())for(const[re,Le]of Object.entries(z.children))S[re]=Le;else(z.segments.length>0||z.hasChildren())&&(S[R]=z)}return function ke(T){if(1===T.numberOfChildren&&T.children[Ct]){const S=T.children[Ct];return new Cn(T.segments.concat(S.segments),S.children)}return T}(new Cn(T.segments,S))}function De(T){return T instanceof In}function Et(T){let S;const x=wr(function v(z){const re={};for(const Ae of z.children){const It=v(Ae);re[Ae.outlet]=It}const Le=new Cn(z.url,re);return z===T&&(S=Le),Le}(T.root));return S??x}function on(T,S,v,R){let x=T;for(;x.parent;)x=x.parent;if(0===S.length)return nr(x,x,x,v,R);const z=function ts(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new Dr(!0,0,T);let S=0,v=!1;const R=T.reduce((x,z,re)=>{if("object"==typeof z&&null!=z){if(z.outlets){const Le={};return Object.entries(z.outlets).forEach(([Ae,It])=>{Le[Ae]="string"==typeof It?It.split("/"):It}),[...x,{outlets:Le}]}if(z.segmentPath)return[...x,z.segmentPath]}return"string"!=typeof z?[...x,z]:0===re?(z.split("/").forEach((Le,Ae)=>{0==Ae&&"."===Le||(0==Ae&&""===Le?v=!0:".."===Le?S++:""!=Le&&x.push(Le))}),x):[...x,z]},[]);return new Dr(v,S,R)}(S);if(z.toRoot())return nr(x,x,new Cn([],{}),v,R);const re=function Ar(T,S,v){if(T.isAbsolute)return new Cr(S,!0,0);if(!v)return new Cr(S,!1,NaN);if(null===v.parent)return new Cr(v,!0,0);const R=qt(T.commands[0])?0:1;return function En(T,S,v){let R=T,x=S,z=v;for(;z>x;){if(z-=x,R=R.parent,!R)throw new _.vHH(4005,!1);x=R.segments.length}return new Cr(R,!1,x-z)}(v,v.segments.length-1+R,T.numberOfDoubleDots)}(z,x,T),Le=re.processChildren?On(re.segmentGroup,re.index,z.commands):Ms(re.segmentGroup,re.index,z.commands);return nr(x,re.segmentGroup,Le,v,R)}function qt(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function fn(T){return"object"==typeof T&&null!=T&&T.outlets}function nr(T,S,v,R,x){let re,z={};R&&Object.entries(R).forEach(([Ae,It])=>{z[Ae]=Array.isArray(It)?It.map(_n=>`${_n}`):`${It}`}),re=T===S?v:Nn(T,S,v);const Le=wr(es(re));return new In(Le,z,x)}function Nn(T,S,v){const R={};return Object.entries(T.children).forEach(([x,z])=>{R[x]=z===S?v:Nn(z,S,v)}),new Cn(T.segments,R)}class Dr{constructor(S,v,R){if(this.isAbsolute=S,this.numberOfDoubleDots=v,this.commands=R,S&&R.length>0&&qt(R[0]))throw new _.vHH(4003,!1);const x=R.find(fn);if(x&&x!==Pr(R))throw new _.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cr{constructor(S,v,R){this.segmentGroup=S,this.processChildren=v,this.index=R}}function Ms(T,S,v){if(T||(T=new Cn([],{})),0===T.segments.length&&T.hasChildren())return On(T,S,v);const R=function br(T,S,v){let R=0,x=S;const z={match:!1,pathIndex:0,commandIndex:0};for(;x<T.segments.length;){if(R>=v.length)return z;const re=T.segments[x],Le=v[R];if(fn(Le))break;const Ae=`${Le}`,It=R<v.length-1?v[R+1]:null;if(x>0&&void 0===Ae)break;if(Ae&&It&&"object"==typeof It&&void 0===It.outlets){if(!Si(Ae,It,re))return z;R+=2}else{if(!Si(Ae,{},re))return z;R++}x++}return{match:!0,pathIndex:x,commandIndex:R}}(T,S,v),x=v.slice(R.commandIndex);if(R.match&&R.pathIndex<T.segments.length){const z=new Cn(T.segments.slice(0,R.pathIndex),{});return z.children[Ct]=new Cn(T.segments.slice(R.pathIndex),T.children),On(z,0,x)}return R.match&&0===x.length?new Cn(T.segments,{}):R.match&&!T.hasChildren()?bi(T,S,v):R.match?On(T,0,x):bi(T,S,v)}function On(T,S,v){if(0===v.length)return new Cn(T.segments,{});{const R=function ns(T){return fn(T[0])?T[0].outlets:{[Ct]:T}}(v),x={};if(Object.keys(R).some(z=>z!==Ct)&&T.children[Ct]&&1===T.numberOfChildren&&0===T.children[Ct].segments.length){const z=On(T.children[Ct],S,v);return new Cn(T.segments,z.children)}return Object.entries(R).forEach(([z,re])=>{"string"==typeof re&&(re=[re]),null!==re&&(x[z]=Ms(T.children[z],S,re))}),Object.entries(T.children).forEach(([z,re])=>{void 0===R[z]&&(x[z]=re)}),new Cn(T.segments,x)}}function bi(T,S,v){const R=T.segments.slice(0,S);let x=0;for(;x<v.length;){const z=v[x];if(fn(z)){const Ae=Li(z.outlets);return new Cn(R,Ae)}if(0===x&&qt(v[0])){R.push(new Pt(T.segments[S].path,Zr(v[0]))),x++;continue}const re=fn(z)?z.outlets[Ct]:`${z}`,Le=x<v.length-1?v[x+1]:null;re&&Le&&qt(Le)?(R.push(new Pt(re,Zr(Le))),x+=2):(R.push(new Pt(re,{})),x++)}return new Cn(R,{})}function Li(T){const S={};return Object.entries(T).forEach(([v,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(S[v]=bi(new Cn([],{}),0,R))}),S}function Zr(T){const S={};return Object.entries(T).forEach(([v,R])=>S[v]=`${R}`),S}function Si(T,S,v){return T==v.path&&Gt(S,v.parameters)}const _i="imperative";class jr{constructor(S,v){this.id=S,this.url=v}}class Pi extends jr{constructor(S,v,R="imperative",x=null){super(S,v),this.type=0,this.navigationTrigger=R,this.restoredState=x}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gr extends jr{constructor(S,v,R){super(S,v),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ui extends jr{constructor(S,v,R,x){super(S,v),this.reason=R,this.code=x,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jr extends jr{constructor(S,v,R,x){super(S,v),this.reason=R,this.code=x,this.type=16}}class Xr extends jr{constructor(S,v,R,x){super(S,v),this.error=R,this.target=x,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ao extends jr{constructor(S,v,R,x){super(S,v),this.urlAfterRedirects=R,this.state=x,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ps extends jr{constructor(S,v,R,x){super(S,v),this.urlAfterRedirects=R,this.state=x,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ro extends jr{constructor(S,v,R,x,z){super(S,v),this.urlAfterRedirects=R,this.state=x,this.shouldActivate=z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gs extends jr{constructor(S,v,R,x){super(S,v),this.urlAfterRedirects=R,this.state=x,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hi extends jr{constructor(S,v,R,x){super(S,v),this.urlAfterRedirects=R,this.state=x,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ci{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mo{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zo{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jo{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class No{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oo{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ns{constructor(S,v,R){this.routerEvent=S,this.position=v,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vo{}class Gi{constructor(S){this.url=S}}class ms{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ys,this.attachRef=null}}let Ys=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(v,R){const x=this.getOrCreateContext(v);x.outlet=R,this.contexts.set(v,x)}onChildOutletDestroyed(v){const R=this.getContext(v);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let R=this.getContext(v);return R||(R=new ms,this.contexts.set(v,R)),R}getContext(v){return this.contexts.get(v)||null}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=_.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();class Os{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const v=this.pathFromRoot(S);return v.length>1?v[v.length-2]:null}children(S){const v=xs(S,this._root);return v?v.children.map(R=>R.value):[]}firstChild(S){const v=xs(S,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(S){const v=_s(S,this._root);return v.length<2?[]:v[v.length-2].children.map(x=>x.value).filter(x=>x!==S)}pathFromRoot(S){return _s(S,this._root).map(v=>v.value)}}function xs(T,S){if(T===S.value)return S;for(const v of S.children){const R=xs(T,v);if(R)return R}return null}function _s(T,S){if(T===S.value)return[S];for(const v of S.children){const R=_s(T,v);if(R.length)return R.unshift(S),R}return[]}class yi{constructor(S,v){this.value=S,this.children=v}toString(){return`TreeNode(${this.value})`}}function rs(T){const S={};return T&&T.children.forEach(v=>S[v.value.outlet]=v),S}class Ri extends Os{constructor(S,v){super(S),this.snapshot=v,ei(this,S)}toString(){return this.snapshot.toString()}}function an(T,S){const v=function fr(T,S){const re=new Bi([],{},{},"",{},Ct,S,null,{});return new Wi("",new yi(re,[]))}(0,S),R=new Pe.X([new Pt("",{})]),x=new Pe.X({}),z=new Pe.X({}),re=new Pe.X({}),Le=new Pe.X(""),Ae=new ar(R,x,re,Le,z,Ct,S,v.root);return Ae.snapshot=v.root,new Ri(new yi(Ae,[]),v)}class ar{constructor(S,v,R,x,z,re,Le,Ae){this.urlSubject=S,this.paramsSubject=v,this.queryParamsSubject=R,this.fragmentSubject=x,this.dataSubject=z,this.outlet=re,this.component=Le,this._futureSnapshot=Ae,this.title=this.dataSubject?.pipe((0,me.U)(It=>It[Dn]))??(0,ie.of)(void 0),this.url=S,this.params=v,this.queryParams=R,this.fragment=x,this.data=z}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,me.U)(S=>er(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,me.U)(S=>er(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zi(T,S="emptyOnly"){const v=T.pathFromRoot;let R=0;if("always"!==S)for(R=v.length-1;R>=1;){const x=v[R],z=v[R-1];if(x.routeConfig&&""===x.routeConfig.path)R--;else{if(z.component)break;R--}}return function mn(T){return T.reduce((S,v)=>({params:{...S.params,...v.params},data:{...S.data,...v.data},resolve:{...v.data,...S.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(R))}class Bi{get title(){return this.data?.[Dn]}constructor(S,v,R,x,z,re,Le,Ae,It){this.url=S,this.params=v,this.queryParams=R,this.fragment=x,this.data=z,this.outlet=re,this.component=Le,this.routeConfig=Ae,this._resolve=It}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=er(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=er(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wi extends Os{constructor(S,v){super(v),this.url=S,ei(this,v)}toString(){return Zs(this._root)}}function ei(T,S){S.value._routerState=T,S.children.forEach(v=>ei(T,v))}function Zs(T){const S=T.children.length>0?` { ${T.children.map(Zs).join(", ")} } `:"";return`${T.value}${S}`}function Js(T){if(T.snapshot){const S=T.snapshot,v=T._futureSnapshot;T.snapshot=v,Gt(S.queryParams,v.queryParams)||T.queryParamsSubject.next(v.queryParams),S.fragment!==v.fragment&&T.fragmentSubject.next(v.fragment),Gt(S.params,v.params)||T.paramsSubject.next(v.params),function Vi(T,S){if(T.length!==S.length)return!1;for(let v=0;v<T.length;++v)if(!Gt(T[v],S[v]))return!1;return!0}(S.url,v.url)||T.urlSubject.next(v.url),Gt(S.data,v.data)||T.dataSubject.next(v.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function Rn(T,S){const v=Gt(T.params,S.params)&&function fs(T,S){return Ti(T,S)&&T.every((v,R)=>Gt(v.parameters,S[R].parameters))}(T.url,S.url);return v&&!(!T.parent!=!S.parent)&&(!T.parent||Rn(T.parent,S.parent))}let _t=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ct,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.parentContexts=(0,_.f3M)(Ys),this.location=(0,_.f3M)(_.s_b),this.changeDetector=(0,_.f3M)(_.sBO),this.environmentInjector=(0,_.f3M)(_.lqb),this.inputBinder=(0,_.f3M)($n,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(v){if(v.name){const{firstChange:R,previousValue:x}=v.name;if(R)return;this.isTrackedInParentContexts(x)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(x)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(v){return this.parentContexts.getContext(v)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const v=this.parentContexts.getContext(this.name);v?.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,!1);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,R){this.activated=v,this._activatedRoute=R,this.location.insert(v.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,R){if(this.isActivated)throw new _.vHH(4013,!1);this._activatedRoute=v;const x=this.location,re=v.snapshot.component,Le=this.parentContexts.getOrCreateContext(this.name).children,Ae=new zt(v,Le,x.injector);this.activated=x.createComponent(re,{index:x.length,injector:Ae,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275dir=_.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.TTD]})}return T})();class zt{constructor(S,v,R){this.route=S,this.childContexts=v,this.parent=R}get(S,v){return S===ar?this.route:S===Ys?this.childContexts:this.parent.get(S,v)}}const $n=new _.OlP("");let $r=(()=>{class T{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(v){this.unsubscribeFromRouteData(v),this.subscribeToRouteData(v)}unsubscribeFromRouteData(v){this.outletDataSubscriptions.get(v)?.unsubscribe(),this.outletDataSubscriptions.delete(v)}subscribeToRouteData(v){const{activatedRoute:R}=v,x=(0,Oe.a)([R.queryParams,R.params,R.data]).pipe((0,jt.w)(([z,re,Le],Ae)=>(Le={...z,...re,...Le},0===Ae?(0,ie.of)(Le):Promise.resolve(Le)))).subscribe(z=>{if(!v.isActivated||!v.activatedComponentRef||v.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(v);const re=(0,_.qFp)(R.component);if(re)for(const{templateName:Le}of re.inputs)v.activatedComponentRef.setInput(Le,z[Le]);else this.unsubscribeFromRouteData(v)});this.outletDataSubscriptions.set(v,x)}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=_.Yz7({token:T,factory:T.\u0275fac})}return T})();function mr(T,S,v){if(v&&T.shouldReuseRoute(S.value,v.value.snapshot)){const R=v.value;R._futureSnapshot=S.value;const x=function ys(T,S,v){return S.children.map(R=>{for(const x of v.children)if(T.shouldReuseRoute(R.value,x.value.snapshot))return mr(T,R,x);return mr(T,R)})}(T,S,v);return new yi(R,x)}{if(T.shouldAttach(S.value)){const z=T.retrieve(S.value);if(null!==z){const re=z.route;return re.value._futureSnapshot=S.value,re.children=S.children.map(Le=>mr(T,Le)),re}}const R=function hr(T){return new ar(new Pe.X(T.url),new Pe.X(T.params),new Pe.X(T.queryParams),new Pe.X(T.fragment),new Pe.X(T.data),T.outlet,T.component,T)}(S.value),x=S.children.map(z=>mr(T,z));return new yi(R,x)}}const Gr="ngNavigationCancelingError";function ji(T,S){const{redirectTo:v,navigationBehaviorOptions:R}=De(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,x=Jt(!1,0,S);return x.url=v,x.navigationBehaviorOptions=R,x}function Jt(T,S,v){const R=new Error("NavigationCancelingError: "+(T||""));return R[Gr]=!0,R.cancellationCode=S,v&&(R.url=v),R}function Eo(T){return T&&T[Gr]}let wi=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275cmp=_.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(R,x){1&R&&_._UZ(0,"router-outlet")},dependencies:[_t],encapsulation:2})}return T})();function is(T){const S=T.children&&T.children.map(is),v=S?{...T,children:S}:{...T};return!v.component&&!v.loadComponent&&(S||v.loadChildren)&&v.outlet&&v.outlet!==Ct&&(v.component=wi),v}function Zt(T){return T.outlet||Ct}function Es(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let S=T.parent;S;S=S.parent){const v=S.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class ss{constructor(S,v,R,x,z){this.routeReuseStrategy=S,this.futureState=v,this.currState=R,this.forwardEvent=x,this.inputBindingEnabled=z}activate(S){const v=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,R,S),Js(this.futureState.root),this.activateChildRoutes(v,R,S)}deactivateChildRoutes(S,v,R){const x=rs(v);S.children.forEach(z=>{const re=z.value.outlet;this.deactivateRoutes(z,x[re],R),delete x[re]}),Object.values(x).forEach(z=>{this.deactivateRouteAndItsChildren(z,R)})}deactivateRoutes(S,v,R){const x=S.value,z=v?v.value:null;if(x===z)if(x.component){const re=R.getContext(x.outlet);re&&this.deactivateChildRoutes(S,v,re.children)}else this.deactivateChildRoutes(S,v,R);else z&&this.deactivateRouteAndItsChildren(v,R)}deactivateRouteAndItsChildren(S,v){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,v):this.deactivateRouteAndOutlet(S,v)}detachAndStoreRouteSubtree(S,v){const R=v.getContext(S.value.outlet),x=R&&S.value.component?R.children:v,z=rs(S);for(const re of Object.keys(z))this.deactivateRouteAndItsChildren(z[re],x);if(R&&R.outlet){const re=R.outlet.detach(),Le=R.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:re,route:S,contexts:Le})}}deactivateRouteAndOutlet(S,v){const R=v.getContext(S.value.outlet),x=R&&S.value.component?R.children:v,z=rs(S);for(const re of Object.keys(z))this.deactivateRouteAndItsChildren(z[re],x);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(S,v,R){const x=rs(v);S.children.forEach(z=>{this.activateRoutes(z,x[z.value.outlet],R),this.forwardEvent(new Oo(z.value.snapshot))}),S.children.length&&this.forwardEvent(new Jo(S.value.snapshot))}activateRoutes(S,v,R){const x=S.value,z=v?v.value:null;if(Js(x),x===z)if(x.component){const re=R.getOrCreateContext(x.outlet);this.activateChildRoutes(S,v,re.children)}else this.activateChildRoutes(S,v,R);else if(x.component){const re=R.getOrCreateContext(x.outlet);if(this.routeReuseStrategy.shouldAttach(x.snapshot)){const Le=this.routeReuseStrategy.retrieve(x.snapshot);this.routeReuseStrategy.store(x.snapshot,null),re.children.onOutletReAttached(Le.contexts),re.attachRef=Le.componentRef,re.route=Le.route.value,re.outlet&&re.outlet.attach(Le.componentRef,Le.route.value),Js(Le.route.value),this.activateChildRoutes(S,null,re.children)}else{const Le=Es(x.snapshot);re.attachRef=null,re.route=x,re.injector=Le,re.outlet&&re.outlet.activateWith(x,re.injector),this.activateChildRoutes(S,null,re.children)}}else this.activateChildRoutes(S,null,R)}}class Io{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Ln{constructor(S,v){this.component=S,this.route=v}}function Fr(T,S,v){const R=T._root;return di(R,S?S._root:null,v,[R.value])}function Rr(T,S){const v=Symbol(),R=S.get(T,v);return R===v?"function"!=typeof T||(0,_.Z0I)(T)?S.get(T):T:R}function di(T,S,v,R,x={canDeactivateChecks:[],canActivateChecks:[]}){const z=rs(S);return T.children.forEach(re=>{(function co(T,S,v,R,x={canDeactivateChecks:[],canActivateChecks:[]}){const z=T.value,re=S?S.value:null,Le=v?v.getContext(T.value.outlet):null;if(re&&z.routeConfig===re.routeConfig){const Ae=function $i(T,S,v){if("function"==typeof v)return v(T,S);switch(v){case"pathParamsChange":return!Ti(T.url,S.url);case"pathParamsOrQueryParamsChange":return!Ti(T.url,S.url)||!Gt(T.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rn(T,S)||!Gt(T.queryParams,S.queryParams);default:return!Rn(T,S)}}(re,z,z.routeConfig.runGuardsAndResolvers);Ae?x.canActivateChecks.push(new Io(R)):(z.data=re.data,z._resolvedData=re._resolvedData),di(T,S,z.component?Le?Le.children:null:v,R,x),Ae&&Le&&Le.outlet&&Le.outlet.isActivated&&x.canDeactivateChecks.push(new Ln(Le.outlet.component,re))}else re&&qi(S,Le,x),x.canActivateChecks.push(new Io(R)),di(T,null,z.component?Le?Le.children:null:v,R,x)})(re,z[re.value.outlet],v,R.concat([re.value]),x),delete z[re.value.outlet]}),Object.entries(z).forEach(([re,Le])=>qi(Le,v.getContext(re),x)),x}function qi(T,S,v){const R=rs(T),x=T.value;Object.entries(R).forEach(([z,re])=>{qi(re,x.component?S?S.children.getContext(z):null:S,v)}),v.canDeactivateChecks.push(new Ln(x.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,x))}function ni(T){return"function"==typeof T}function ue(T){return T instanceof Ie.K||"EmptyError"===T?.name}const pt=Symbol("INITIAL_VALUE");function Kt(){return(0,jt.w)(T=>(0,Oe.a)(T.map(S=>S.pipe(Qt(1),function ht(...T){const S=(0,he.yG)(T);return(0,et.e)((v,R)=>{(S?le(T,v,S):le(T,v)).subscribe(R)})}(pt)))).pipe((0,me.U)(S=>{for(const v of S)if(!0!==v){if(v===pt)return pt;if(!1===v||v instanceof In)return v}return!0}),(0,Zn.h)(S=>S!==pt),Qt(1)))}function no(T){return(0,st.z)((0,Ne.b)(S=>{if(De(S))throw ji(0,S)}),(0,me.U)(S=>!0===S))}class Fo{constructor(S){this.segmentGroup=S||null}}class Ci{constructor(S){this.urlTree=S}}function hi(T){return it(new Fo(T))}function Vo(T){return it(new Ci(T))}class Lo{constructor(S,v){this.urlSerializer=S,this.urlTree=v}noMatchError(S){return new _.vHH(4002,!1)}lineralizeSegments(S,v){let R=[],x=v.root;for(;;){if(R=R.concat(x.segments),0===x.numberOfChildren)return(0,ie.of)(R);if(x.numberOfChildren>1||!x.children[Ct])return it(new _.vHH(4e3,!1));x=x.children[Ct]}}applyRedirectCommands(S,v,R){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),S,R)}applyRedirectCreateUrlTree(S,v,R,x){const z=this.createSegmentGroup(S,v.root,R,x);return new In(z,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(S,v){const R={};return Object.entries(S).forEach(([x,z])=>{if("string"==typeof z&&z.startsWith(":")){const Le=z.substring(1);R[x]=v[Le]}else R[x]=z}),R}createSegmentGroup(S,v,R,x){const z=this.createSegments(S,v.segments,R,x);let re={};return Object.entries(v.children).forEach(([Le,Ae])=>{re[Le]=this.createSegmentGroup(S,Ae,R,x)}),new Cn(z,re)}createSegments(S,v,R,x){return v.map(z=>z.path.startsWith(":")?this.findPosParam(S,z,x):this.findOrReturn(z,R))}findPosParam(S,v,R){const x=R[v.path.substring(1)];if(!x)throw new _.vHH(4001,!1);return x}findOrReturn(S,v){let R=0;for(const x of v){if(x.path===S.path)return v.splice(R),x;R++}return S}}const ur={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iu(T,S,v,R,x){const z=fo(T,S,v);return z.matched?(R=function Vn(T,S){return T.providers&&!T._injector&&(T._injector=(0,_.MMx)(T.providers,S,`Route: ${T.path}`)),T._injector??S}(S,R),function ho(T,S,v,R){const x=S.canMatch;if(!x||0===x.length)return(0,ie.of)(!0);const z=x.map(re=>{const Le=Rr(re,T);return Gn(function L(T){return T&&ni(T.canMatch)}(Le)?Le.canMatch(S,v):T.runInContext(()=>Le(S,v)))});return(0,ie.of)(z).pipe(Kt(),no())}(R,S,v).pipe((0,me.U)(re=>!0===re?z:{...ur}))):(0,ie.of)(z)}function fo(T,S,v){if(""===S.path)return"full"===S.pathMatch&&(T.hasChildren()||v.length>0)?{...ur}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const x=(S.matcher||Ii)(v,T,S);if(!x)return{...ur};const z={};Object.entries(x.posParams??{}).forEach(([Le,Ae])=>{z[Le]=Ae.path});const re=x.consumed.length>0?{...z,...x.consumed[x.consumed.length-1].parameters}:z;return{matched:!0,consumedSegments:x.consumed,remainingSegments:v.slice(x.consumed.length),parameters:re,positionalParamSegments:x.posParams??{}}}function Vs(T,S,v,R){return v.length>0&&function To(T,S,v){return v.some(R=>ro(T,S,R)&&Zt(R)!==Ct)}(T,v,R)?{segmentGroup:new Cn(S,us(R,new Cn(v,T.children))),slicedSegments:[]}:0===v.length&&function Kn(T,S,v){return v.some(R=>ro(T,S,R))}(T,v,R)?{segmentGroup:new Cn(T.segments,ta(T,0,v,R,T.children)),slicedSegments:v}:{segmentGroup:new Cn(T.segments,T.children),slicedSegments:v}}function ta(T,S,v,R,x){const z={};for(const re of R)if(ro(T,v,re)&&!x[Zt(re)]){const Le=new Cn([],{});z[Zt(re)]=Le}return{...x,...z}}function us(T,S){const v={};v[Ct]=S;for(const R of T)if(""===R.path&&Zt(R)!==Ct){const x=new Cn([],{});v[Zt(R)]=x}return v}function ro(T,S,v){return(!(T.hasChildren()||S.length>0)||"full"!==v.pathMatch)&&""===v.path}class ra{constructor(S,v,R,x,z,re,Le){this.injector=S,this.configLoader=v,this.rootComponentType=R,this.config=x,this.urlTree=z,this.paramsInheritanceStrategy=re,this.urlSerializer=Le,this.allowRedirects=!0,this.applyRedirects=new Lo(this.urlSerializer,this.urlTree)}noMatchError(S){return new _.vHH(4002,!1)}recognize(){const S=Vs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,Ct).pipe(Ce(v=>{if(v instanceof Ci)return this.allowRedirects=!1,this.urlTree=v.urlTree,this.match(v.urlTree);throw v instanceof Fo?this.noMatchError(v):v}),(0,me.U)(v=>{const R=new Bi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ct,this.rootComponentType,null,{}),x=new yi(R,v),z=new Wi("",x),re=function $e(T,S,v=null,R=null){return on(Et(T),S,v,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return re.queryParams=this.urlTree.queryParams,z.url=this.urlSerializer.serialize(re),this.inheritParamsAndData(z._root),{state:z,tree:re}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,Ct).pipe(Ce(R=>{throw R instanceof Fo?this.noMatchError(R):R}))}inheritParamsAndData(S){const v=S.value,R=zi(v,this.paramsInheritanceStrategy);v.params=Object.freeze(R.params),v.data=Object.freeze(R.data),S.children.forEach(x=>this.inheritParamsAndData(x))}processSegmentGroup(S,v,R,x){return 0===R.segments.length&&R.hasChildren()?this.processChildren(S,v,R):this.processSegment(S,v,R,R.segments,x,!0)}processChildren(S,v,R){const x=[];for(const z of Object.keys(R.children))"primary"===z?x.unshift(z):x.push(z);return(0,ge.D)(x).pipe(we(z=>{const re=R.children[z],Le=function Xo(T,S){const v=T.filter(R=>Zt(R)===S);return v.push(...T.filter(R=>Zt(R)!==S)),v}(v,z);return this.processSegmentGroup(S,Le,re,z)}),function Je(T,S){return(0,et.e)(function ze(T,S,v,R,x){return(z,re)=>{let Le=v,Ae=S,It=0;z.subscribe((0,ce.x)(re,_n=>{const xn=It++;Ae=Le?T(Ae,_n,xn):(Le=!0,_n),R&&re.next(Ae)},x&&(()=>{Le&&re.next(Ae),re.complete()})))}}(T,S,arguments.length>=2,!0))}((z,re)=>(z.push(...re),z)),Xt(null),function vn(T,S){const v=arguments.length>=2;return R=>R.pipe(T?(0,Zn.h)((x,z)=>T(x,z,R)):Mt.y,Bt(1),v?Xt(S):Rt(()=>new Ie.K))}(),(0,ot.z)(z=>{if(null===z)return hi(R);const re=ia(z);return function Gs(T){T.sort((S,v)=>S.value.outlet===Ct?-1:v.value.outlet===Ct?1:S.value.outlet.localeCompare(v.value.outlet))}(re),(0,ie.of)(re)}))}processSegment(S,v,R,x,z,re){return(0,ge.D)(v).pipe(we(Le=>this.processSegmentAgainstRoute(Le._injector??S,v,Le,R,x,z,re).pipe(Ce(Ae=>{if(Ae instanceof Fo)return(0,ie.of)(null);throw Ae}))),ye(Le=>!!Le),Ce(Le=>{if(ue(Le))return function Hs(T,S,v){return 0===S.length&&!T.children[v]}(R,x,z)?(0,ie.of)([]):hi(R);throw Le}))}processSegmentAgainstRoute(S,v,R,x,z,re,Le){return function ka(T,S,v,R){return!!(Zt(T)===R||R!==Ct&&ro(S,v,T))&&("**"===T.path||fo(S,T,v).matched)}(R,x,z,re)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(S,x,R,z,re,Le):Le&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,x,v,R,z,re):hi(x):hi(x)}expandSegmentAgainstRouteUsingRedirect(S,v,R,x,z,re){return"**"===x.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,R,x,re):this.expandRegularSegmentAgainstRouteUsingRedirect(S,v,R,x,z,re)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,v,R,x){const z=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?Vo(z):this.applyRedirects.lineralizeSegments(R,z).pipe((0,ot.z)(re=>{const Le=new Cn(re,{});return this.processSegment(S,v,Le,re,x,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,v,R,x,z,re){const{matched:Le,consumedSegments:Ae,remainingSegments:It,positionalParamSegments:_n}=fo(v,x,z);if(!Le)return hi(v);const xn=this.applyRedirects.applyRedirectCommands(Ae,x.redirectTo,_n);return x.redirectTo.startsWith("/")?Vo(xn):this.applyRedirects.lineralizeSegments(x,xn).pipe((0,ot.z)(jn=>this.processSegment(S,R,v,jn.concat(It),re,!1)))}matchSegmentAgainstRoute(S,v,R,x,z,re){let Le;if("**"===R.path){const Ae=x.length>0?Pr(x).parameters:{},It=new Bi(x,Ae,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zs(R),Zt(R),R.component??R._loadedComponent??null,R,Ei(R));Le=(0,ie.of)({snapshot:It,consumedSegments:[],remainingSegments:[]}),v.children={}}else Le=iu(v,R,x,S).pipe((0,me.U)(({matched:Ae,consumedSegments:It,remainingSegments:_n,parameters:xn})=>Ae?{snapshot:new Bi(It,xn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zs(R),Zt(R),R.component??R._loadedComponent??null,R,Ei(R)),consumedSegments:It,remainingSegments:_n}:null));return Le.pipe((0,jt.w)(Ae=>null===Ae?hi(v):this.getChildConfig(S=R._injector??S,R,x).pipe((0,jt.w)(({routes:It})=>{const _n=R._loadedInjector??S,{snapshot:xn,consumedSegments:jn,remainingSegments:qs}=Ae,{segmentGroup:oa,slicedSegments:Va}=Vs(v,jn,qs,It);if(0===Va.length&&oa.hasChildren())return this.processChildren(_n,It,oa).pipe((0,me.U)(Ia=>null===Ia?null:[new yi(xn,Ia)]));if(0===It.length&&0===Va.length)return(0,ie.of)([new yi(xn,[])]);const Nu=Zt(R)===z;return this.processSegment(_n,It,oa,Va,Nu?Ct:z,!0).pipe((0,me.U)(Ia=>[new yi(xn,Ia)]))}))))}getChildConfig(S,v,R){return v.children?(0,ie.of)({routes:v.children,injector:S}):v.loadChildren?void 0!==v._loadedRoutes?(0,ie.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function ea(T,S,v,R){const x=S.canLoad;if(void 0===x||0===x.length)return(0,ie.of)(!0);const z=x.map(re=>{const Le=Rr(re,T);return Gn(function Pn(T){return T&&ni(T.canLoad)}(Le)?Le.canLoad(S,v):T.runInContext(()=>Le(S,v)))});return(0,ie.of)(z).pipe(Kt(),no())}(S,v,R).pipe((0,ot.z)(x=>x?this.configLoader.loadChildren(S,v).pipe((0,Ne.b)(z=>{v._loadedRoutes=z.routes,v._loadedInjector=z.injector})):function ii(T){return it(Jt(!1,3))}())):(0,ie.of)({routes:[],injector:S})}}function Is(T){const S=T.value.routeConfig;return S&&""===S.path}function ia(T){const S=[],v=new Set;for(const R of T){if(!Is(R)){S.push(R);continue}const x=S.find(z=>R.value.routeConfig===z.value.routeConfig);void 0!==x?(x.children.push(...R.children),v.add(x)):S.push(R)}for(const R of v){const x=ia(R.children);S.push(new yi(R.value,x))}return S.filter(R=>!v.has(R))}function zs(T){return T.data||{}}function Ei(T){return T.resolve||{}}function E(T){return"string"==typeof T.title||null===T.title}function O(T){return(0,jt.w)(S=>{const v=T(S);return v?(0,ge.D)(v).pipe((0,me.U)(()=>S)):(0,ie.of)(S)})}const U=new _.OlP("ROUTES");let ee=(()=>{class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,_.f3M)(_.Sil)}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,ie.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const R=Gn(v.loadComponent()).pipe((0,me.U)(xe),(0,Ne.b)(z=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=z}),Ut(()=>{this.componentLoaders.delete(v)})),x=new He(R,()=>new Me.x).pipe(Ue());return this.componentLoaders.set(v,x),x}loadChildren(v,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,ie.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const z=function oe(T,S,v,R){return Gn(T.loadChildren()).pipe((0,me.U)(xe),(0,ot.z)(x=>x instanceof _.YKP||Array.isArray(x)?(0,ie.of)(x):(0,ge.D)(S.compileModuleAsync(x))),(0,me.U)(x=>{R&&R(T);let z,re,Le=!1;return Array.isArray(x)?(re=x,!0):(z=x.create(v).injector,re=z.get(U,[],{optional:!0,self:!0}).flat()),{routes:re.map(is),injector:z}}))}(R,this.compiler,v,this.onLoadEndListener).pipe(Ut(()=>{this.childrenLoaders.delete(R)})),re=new He(z,()=>new Me.x).pipe(Ue());return this.childrenLoaders.set(R,re),re}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=_.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function xe(T){return function ve(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let Ke=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Me.x,this.transitionAbortSubject=new Me.x,this.configLoader=(0,_.f3M)(ee),this.environmentInjector=(0,_.f3M)(_.lqb),this.urlSerializer=(0,_.f3M)(Ir),this.rootContexts=(0,_.f3M)(Ys),this.inputBindingEnabled=null!==(0,_.f3M)($n,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ie.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=x=>this.events.next(new Mo(x)),this.configLoader.onLoadStartListener=x=>this.events.next(new ci(x))}complete(){this.transitions?.complete()}handleNavigationRequest(v){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...v,id:R})}setupNavigations(v,R,x){return this.transitions=new Pe.X({id:0,currentUrlTree:R,currentRawUrl:R,currentBrowserUrl:R,extractedUrl:v.urlHandlingStrategy.extract(R),urlAfterRedirects:v.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_i,restoredState:null,currentSnapshot:x.snapshot,targetSnapshot:null,currentRouterState:x,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Zn.h)(z=>0!==z.id),(0,me.U)(z=>({...z,extractedUrl:v.urlHandlingStrategy.extract(z.rawUrl)})),(0,jt.w)(z=>{this.currentTransition=z;let re=!1,Le=!1;return(0,ie.of)(z).pipe((0,Ne.b)(Ae=>{this.currentNavigation={id:Ae.id,initialUrl:Ae.rawUrl,extractedUrl:Ae.extractedUrl,trigger:Ae.source,extras:Ae.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,jt.w)(Ae=>{const It=Ae.currentBrowserUrl.toString(),_n=!v.navigated||Ae.extractedUrl.toString()!==It||It!==Ae.currentUrlTree.toString();if(!_n&&"reload"!==(Ae.extras.onSameUrlNavigation??v.onSameUrlNavigation)){const jn="";return this.events.next(new Jr(Ae.id,this.urlSerializer.serialize(Ae.rawUrl),jn,0)),Ae.resolve(null),We.E}if(v.urlHandlingStrategy.shouldProcessUrl(Ae.rawUrl))return(0,ie.of)(Ae).pipe((0,jt.w)(jn=>{const qs=this.transitions?.getValue();return this.events.next(new Pi(jn.id,this.urlSerializer.serialize(jn.extractedUrl),jn.source,jn.restoredState)),qs!==this.transitions?.getValue()?We.E:Promise.resolve(jn)}),function Uo(T,S,v,R,x,z){return(0,ot.z)(re=>function na(T,S,v,R,x,z,re="emptyOnly"){return new ra(T,S,v,R,x,re,z).recognize()}(T,S,v,R,re.extractedUrl,x,z).pipe((0,me.U)(({state:Le,tree:Ae})=>({...re,targetSnapshot:Le,urlAfterRedirects:Ae}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,v.config,this.urlSerializer,v.paramsInheritanceStrategy),(0,Ne.b)(jn=>{z.targetSnapshot=jn.targetSnapshot,z.urlAfterRedirects=jn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:jn.urlAfterRedirects};const qs=new ao(jn.id,this.urlSerializer.serialize(jn.extractedUrl),this.urlSerializer.serialize(jn.urlAfterRedirects),jn.targetSnapshot);this.events.next(qs)}));if(_n&&v.urlHandlingStrategy.shouldProcessUrl(Ae.currentRawUrl)){const{id:jn,extractedUrl:qs,source:oa,restoredState:Va,extras:Nu}=Ae,Ia=new Pi(jn,this.urlSerializer.serialize(qs),oa,Va);this.events.next(Ia);const ol=an(0,this.rootComponentType).snapshot;return this.currentTransition=z={...Ae,targetSnapshot:ol,urlAfterRedirects:qs,extras:{...Nu,skipLocationChange:!1,replaceUrl:!1}},(0,ie.of)(z)}{const jn="";return this.events.next(new Jr(Ae.id,this.urlSerializer.serialize(Ae.extractedUrl),jn,1)),Ae.resolve(null),We.E}}),(0,Ne.b)(Ae=>{const It=new ps(Ae.id,this.urlSerializer.serialize(Ae.extractedUrl),this.urlSerializer.serialize(Ae.urlAfterRedirects),Ae.targetSnapshot);this.events.next(It)}),(0,me.U)(Ae=>(this.currentTransition=z={...Ae,guards:Fr(Ae.targetSnapshot,Ae.currentSnapshot,this.rootContexts)},z)),function ri(T,S){return(0,ot.z)(v=>{const{targetSnapshot:R,currentSnapshot:x,guards:{canActivateChecks:z,canDeactivateChecks:re}}=v;return 0===re.length&&0===z.length?(0,ie.of)({...v,guardsResult:!0}):function eo(T,S,v,R){return(0,ge.D)(T).pipe((0,ot.z)(x=>function va(T,S,v,R,x){const z=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,ie.of)(!0);const re=z.map(Le=>{const Ae=Es(S)??x,It=Rr(Le,Ae);return Gn(function V(T){return T&&ni(T.canDeactivate)}(It)?It.canDeactivate(T,S,v,R):Ae.runInContext(()=>It(T,S,v,R))).pipe(ye())});return(0,ie.of)(re).pipe(Kt())}(x.component,x.route,v,S,R)),ye(x=>!0!==x,!0))}(re,R,x,T).pipe((0,ot.z)(Le=>Le&&function Ki(T){return"boolean"==typeof T}(Le)?function os(T,S,v,R){return(0,ge.D)(S).pipe(we(x=>le(function as(T,S){return null!==T&&S&&S(new Zo(T)),(0,ie.of)(!0)}(x.route.parent,R),function zr(T,S){return null!==T&&S&&S(new No(T)),(0,ie.of)(!0)}(x.route,R),function to(T,S,v){const R=S[S.length-1],z=S.slice(0,S.length-1).reverse().map(re=>function Mi(T){const S=T.routeConfig?T.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:T,guards:S}:null}(re)).filter(re=>null!==re).map(re=>Re(()=>{const Le=re.guards.map(Ae=>{const It=Es(re.node)??v,_n=Rr(Ae,It);return Gn(function xo(T){return T&&ni(T.canActivateChild)}(_n)?_n.canActivateChild(R,T):It.runInContext(()=>_n(R,T))).pipe(ye())});return(0,ie.of)(Le).pipe(Kt())}));return(0,ie.of)(z).pipe(Kt())}(T,x.path,v),function ko(T,S,v){const R=S.routeConfig?S.routeConfig.canActivate:null;if(!R||0===R.length)return(0,ie.of)(!0);const x=R.map(z=>Re(()=>{const re=Es(S)??v,Le=Rr(z,re);return Gn(function Xs(T){return T&&ni(T.canActivate)}(Le)?Le.canActivate(S,T):re.runInContext(()=>Le(S,T))).pipe(ye())}));return(0,ie.of)(x).pipe(Kt())}(T,x.route,v))),ye(x=>!0!==x,!0))}(R,z,T,S):(0,ie.of)(Le)),(0,me.U)(Le=>({...v,guardsResult:Le})))})}(this.environmentInjector,Ae=>this.events.next(Ae)),(0,Ne.b)(Ae=>{if(z.guardsResult=Ae.guardsResult,De(Ae.guardsResult))throw ji(0,Ae.guardsResult);const It=new Ro(Ae.id,this.urlSerializer.serialize(Ae.extractedUrl),this.urlSerializer.serialize(Ae.urlAfterRedirects),Ae.targetSnapshot,!!Ae.guardsResult);this.events.next(It)}),(0,Zn.h)(Ae=>!!Ae.guardsResult||(this.cancelNavigationTransition(Ae,"",3),!1)),O(Ae=>{if(Ae.guards.canActivateChecks.length)return(0,ie.of)(Ae).pipe((0,Ne.b)(It=>{const _n=new gs(It.id,this.urlSerializer.serialize(It.extractedUrl),this.urlSerializer.serialize(It.urlAfterRedirects),It.targetSnapshot);this.events.next(_n)}),(0,jt.w)(It=>{let _n=!1;return(0,ie.of)(It).pipe(function Bo(T,S){return(0,ot.z)(v=>{const{targetSnapshot:R,guards:{canActivateChecks:x}}=v;if(!x.length)return(0,ie.of)(v);let z=0;return(0,ge.D)(x).pipe(we(re=>function A(T,S,v,R){const x=T.routeConfig,z=T._resolve;return void 0!==x?.title&&!E(x)&&(z[Dn]=x.title),function I(T,S,v,R){const x=function d(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===x.length)return(0,ie.of)({});const z={};return(0,ge.D)(x).pipe((0,ot.z)(re=>function p(T,S,v,R){const x=Es(S)??R,z=Rr(T,x);return Gn(z.resolve?z.resolve(S,v):x.runInContext(()=>z(S,v)))}(T[re],S,v,R).pipe(ye(),(0,Ne.b)(Le=>{z[re]=Le}))),Bt(1),function kn(T){return(0,me.U)(()=>T)}(z),Ce(re=>ue(re)?We.E:it(re)))}(z,T,S,R).pipe((0,me.U)(re=>(T._resolvedData=re,T.data=zi(T,v).resolve,x&&E(x)&&(T.data[Dn]=x.title),null)))}(re.route,R,T,S)),(0,Ne.b)(()=>z++),Bt(1),(0,ot.z)(re=>z===x.length?(0,ie.of)(v):We.E))})}(v.paramsInheritanceStrategy,this.environmentInjector),(0,Ne.b)({next:()=>_n=!0,complete:()=>{_n||this.cancelNavigationTransition(It,"",2)}}))}),(0,Ne.b)(It=>{const _n=new Hi(It.id,this.urlSerializer.serialize(It.extractedUrl),this.urlSerializer.serialize(It.urlAfterRedirects),It.targetSnapshot);this.events.next(_n)}))}),O(Ae=>{const It=_n=>{const xn=[];_n.routeConfig?.loadComponent&&!_n.routeConfig._loadedComponent&&xn.push(this.configLoader.loadComponent(_n.routeConfig).pipe((0,Ne.b)(jn=>{_n.component=jn}),(0,me.U)(()=>{})));for(const jn of _n.children)xn.push(...It(jn));return xn};return(0,Oe.a)(It(Ae.targetSnapshot.root)).pipe(Xt(),Qt(1))}),O(()=>this.afterPreactivation()),(0,me.U)(Ae=>{const It=function Hr(T,S,v){const R=mr(T,S._root,v?v._root:void 0);return new Ri(R,S)}(v.routeReuseStrategy,Ae.targetSnapshot,Ae.currentRouterState);return this.currentTransition=z={...Ae,targetRouterState:It},z}),(0,Ne.b)(()=>{this.events.next(new vo)}),((T,S,v,R)=>(0,me.U)(x=>(new ss(S,x.targetRouterState,x.currentRouterState,v,R).activate(T),x)))(this.rootContexts,v.routeReuseStrategy,Ae=>this.events.next(Ae),this.inputBindingEnabled),Qt(1),(0,Ne.b)({next:Ae=>{re=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gr(Ae.id,this.urlSerializer.serialize(Ae.extractedUrl),this.urlSerializer.serialize(Ae.urlAfterRedirects))),v.titleStrategy?.updateTitle(Ae.targetRouterState.snapshot),Ae.resolve(!0)},complete:()=>{re=!0}}),function Jn(T){return(0,et.e)((S,v)=>{(0,de.Xf)(T).subscribe((0,ce.x)(v,()=>v.complete(),pn.Z)),!v.closed&&S.subscribe(v)})}(this.transitionAbortSubject.pipe((0,Ne.b)(Ae=>{throw Ae}))),Ut(()=>{re||Le||this.cancelNavigationTransition(z,"",1),this.currentNavigation?.id===z.id&&(this.currentNavigation=null)}),Ce(Ae=>{if(Le=!0,Eo(Ae))this.events.next(new Ui(z.id,this.urlSerializer.serialize(z.extractedUrl),Ae.message,Ae.cancellationCode)),function Bs(T){return Eo(T)&&De(T.url)}(Ae)?this.events.next(new Gi(Ae.url)):z.resolve(!1);else{this.events.next(new Xr(z.id,this.urlSerializer.serialize(z.extractedUrl),Ae,z.targetSnapshot??void 0));try{z.resolve(v.errorHandler(Ae))}catch(It){z.reject(It)}}return We.E}))}))}cancelNavigationTransition(v,R,x){const z=new Ui(v.id,this.urlSerializer.serialize(v.extractedUrl),R,x);this.events.next(z),v.resolve(!1)}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=_.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function ut(T){return T!==_i}let Ft=(()=>{class T{buildTitle(v){let R,x=v.root;for(;void 0!==x;)R=this.getResolvedTitleForRoute(x)??R,x=x.children.find(z=>z.outlet===Ct);return R}getResolvedTitleForRoute(v){return v.data[Dn]}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=_.Yz7({token:T,factory:function(){return(0,_.f3M)(Nt)},providedIn:"root"})}return T})(),Nt=(()=>{class T extends Ft{constructor(v){super(),this.title=v}updateTitle(v){const R=this.buildTitle(v);void 0!==R&&this.title.setTitle(R)}static#e=this.\u0275fac=function(R){return new(R||T)(_.LFG(Fn.Dx))};static#t=this.\u0275prov=_.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),Vt=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=_.Yz7({token:T,factory:function(){return(0,_.f3M)(Un)},providedIn:"root"})}return T})();class wt{shouldDetach(S){return!1}store(S,v){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,v){return S.routeConfig===v.routeConfig}}let Un=(()=>{class T extends wt{static#e=this.\u0275fac=function(){let v;return function(x){return(v||(v=_.n5z(T)))(x||T)}}();static#t=this.\u0275prov=_.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const Tn=new _.OlP("",{providedIn:"root",factory:()=>({})});let Qn=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=_.Yz7({token:T,factory:function(){return(0,_.f3M)(Wr)},providedIn:"root"})}return T})(),Wr=(()=>{class T{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,R){return v}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=_.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();var Ge=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(Ge||{});function pr(T,S){T.events.pipe((0,Zn.h)(v=>v instanceof gr||v instanceof Ui||v instanceof Xr||v instanceof Jr),(0,me.U)(v=>v instanceof gr||v instanceof Jr?Ge.COMPLETE:v instanceof Ui&&(0===v.code||1===v.code)?Ge.REDIRECTING:Ge.FAILED),(0,Zn.h)(v=>v!==Ge.REDIRECTING),Qt(1)).subscribe(()=>{S()})}function Vr(T){throw T}function Ni(T,S,v){return S.parse("/")}const Tt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},At={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fi=(()=>{class T{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,_.f3M)(_.c2e),this.isNgZoneEnabled=!1,this._events=new Me.x,this.options=(0,_.f3M)(Tn,{optional:!0})||{},this.pendingTasks=(0,_.f3M)(_.HDt),this.errorHandler=this.options.errorHandler||Vr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ni,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,_.f3M)(Qn),this.routeReuseStrategy=(0,_.f3M)(Vt),this.titleStrategy=(0,_.f3M)(Ft),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,_.f3M)(U,{optional:!0})?.flat()??[],this.navigationTransitions=(0,_.f3M)(Ke),this.urlSerializer=(0,_.f3M)(Ir),this.location=(0,_.f3M)(nt.Ye),this.componentInputBindingEnabled=!!(0,_.f3M)($n,{optional:!0}),this.eventsSubscription=new St.w0,this.isNgZoneEnabled=(0,_.f3M)(_.R0b)instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new In,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=an(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(v=>{this.lastSuccessfulId=v.id,this.currentPageId=this.browserPageId},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const v=this.navigationTransitions.events.subscribe(R=>{try{const{currentTransition:x}=this.navigationTransitions;if(null===x)return void(Ve(R)&&this._events.next(R));if(R instanceof Pi)ut(x.source)&&(this.browserUrlTree=x.extractedUrl);else if(R instanceof Jr)this.rawUrlTree=x.rawUrl;else if(R instanceof ao){if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(z,x)}this.browserUrlTree=x.urlAfterRedirects}}else if(R instanceof vo)this.currentUrlTree=x.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl),this.routerState=x.targetRouterState,"deferred"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,x),this.browserUrlTree=x.urlAfterRedirects);else if(R instanceof Ui)0!==R.code&&1!==R.code&&(this.navigated=!0),(3===R.code||2===R.code)&&this.restoreHistory(x);else if(R instanceof Gi){const z=this.urlHandlingStrategy.merge(R.url,x.currentRawUrl),re={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ut(x.source)};this.scheduleNavigation(z,_i,null,re,{resolve:x.resolve,reject:x.reject,promise:x.promise})}R instanceof Xr&&this.restoreHistory(x,!0),R instanceof gr&&(this.navigated=!0),Ve(R)&&this._events.next(R)}catch(x){this.navigationTransitions.transitionAbortSubject.next(x)}});this.eventsSubscription.add(v)}resetRootComponentType(v){this.routerState.root.component=v,this.navigationTransitions.rootComponentType=v}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const v=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),_i,v)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const R="popstate"===v.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(v.url,R,v.state)},0)}))}navigateToSyncWithBrowser(v,R,x){const z={replaceUrl:!0},re=x?.navigationId?x:null;if(x){const Ae={...x};delete Ae.navigationId,delete Ae.\u0275routerPageId,0!==Object.keys(Ae).length&&(z.state=Ae)}const Le=this.parseUrl(v);this.scheduleNavigation(Le,R,re,z)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(v){this.config=v.map(is),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(v,R={}){const{relativeTo:x,queryParams:z,fragment:re,queryParamsHandling:Le,preserveFragment:Ae}=R,It=Ae?this.currentUrlTree.fragment:re;let xn,_n=null;switch(Le){case"merge":_n={...this.currentUrlTree.queryParams,...z};break;case"preserve":_n=this.currentUrlTree.queryParams;break;default:_n=z||null}null!==_n&&(_n=this.removeEmptyProps(_n));try{xn=Et(x?x.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof v[0]||!v[0].startsWith("/"))&&(v=[]),xn=this.currentUrlTree.root}return on(xn,v,_n,It??null)}navigateByUrl(v,R={skipLocationChange:!1}){const x=De(v)?v:this.parseUrl(v),z=this.urlHandlingStrategy.merge(x,this.rawUrlTree);return this.scheduleNavigation(z,_i,null,R)}navigate(v,R={skipLocationChange:!1}){return function ct(T){for(let S=0;S<T.length;S++)if(null==T[S])throw new _.vHH(4008,!1)}(v),this.navigateByUrl(this.createUrlTree(v,R),R)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let R;try{R=this.urlSerializer.parse(v)}catch(x){R=this.malformedUriErrorHandler(x,this.urlSerializer,v)}return R}isActive(v,R){let x;if(x=!0===R?{...Tt}:!1===R?{...At}:R,De(v))return en(this.currentUrlTree,v,x);const z=this.parseUrl(v);return en(this.currentUrlTree,z,x)}removeEmptyProps(v){return Object.keys(v).reduce((R,x)=>{const z=v[x];return null!=z&&(R[x]=z),R},{})}scheduleNavigation(v,R,x,z,re){if(this.disposed)return Promise.resolve(!1);let Le,Ae,It;re?(Le=re.resolve,Ae=re.reject,It=re.promise):It=new Promise((xn,jn)=>{Le=xn,Ae=jn});const _n=this.pendingTasks.add();return pr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_n))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:x,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:v,extras:z,resolve:Le,reject:Ae,promise:It,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),It.catch(xn=>Promise.reject(xn))}setBrowserUrl(v,R){const x=this.urlSerializer.serialize(v);if(this.location.isCurrentPathEqualTo(x)||R.extras.replaceUrl){const re={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(x,"",re)}else{const z={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(x,"",z)}}restoreHistory(v,R=!1){if("computed"===this.canceledNavigationResolution){const z=this.currentPageId-this.browserPageId;0!==z?this.location.historyGo(z):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===z&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(v,R){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:R}:{navigationId:v}}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=_.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function Ve(T){return!(T instanceof vo||T instanceof Gi)}let Ze=(()=>{class T{constructor(v,R,x,z,re,Le){this.router=v,this.route=R,this.tabIndexAttribute=x,this.renderer=z,this.el=re,this.locationStrategy=Le,this.href=null,this.commands=null,this.onChanges=new Me.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ae=re.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ae||"area"===Ae,this.isAnchorElement?this.subscription=v.events.subscribe(It=>{It instanceof gr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(v){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",v)}ngOnChanges(v){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(v,R,x,z,re){return!!(null===this.urlTree||this.isAnchorElement&&(0!==v||R||x||z||re||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const v=null===this.href?null:(0,_.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",v)}applyAttributeValue(v,R){const x=this.renderer,z=this.el.nativeElement;null!==R?x.setAttribute(z,v,R):x.removeAttribute(z,v)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(R){return new(R||T)(_.Y36(fi),_.Y36(ar),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(nt.S$))};static#t=this.\u0275dir=_.lG2({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,x){1&R&&_.NdJ("click",function(re){return x.onClick(re.button,re.ctrlKey,re.shiftKey,re.altKey,re.metaKey)}),2&R&&_.uIk("target",x.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",_.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",_.VuI],replaceUrl:["replaceUrl","replaceUrl",_.VuI],routerLink:"routerLink"},standalone:!0,features:[_.Xq5,_.TTD]})}return T})();class xt{}let Hn=(()=>{class T{constructor(v,R,x,z,re){this.router=v,this.injector=x,this.preloadingStrategy=z,this.loader=re}setUpPreloading(){this.subscription=this.router.events.pipe((0,Zn.h)(v=>v instanceof gr),we(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,R){const x=[];for(const z of R){z.providers&&!z._injector&&(z._injector=(0,_.MMx)(z.providers,v,`Route: ${z.path}`));const re=z._injector??v,Le=z._loadedInjector??re;(z.loadChildren&&!z._loadedRoutes&&void 0===z.canLoad||z.loadComponent&&!z._loadedComponent)&&x.push(this.preloadConfig(re,z)),(z.children||z._loadedRoutes)&&x.push(this.processRoutes(Le,z.children??z._loadedRoutes))}return(0,ge.D)(x).pipe((0,ne.J)())}preloadConfig(v,R){return this.preloadingStrategy.preload(R,()=>{let x;x=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(v,R):(0,ie.of)(null);const z=x.pipe((0,ot.z)(re=>null===re?(0,ie.of)(void 0):(R._loadedRoutes=re.routes,R._loadedInjector=re.injector,this.processRoutes(re.injector??v,re.routes))));if(R.loadComponent&&!R._loadedComponent){const re=this.loader.loadComponent(R);return(0,ge.D)([z,re]).pipe((0,ne.J)())}return z})}static#e=this.\u0275fac=function(R){return new(R||T)(_.LFG(fi),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(xt),_.LFG(ee))};static#t=this.\u0275prov=_.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const Sr=new _.OlP("");let Mr=(()=>{class T{constructor(v,R,x,z,re={}){this.urlSerializer=v,this.transitions=R,this.viewportScroller=x,this.zone=z,this.options=re,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},re.scrollPositionRestoration=re.scrollPositionRestoration||"disabled",re.anchorScrolling=re.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Pi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof gr?(this.lastId=v.id,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.urlAfterRedirects).fragment)):v instanceof Jr&&0===v.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Ns&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ns(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(R){_.$Z()};static#t=this.\u0275prov=_.Yz7({token:T,factory:T.\u0275fac})}return T})();function rr(T,S){return{\u0275kind:T,\u0275providers:S}}function Mn(){const T=(0,_.f3M)(_.zs3);return S=>{const v=T.get(_.z2F);if(S!==v.components[0])return;const R=T.get(fi),x=T.get(Lt);1===T.get(po)&&R.initialNavigation(),T.get(vt,null,_.XFs.Optional)?.setUpPreloading(),T.get(Sr,null,_.XFs.Optional)?.init(),R.resetRootComponentType(v.componentTypes[0]),x.closed||(x.next(),x.complete(),x.unsubscribe())}}const Lt=new _.OlP("",{factory:()=>new Me.x}),po=new _.OlP("",{providedIn:"root",factory:()=>1}),vt=new _.OlP("");function $o(T){return rr(0,[{provide:vt,useExisting:Hn},{provide:xt,useExisting:T}])}const Go=new _.OlP("ROUTER_FORROOT_GUARD"),jl=[nt.Ye,{provide:Ir,useClass:xr},fi,Ys,{provide:ar,useFactory:function so(T){return T.routerState.root},deps:[fi]},ee,[]];function $l(){return new _.PXZ("Router",fi)}let Ye=(()=>{class T{constructor(v){}static forRoot(v,R){return{ngModule:T,providers:[jl,[],{provide:U,multi:!0,useValue:v},{provide:Go,useFactory:_r,deps:[[fi,new _.FiY,new _.tp0]]},{provide:Tn,useValue:R||{}},R?.useHash?{provide:nt.S$,useClass:nt.Do}:{provide:nt.S$,useClass:nt.b0},{provide:Sr,useFactory:()=>{const T=(0,_.f3M)(nt.EM),S=(0,_.f3M)(_.R0b),v=(0,_.f3M)(Tn),R=(0,_.f3M)(Ke),x=(0,_.f3M)(Ir);return v.scrollOffset&&T.setOffset(v.scrollOffset),new Mr(x,R,T,S,v)}},R?.preloadingStrategy?$o(R.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:$l},R?.initialNavigation?Ea(R):[],R?.bindToComponentInputs?rr(8,[$r,{provide:$n,useExisting:$r}]).\u0275providers:[],[{provide:Se,useFactory:Mn},{provide:_.tb,multi:!0,useExisting:Se}]]}}static forChild(v){return{ngModule:T,providers:[{provide:U,multi:!0,useValue:v}]}}static#e=this.\u0275fac=function(R){return new(R||T)(_.LFG(Go,8))};static#t=this.\u0275mod=_.oAB({type:T});static#n=this.\u0275inj=_.cJS({})}return T})();function _r(T){return"guarded"}function Ea(T){return["disabled"===T.initialNavigation?rr(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const S=(0,_.f3M)(fi);return()=>{S.setUpLocationChangeListener()}}},{provide:po,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?rr(2,[{provide:po,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:S=>{const v=S.get(nt.V_,Promise.resolve());return()=>v.then(()=>new Promise(R=>{const x=S.get(fi),z=S.get(Lt);pr(x,()=>{R(!0)}),S.get(Ke).afterPreactivation=()=>(R(!0),z.closed?(0,ie.of)(void 0):z),x.initialNavigation()}))}}]).\u0275providers:[]]}const Se=new _.OlP("")},534:(bt,je,$)=>{$.d(je,{Jn:()=>Ti,qX:()=>tr,Xd:()=>Or,Mq:()=>Ir,C6:()=>xr,ZF:()=>gn,KN:()=>Tr});var _=$(5861),J=$(4537),j=$(7879),Te=$(9058);const ge=(ke,De)=>De.some($e=>ke instanceof $e);let ie,Pe;const ne=new WeakMap,se=new WeakMap,he=new WeakMap,le=new WeakMap,de=new WeakMap;let it={get(ke,De,$e){if(ke instanceof IDBTransaction){if("done"===De)return se.get(ke);if("objectStoreNames"===De)return ke.objectStoreNames||he.get(ke);if("store"===De)return $e.objectStoreNames[1]?void 0:$e.objectStore($e.objectStoreNames[0])}return ce(ke[De])},set:(ke,De,$e)=>(ke[De]=$e,!0),has:(ke,De)=>ke instanceof IDBTransaction&&("done"===De||"store"===De)||De in ke};function et(ke){return"function"==typeof ke?function St(ke){return ke!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ke)?function(...De){return ke.apply(Ue(this),De),ce(ne.get(this))}:function(...De){return ce(ke.apply(Ue(this),De))}:function(De,...$e){const Et=ke.call(Ue(this),De,...$e);return he.set(Et,De.sort?De.sort():[De]),ce(Et)}}(ke):(ke instanceof IDBTransaction&&function st(ke){if(se.has(ke))return;const De=new Promise(($e,Et)=>{const on=()=>{ke.removeEventListener("complete",qt),ke.removeEventListener("error",fn),ke.removeEventListener("abort",fn)},qt=()=>{$e(),on()},fn=()=>{Et(ke.error||new DOMException("AbortError","AbortError")),on()};ke.addEventListener("complete",qt),ke.addEventListener("error",fn),ke.addEventListener("abort",fn)});se.set(ke,De)}(ke),ge(ke,function Oe(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ke,it):ke)}function ce(ke){if(ke instanceof IDBRequest)return function Re(ke){const De=new Promise(($e,Et)=>{const on=()=>{ke.removeEventListener("success",qt),ke.removeEventListener("error",fn)},qt=()=>{$e(ce(ke.result)),on()},fn=()=>{Et(ke.error),on()};ke.addEventListener("success",qt),ke.addEventListener("error",fn)});return De.then($e=>{$e instanceof IDBCursor&&ne.set($e,ke)}).catch(()=>{}),de.set(De,ke),De}(ke);if(le.has(ke))return le.get(ke);const De=et(ke);return De!==ke&&(le.set(ke,De),de.set(De,ke)),De}const Ue=ke=>de.get(ke),nt=["get","getKey","getAll","getAllKeys","count"],me=["put","add","delete","clear"],jt=new Map;function Qt(ke,De){if(!(ke instanceof IDBDatabase)||De in ke||"string"!=typeof De)return;if(jt.get(De))return jt.get(De);const $e=De.replace(/FromIndex$/,""),Et=De!==$e,on=me.includes($e);if(!($e in(Et?IDBIndex:IDBObjectStore).prototype)||!on&&!nt.includes($e))return;const qt=function(){var fn=(0,_.Z)(function*(nr,...Nn){const Dr=this.transaction(nr,on?"readwrite":"readonly");let ts=Dr.store;return Et&&(ts=ts.index(Nn.shift())),(yield Promise.all([ts[$e](...Nn),on&&Dr.done]))[0]});return function(Nn){return fn.apply(this,arguments)}}();return jt.set(De,qt),qt}!function We(ke){it=ke(it)}(ke=>({...ke,get:(De,$e,Et)=>Qt(De,$e)||ke.get(De,$e,Et),has:(De,$e)=>!!Qt(De,$e)||ke.has(De,$e)}));class ht{constructor(De){this.container=De}getPlatformInfoString(){return this.container.getProviders().map($e=>{if(function Zn(ke){const De=ke.getComponent();return"VERSION"===De?.type}($e)){const Et=$e.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter($e=>$e).join(" ")}}const ot="@firebase/app",Rt=new j.Yd("@firebase/app"),Yr="[DEFAULT]",ln={[ot]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},en=new Map,Er=new Map;function dr(ke,De){try{ke.container.addComponent(De)}catch($e){Rt.debug(`Component ${De.name} failed to register with FirebaseApp ${ke.name}`,$e)}}function Or(ke){const De=ke.name;if(Er.has(De))return Rt.debug(`There were multiple attempts to register component ${De}.`),!1;Er.set(De,ke);for(const $e of en.values())dr($e,ke);return!0}function tr(ke,De){const $e=ke.container.getProvider("heartbeat").getImmediate({optional:!0});return $e&&$e.triggerHeartbeat(),ke.container.getProvider(De)}const Pt=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fs{constructor(De,$e,Et){this._isDeleted=!1,this._options=Object.assign({},De),this._config=Object.assign({},$e),this._name=$e.name,this._automaticDataCollectionEnabled=$e.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this.checkDestroyed(),this._automaticDataCollectionEnabled=De}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(De){this._isDeleted=De}checkDestroyed(){if(this.isDeleted)throw Pt.create("app-deleted",{appName:this._name})}}const Ti="10.7.1";function gn(ke,De={}){let $e=ke;"object"!=typeof De&&(De={name:De});const Et=Object.assign({name:Yr,automaticDataCollectionEnabled:!1},De),on=Et.name;if("string"!=typeof on||!on)throw Pt.create("bad-app-name",{appName:String(on)});if($e||($e=(0,Te.aH)()),!$e)throw Pt.create("no-options");const qt=en.get(on);if(qt){if((0,Te.vZ)($e,qt.options)&&(0,Te.vZ)(Et,qt.config))return qt;throw Pt.create("duplicate-app",{appName:on})}const fn=new J.H0(on);for(const Nn of Er.values())fn.addComponent(Nn);const nr=new fs($e,Et,fn);return en.set(on,nr),nr}function Ir(ke=Yr){const De=en.get(ke);if(!De&&ke===Yr&&(0,Te.aH)())return gn();if(!De)throw Pt.create("no-app",{appName:ke});return De}function xr(){return Array.from(en.values())}function Tr(ke,De,$e){var Et;let on=null!==(Et=ln[ke])&&void 0!==Et?Et:ke;$e&&(on+=`-${$e}`);const qt=on.match(/\s|\//),fn=De.match(/\s|\//);if(qt||fn){const nr=[`Unable to register library "${on}" with version "${De}":`];return qt&&nr.push(`library name "${on}" contains illegal characters (whitespace or "/")`),qt&&fn&&nr.push("and"),fn&&nr.push(`version name "${De}" contains illegal characters (whitespace or "/")`),void Rt.warn(nr.join(" "))}Or(new J.wA(`${on}-version`,()=>({library:on,version:De}),"VERSION"))}const mi="firebase-heartbeat-database",or=1,ae="firebase-heartbeat-store";let K=null;function Q(){return K||(K=function He(ke,De,{blocked:$e,upgrade:Et,blocking:on,terminated:qt}={}){const fn=indexedDB.open(ke,De),nr=ce(fn);return Et&&fn.addEventListener("upgradeneeded",Nn=>{Et(ce(fn.result),Nn.oldVersion,Nn.newVersion,ce(fn.transaction),Nn)}),$e&&fn.addEventListener("blocked",Nn=>$e(Nn.oldVersion,Nn.newVersion,Nn)),nr.then(Nn=>{qt&&Nn.addEventListener("close",()=>qt()),on&&Nn.addEventListener("versionchange",Dr=>on(Dr.oldVersion,Dr.newVersion,Dr))}).catch(()=>{}),nr}(mi,or,{upgrade:(ke,De)=>{0===De&&ke.createObjectStore(ae)}}).catch(ke=>{throw Pt.create("idb-open",{originalErrorMessage:ke.message})})),K}function Y(){return(Y=(0,_.Z)(function*(ke){try{return yield(yield Q()).transaction(ae).objectStore(ae).get(lt(ke))}catch(De){if(De instanceof Te.ZR)Rt.warn(De.message);else{const $e=Pt.create("idb-get",{originalErrorMessage:De?.message});Rt.warn($e.message)}}})).apply(this,arguments)}function Ee(ke,De){return qe.apply(this,arguments)}function qe(){return(qe=(0,_.Z)(function*(ke,De){try{const Et=(yield Q()).transaction(ae,"readwrite");yield Et.objectStore(ae).put(De,lt(ke)),yield Et.done}catch($e){if($e instanceof Te.ZR)Rt.warn($e.message);else{const Et=Pt.create("idb-set",{originalErrorMessage:$e?.message});Rt.warn(Et.message)}}})).apply(this,arguments)}function lt(ke){return`${ke.name}!${ke.options.appId}`}class An{constructor(De){this.container=De,this._heartbeatsCache=null;const $e=this.container.getProvider("app").getImmediate();this._storage=new kr($e),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var De=this;return(0,_.Z)(function*(){var $e,Et;const qt=De.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),fn=un();if((null!=(null===($e=De._heartbeatsCache)||void 0===$e?void 0:$e.heartbeats)||(De._heartbeatsCache=yield De._heartbeatsCachePromise,null!=(null===(Et=De._heartbeatsCache)||void 0===Et?void 0:Et.heartbeats)))&&De._heartbeatsCache.lastSentHeartbeatDate!==fn&&!De._heartbeatsCache.heartbeats.some(nr=>nr.date===fn))return De._heartbeatsCache.heartbeats.push({date:fn,agent:qt}),De._heartbeatsCache.heartbeats=De._heartbeatsCache.heartbeats.filter(nr=>{const Nn=new Date(nr.date).valueOf();return Date.now()-Nn<=2592e6}),De._storage.overwrite(De._heartbeatsCache)})()}getHeartbeatsHeader(){var De=this;return(0,_.Z)(function*(){var $e;if(null===De._heartbeatsCache&&(yield De._heartbeatsCachePromise),null==(null===($e=De._heartbeatsCache)||void 0===$e?void 0:$e.heartbeats)||0===De._heartbeatsCache.heartbeats.length)return"";const Et=un(),{heartbeatsToSend:on,unsentEntries:qt}=function qn(ke,De=1024){const $e=[];let Et=ke.slice();for(const on of ke){const qt=$e.find(fn=>fn.agent===on.agent);if(qt){if(qt.dates.push(on.date),wr($e)>De){qt.dates.pop();break}}else if($e.push({agent:on.agent,dates:[on.date]}),wr($e)>De){$e.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:$e,unsentEntries:Et}}(De._heartbeatsCache.heartbeats),fn=(0,Te.L)(JSON.stringify({version:2,heartbeats:on}));return De._heartbeatsCache.lastSentHeartbeatDate=Et,qt.length>0?(De._heartbeatsCache.heartbeats=qt,yield De._storage.overwrite(De._heartbeatsCache)):(De._heartbeatsCache.heartbeats=[],De._storage.overwrite(De._heartbeatsCache)),fn})()}}function un(){return(new Date).toISOString().substring(0,10)}class kr{constructor(De){this.app=De,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var De=this;return(0,_.Z)(function*(){if(yield De._canUseIndexedDBPromise){const Et=yield function W(ke){return Y.apply(this,arguments)}(De.app);return Et?.heartbeats?Et:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(De){var $e=this;return(0,_.Z)(function*(){var Et;if(yield $e._canUseIndexedDBPromise){const qt=yield $e.read();return Ee($e.app,{lastSentHeartbeatDate:null!==(Et=De.lastSentHeartbeatDate)&&void 0!==Et?Et:qt.lastSentHeartbeatDate,heartbeats:De.heartbeats})}})()}add(De){var $e=this;return(0,_.Z)(function*(){var Et;if(yield $e._canUseIndexedDBPromise){const qt=yield $e.read();return Ee($e.app,{lastSentHeartbeatDate:null!==(Et=De.lastSentHeartbeatDate)&&void 0!==Et?Et:qt.lastSentHeartbeatDate,heartbeats:[...qt.heartbeats,...De.heartbeats]})}})()}}function wr(ke){return(0,Te.L)(JSON.stringify({version:2,heartbeats:ke})).length}!function es(ke){Or(new J.wA("platform-logger",De=>new ht(De),"PRIVATE")),Or(new J.wA("heartbeat",De=>new An(De),"PRIVATE")),Tr(ot,"0.9.25",ke),Tr(ot,"0.9.25","esm2017"),Tr("fire-js","")}("")},4537:(bt,je,$)=>{$.d(je,{H0:()=>Oe,wA:()=>j});var _=$(5861),J=$(9058);class j{constructor(ne,se,he){this.name=ne,this.instanceFactory=se,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const Te="[DEFAULT]";class ge{constructor(ne,se){this.name=ne,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const se=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(se)){const he=new J.BH;if(this.instancesDeferred.set(se,he),this.isInitialized(se)||this.shouldAutoInitialize())try{const le=this.getOrInitializeService({instanceIdentifier:se});le&&he.resolve(le)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(ne){var se;const he=this.normalizeInstanceIdentifier(ne?.identifier),le=null!==(se=ne?.optional)&&void 0!==se&&se;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if(le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(de){if(le)return null;throw de}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Pe(Ie){return"EAGER"===Ie.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[se,he]of this.instancesDeferred.entries()){const le=this.normalizeInstanceIdentifier(se);try{const de=this.getOrInitializeService({instanceIdentifier:le});he.resolve(de)}catch{}}}}clearInstance(ne=Te){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,_.Z)(function*(){const se=Array.from(ne.instances.values());yield Promise.all([...se.filter(he=>"INTERNAL"in he).map(he=>he.INTERNAL.delete()),...se.filter(he=>"_delete"in he).map(he=>he._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=Te){return this.instances.has(ne)}getOptions(ne=Te){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:se={}}=ne,he=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(he))throw Error(`${this.name}(${he}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const le=this.getOrInitializeService({instanceIdentifier:he,options:se});for(const[de,Re]of this.instancesDeferred.entries())he===this.normalizeInstanceIdentifier(de)&&Re.resolve(le);return le}onInit(ne,se){var he;const le=this.normalizeInstanceIdentifier(se),de=null!==(he=this.onInitCallbacks.get(le))&&void 0!==he?he:new Set;de.add(ne),this.onInitCallbacks.set(le,de);const Re=this.instances.get(le);return Re&&ne(Re,le),()=>{de.delete(ne)}}invokeOnInitCallbacks(ne,se){const he=this.onInitCallbacks.get(se);if(he)for(const le of he)try{le(ne,se)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:se={}}){let he=this.instances.get(ne);if(!he&&this.component&&(he=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=ne,Ie===Te?void 0:Ie),options:se}),this.instances.set(ne,he),this.instancesOptions.set(ne,se),this.invokeOnInitCallbacks(he,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,he)}catch{}var Ie;return he||null}normalizeInstanceIdentifier(ne=Te){return this.component?this.component.multipleInstances?ne:Te:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const se=this.getProvider(ne.name);if(se.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);se.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const se=new ge(ne,this);return this.providers.set(ne,se),se}getProviders(){return Array.from(this.providers.values())}}},7879:(bt,je,$)=>{$.d(je,{Yd:()=>Pe,in:()=>J});const _=[];var J=function(ne){return ne[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",ne}(J||{});const j={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},Te=J.INFO,ge={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},ie=(ne,se,...he)=>{if(se<ne.logLevel)return;const le=(new Date).toISOString(),de=ge[se];if(!de)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[de](`[${le}]  ${ne.name}:`,...he)};class Pe{constructor(se){this.name=se,this._logLevel=Te,this._logHandler=ie,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in J))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?j[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...se),this._logHandler(this,J.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...se),this._logHandler(this,J.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,J.INFO,...se),this._logHandler(this,J.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,J.WARN,...se),this._logHandler(this,J.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...se),this._logHandler(this,J.ERROR,...se)}}},3182:(bt,je,$)=>{$.d(je,{C6:()=>_.C6,KN:()=>_.KN,Mq:()=>_.Mq,ZF:()=>_.ZF});var _=$(534);(0,_.KN)("firebase","10.7.1","app")},9339:(bt,je,$)=>{$.d(je,{hJ:()=>Zt,v0:()=>Sa,rh:()=>xi,w7:()=>fi});var _=$(5861),J=$(9058),j=$(534),Te=$(7879),ge=$(7582),ie=$(4537);const Re=function le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new J.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new Te.Yd("@firebase/auth");function et(D,...f){We.logLevel<=Te.in.ERROR&&We.error(`Auth (${j.Jn}): ${D}`,...f)}function ce(D,...f){throw nt(D,...f)}function Ue(D,...f){return nt(D,...f)}function He(D,f,m){const C=Object.assign(Object.assign({},Re()),{[f]:m});return new J.LL("auth","Firebase",C).create(f,{appName:D.name})}function nt(D,...f){if("string"!=typeof D){const m=f[0],C=[...f.slice(1)];return C[0]&&(C[0].appName=D.name),D._errorFactory.create(m,...C)}return st.create(D,...f)}function me(D,f,...m){if(!D)throw nt(f,...m)}function jt(D){const f="INTERNAL ASSERTION FAILED: "+D;throw et(f),new Error(f)}function Qt(D,f){D||jt(f)}function ht(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function ot(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Ht{constructor(f,m){this.shortDelay=f,this.longDelay=m,Qt(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,J.uI)()||(0,J.b$)()}get(){return function Xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Zn(){return"http:"===ot()||"https:"===ot()}()||(0,J.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mt(D,f){Qt(D.emulator,"Emulator should always be set here");const{url:m}=D.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class ye{static initialize(f,m,C){this.fetchImpl=f,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const we={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ne=new Ht(3e4,6e4);function Ce(D,f){return D.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:D.tenantId}):f}function ze(D,f,m,C){return Je.apply(this,arguments)}function Je(){return(Je=(0,_.Z)(function*(D,f,m,C,B={}){return Bt(D,B,(0,_.Z)(function*(){let Z={},_e={};C&&("GET"===f?_e=C:Z={body:JSON.stringify(C)});const Be=(0,J.xO)(Object.assign({key:D.config.apiKey},_e)).slice(1),tt=yield D._getAdditionalHeaders();return tt["Content-Type"]="application/json",D.languageCode&&(tt["X-Firebase-Locale"]=D.languageCode),ye.fetch()(pn(D,D.config.apiHost,m,Be),Object.assign({method:f,headers:tt,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function Bt(D,f,m){return vn.apply(this,arguments)}function vn(){return(vn=(0,_.Z)(function*(D,f,m){D._canInitEmulator=!1;const C=Object.assign(Object.assign({},we),f);try{const B=new Fn(D),Z=yield Promise.race([m(),B.promise]);B.clearNetworkTimeout();const _e=yield Z.json();if("needConfirmation"in _e)throw Ct(D,"account-exists-with-different-credential",_e);if(Z.ok&&!("errorMessage"in _e))return _e;{const Be=Z.ok?_e.errorMessage:_e.error.message,[tt,Ot]=Be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===tt)throw Ct(D,"credential-already-in-use",_e);if("EMAIL_EXISTS"===tt)throw Ct(D,"email-already-in-use",_e);if("USER_DISABLED"===tt)throw Ct(D,"user-disabled",_e);const at=C[tt]||tt.toLowerCase().replace(/[_\s]+/g,"-");if(Ot)throw He(D,at,Ot);ce(D,at)}}catch(B){if(B instanceof J.ZR)throw B;ce(D,"network-request-failed",{message:String(B)})}})).apply(this,arguments)}function Ut(){return(Ut=(0,_.Z)(function*(D,f,m,C,B={}){const Z=yield ze(D,f,m,C,B);return"mfaPendingCredential"in Z&&ce(D,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function pn(D,f,m,C){const B=`${f}${m}?${C}`;return D.config.emulator?Mt(D.config,B):`${D.config.apiScheme}://${B}`}class Fn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Ue(this.auth,"network-request-failed")),Ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ct(D,f,m){const C={appName:D.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const B=Ue(D,f,C);return B.customData._tokenResponse=m,B}function Gn(){return(Gn=(0,_.Z)(function*(D,f){return ze(D,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Er(){return(Er=(0,_.Z)(function*(D,f){return ze(D,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function dr(D){if(D)try{const f=new Date(Number(D));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function tr(){return(tr=(0,_.Z)(function*(D,f=!1){const m=(0,J.m9)(D),C=yield m.getIdToken(f),B=In(C);me(B&&B.exp&&B.auth_time&&B.iat,m.auth,"internal-error");const Z="object"==typeof B.firebase?B.firebase:void 0,_e=Z?.sign_in_provider;return{claims:B,token:C,authTime:dr(sn(B.auth_time)),issuedAtTime:dr(sn(B.iat)),expirationTime:dr(sn(B.exp)),signInProvider:_e||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function sn(D){return 1e3*Number(D)}function In(D){const[f,m,C]=D.split(".");if(void 0===f||void 0===m||void 0===C)return et("JWT malformed, contained fewer than 3 sections"),null;try{const B=(0,J.tV)(m);return B?JSON.parse(B):(et("Failed to decode base64 JWT payload"),null)}catch(B){return et("Caught error parsing JWT payload as JSON",B?.toString()),null}}function Pt(D,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,_.Z)(function*(D,f,m=!1){if(m)return f;try{return yield f}catch(C){throw C instanceof J.ZR&&function Ti({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(C)&&D.auth.currentUser===D&&(yield D.auth.signOut()),C}})).apply(this,arguments)}class gn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const B=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(f);this.timerId=setTimeout((0,_.Z)(function*(){yield m.iteration()}),C)}iteration(){var f=this;return(0,_.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class Ir{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=dr(this.lastLoginAt),this.creationTime=dr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xr(D){return nn.apply(this,arguments)}function nn(){return nn=(0,_.Z)(function*(D){var f;const m=D.auth,C=yield D.getIdToken(),B=yield Pt(D,function en(D,f){return Er.apply(this,arguments)}(m,{idToken:C}));me(B?.users.length,m,"internal-error");const Z=B.users[0];D._notifyReloadListener(Z);const _e=null!==(f=Z.providerUserInfo)&&void 0!==f&&f.length?function Wn(D){return D.map(f=>{var{providerId:m}=f,C=(0,ge._T)(f,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(Z.providerUserInfo):[],Be=function zn(D,f){return[...D.filter(C=>!f.some(B=>B.providerId===C.providerId)),...f]}(D.providerData,_e),at=!!D.isAnonymous&&!(D.email&&Z.passwordHash||Be?.length),ir={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:Be,metadata:new Ir(Z.createdAt,Z.lastLoginAt),isAnonymous:at};Object.assign(D,ir)}),nn.apply(this,arguments)}function Tr(){return(Tr=(0,_.Z)(function*(D){const f=(0,J.m9)(D);yield xr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function or(){return(or=(0,_.Z)(function*(D,f){const m=yield Bt(D,{},(0,_.Z)(function*(){const C=(0,J.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:B,apiKey:Z}=D.config,_e=pn(D,B,"/v1/token",`key=${Z}`),Be=yield D._getAdditionalHeaders();return Be["Content-Type"]="application/x-www-form-urlencoded",ye.fetch()(_e,{method:"POST",headers:Be,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function K(){return(K=(0,_.Z)(function*(D,f){return ze(D,"POST","/v2/accounts:revokeToken",Ce(D,f))})).apply(this,arguments)}class Q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){me(f.idToken,"internal-error"),me(typeof f.idToken<"u","internal-error"),me(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Cn(D){const f=In(D);return me(f,"internal-error"),me(typeof f.exp<"u","internal-error"),me(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var C=this;return(0,_.Z)(function*(){return me(!C.accessToken||C.refreshToken,f,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(f,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var C=this;return(0,_.Z)(function*(){const{accessToken:B,refreshToken:Z,expiresIn:_e}=yield function mi(D,f){return or.apply(this,arguments)}(f,m);C.updateTokensAndExpiration(B,Z,Number(_e))})()}updateTokensAndExpiration(f,m,C){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(f,m){const{refreshToken:C,accessToken:B,expirationTime:Z}=m,_e=new Q;return C&&(me("string"==typeof C,"internal-error",{appName:f}),_e.refreshToken=C),B&&(me("string"==typeof B,"internal-error",{appName:f}),_e.accessToken=B),Z&&(me("number"==typeof Z,"internal-error",{appName:f}),_e.expirationTime=Z),_e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Q,this.toJSON())}_performRefresh(){return jt("not implemented")}}function W(D,f){me("string"==typeof D||typeof D>"u","internal-error",{appName:f})}class Y{constructor(f){var{uid:m,auth:C,stsTokenManager:B}=f,Z=(0,ge._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new Ir(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,_.Z)(function*(){const C=yield Pt(m,m.stsTokenManager.getToken(m.auth,f));return me(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(f){return function Or(D){return tr.apply(this,arguments)}(this,f)}reload(){return function li(D){return Tr.apply(this,arguments)}(this)}_assign(f){this!==f&&(me(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new Y(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var C=this;return(0,_.Z)(function*(){let B=!1;f.idToken&&f.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(f),B=!0),m&&(yield xr(C)),yield C.auth._persistUserIfCurrent(C),B&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var f=this;return(0,_.Z)(function*(){const m=yield f.getIdToken();return yield Pt(f,function Pr(D,f){return Gn.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var C,B,Z,_e,Be,tt,Ot,at;const ir=null!==(C=m.displayName)&&void 0!==C?C:void 0,bs=null!==(B=m.email)&&void 0!==B?B:void 0,Pa=null!==(Z=m.phoneNumber)&&void 0!==Z?Z:void 0,Jl=null!==(_e=m.photoURL)&&void 0!==_e?_e:void 0,ed=null!==(Be=m.tenantId)&&void 0!==Be?Be:void 0,Uu=null!==(tt=m._redirectEventId)&&void 0!==tt?tt:void 0,Ih=null!==(Ot=m.createdAt)&&void 0!==Ot?Ot:void 0,_l=null!==(at=m.lastLoginAt)&&void 0!==at?at:void 0,{uid:yl,emailVerified:_u,isAnonymous:Ra,providerData:td,stsTokenManager:Ma}=m;me(yl&&Ma,f,"internal-error");const rp=Q.fromJSON(this.name,Ma);me("string"==typeof yl,f,"internal-error"),W(ir,f.name),W(bs,f.name),me("boolean"==typeof _u,f,"internal-error"),me("boolean"==typeof Ra,f,"internal-error"),W(Pa,f.name),W(Jl,f.name),W(ed,f.name),W(Uu,f.name),W(Ih,f.name),W(_l,f.name);const Ga=new Y({uid:yl,auth:f,email:bs,emailVerified:_u,displayName:ir,isAnonymous:Ra,photoURL:Jl,phoneNumber:Pa,tenantId:ed,stsTokenManager:rp,createdAt:Ih,lastLoginAt:_l});return td&&Array.isArray(td)&&(Ga.providerData=td.map(Th=>Object.assign({},Th))),Uu&&(Ga._redirectEventId=Uu),Ga}static _fromIdTokenResponse(f,m,C=!1){return(0,_.Z)(function*(){const B=new Q;B.updateFromServerResponse(m);const Z=new Y({uid:m.localId,auth:f,stsTokenManager:B,isAnonymous:C});return yield xr(Z),Z})()}}const Ee=new Map;function qe(D){Qt(D instanceof Function,"Expected a class definition");let f=Ee.get(D);return f?(Qt(f instanceof D,"Instance stored in cache mismatched with class"),f):(f=new D,Ee.set(D,f),f)}const Yt=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(m,C){var B=this;return(0,_.Z)(function*(){B.storage[m]=C})()}_get(m){var C=this;return(0,_.Z)(function*(){const B=C.storage[m];return void 0===B?null:B})()}_remove(m){var C=this;return(0,_.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return D.type="NONE",D})();function $t(D,f,m){return`firebase:${D}:${f}:${m}`}class An{constructor(f,m,C){this.persistence=f,this.auth=m,this.userKey=C;const{config:B,name:Z}=this.auth;this.fullUserKey=$t(this.userKey,B.apiKey,Z),this.fullPersistenceKey=$t("persistence",B.apiKey,Z),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,_.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Y._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,_.Z)(function*(){if(m.persistence===f)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,C="authUser"){return(0,_.Z)(function*(){if(!m.length)return new An(qe(Yt),f,C);const B=(yield Promise.all(m.map(function(){var Ot=(0,_.Z)(function*(at){if(yield at._isAvailable())return at});return function(at){return Ot.apply(this,arguments)}}()))).filter(Ot=>Ot);let Z=B[0]||qe(Yt);const _e=$t(C,f.config.apiKey,f.name);let Be=null;for(const Ot of m)try{const at=yield Ot._get(_e);if(at){const ir=Y._fromJSON(f,at);Ot!==Z&&(Be=ir),Z=Ot;break}}catch{}const tt=B.filter(Ot=>Ot._shouldAllowMigration);return Z._shouldAllowMigration&&tt.length?(Z=tt[0],Be&&(yield Z._set(_e,Be.toJSON())),yield Promise.all(m.map(function(){var Ot=(0,_.Z)(function*(at){if(at!==Z)try{yield at._remove(_e)}catch{}});return function(at){return Ot.apply(this,arguments)}}())),new An(Z,f,C)):new An(Z,f,C)})()}}function un(D){const f=D.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(es(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(qn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(De(f))return"Blackberry";if($e(f))return"Webos";if(kr(f))return"Safari";if((f.includes("chrome/")||wr(f))&&!f.includes("edge/"))return"Chrome";if(ke(f))return"Android";{const C=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function qn(D=(0,J.z$)()){return/firefox\//i.test(D)}function kr(D=(0,J.z$)()){const f=D.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function wr(D=(0,J.z$)()){return/crios\//i.test(D)}function es(D=(0,J.z$)()){return/iemobile/i.test(D)}function ke(D=(0,J.z$)()){return/android/i.test(D)}function De(D=(0,J.z$)()){return/blackberry/i.test(D)}function $e(D=(0,J.z$)()){return/webos/i.test(D)}function Et(D=(0,J.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function nr(D=(0,J.z$)()){return Et(D)||ke(D)||$e(D)||De(D)||/windows phone/i.test(D)||es(D)}function Dr(D,f=[]){let m;switch(D){case"Browser":m=un((0,J.z$)());break;case"Worker":m=`${un((0,J.z$)())}-${D}`;break;default:m=D}const C=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${j.Jn}/${C}`}class ts{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const C=Z=>new Promise((_e,Be)=>{try{_e(f(Z))}catch(tt){Be(tt)}});C.onAbort=m,this.queue.push(C);const B=this.queue.length-1;return()=>{this.queue[B]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,_.Z)(function*(){if(m.auth.currentUser===f)return;const C=[];try{for(const B of m.queue)yield B(f),B.onAbort&&C.push(B.onAbort)}catch(B){C.reverse();for(const Z of C)try{Z()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:B?.message})}})()}}function Ar(){return(Ar=(0,_.Z)(function*(D,f={}){return ze(D,"GET","/v2/passwordPolicy",Ce(D,f))})).apply(this,arguments)}class ns{constructor(f){var m,C,B,Z;const _e=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=_e.minPasswordLength)&&void 0!==m?m:6,_e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=_e.maxPasswordLength),void 0!==_e.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=_e.containsLowercaseCharacter),void 0!==_e.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=_e.containsUppercaseCharacter),void 0!==_e.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=_e.containsNumericCharacter),void 0!==_e.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=_e.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(B=null===(C=f.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==B?B:"",this.forceUpgradeOnSignin=null!==(Z=f.forceUpgradeOnSignin)&&void 0!==Z&&Z,this.schemaVersion=f.schemaVersion}validatePassword(f){var m,C,B,Z,_e,Be;const tt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,tt),this.validatePasswordCharacterOptions(f,tt),tt.isValid&&(tt.isValid=null===(m=tt.meetsMinPasswordLength)||void 0===m||m),tt.isValid&&(tt.isValid=null===(C=tt.meetsMaxPasswordLength)||void 0===C||C),tt.isValid&&(tt.isValid=null===(B=tt.containsLowercaseLetter)||void 0===B||B),tt.isValid&&(tt.isValid=null===(Z=tt.containsUppercaseLetter)||void 0===Z||Z),tt.isValid&&(tt.isValid=null===(_e=tt.containsNumericCharacter)||void 0===_e||_e),tt.isValid&&(tt.isValid=null===(Be=tt.containsNonAlphanumericCharacter)||void 0===Be||Be),tt}validatePasswordLengthOptions(f,m){const C=this.customStrengthOptions.minPasswordLength,B=this.customStrengthOptions.maxPasswordLength;C&&(m.meetsMinPasswordLength=f.length>=C),B&&(m.meetsMaxPasswordLength=f.length<=B)}validatePasswordCharacterOptions(f,m){let C;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let B=0;B<f.length;B++)C=f.charAt(B),this.updatePasswordCharacterOptionsStatuses(m,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(f,m,C,B,Z){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=B)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=Z))}}class Ms{constructor(f,m,C,B){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=C,this.config=B,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new br(this),this.idTokenSubscription=new br(this),this.beforeStateQueue=new ts(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=B.sdkClientVersion}_initializeWithPersistence(f,m){var C=this;return m&&(this._popupRedirectResolver=qe(m)),this._initializationPromise=this.queue((0,_.Z)(function*(){var B,Z;if(!C._deleted&&(C.persistenceManager=yield An.create(C,f),!C._deleted)){if(null!==(B=C._popupRedirectResolver)&&void 0!==B&&B._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(Z=C.currentUser)||void 0===Z?void 0:Z.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,_.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,_.Z)(function*(){var C;const B=yield m.assertedPersistence.getCurrentUser();let Z=B,_e=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Be=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,tt=Z?._redirectEventId,Ot=yield m.tryRedirectSignIn(f);(!Be||Be===tt)&&Ot?.user&&(Z=Ot.user,_e=!0)}if(!Z)return m.directlySetCurrentUser(null);if(!Z._redirectEventId){if(_e)try{yield m.beforeStateQueue.runMiddleware(Z)}catch(Be){Z=B,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Be))}return Z?m.reloadAndSetCurrentUserOrClear(Z):m.directlySetCurrentUser(null)}return me(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===Z._redirectEventId?m.directlySetCurrentUser(Z):m.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(f){var m=this;return(0,_.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,_.Z)(function*(){try{yield xr(f)}catch(C){if("auth/network-request-failed"!==C?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Rt(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var f=this;return(0,_.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,_.Z)(function*(){const C=f?(0,J.m9)(f):null;return C&&me(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(f,m=!1){var C=this;return(0,_.Z)(function*(){if(!C._deleted)return f&&me(C.tenantId===f.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(f)),C.queue((0,_.Z)(function*(){yield C.directlySetCurrentUser(f),C.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,_.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,_.Z)(function*(){yield m.assertedPersistence.setPersistence(qe(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var m=this;return(0,_.Z)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const C=m._getPasswordPolicyInternal();return C.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,_.Z)(function*(){const m=yield function Cr(D){return Ar.apply(this,arguments)}(f),C=new ns(m);null===f.tenantId?f._projectPasswordPolicy=C:f._tenantPasswordPolicies[f.tenantId]=C})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new J.LL("auth","Firebase",f())}onAuthStateChanged(f,m,C){return this.registerStateListener(this.authStateSubscription,f,m,C)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,C){return this.registerStateListener(this.idTokenSubscription,f,m,C)}authStateReady(){return new Promise((f,m)=>{if(this.currentUser)f();else{const C=this.onAuthStateChanged(()=>{C(),f()},m)}})}revokeAccessToken(f){var m=this;return(0,_.Z)(function*(){if(m.currentUser){const C=yield m.currentUser.getIdToken(),B={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:C};null!=m.tenantId&&(B.tenantId=m.tenantId),yield function ae(D,f){return K.apply(this,arguments)}(m,B)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var C=this;return(0,_.Z)(function*(){const B=yield C.getOrInitRedirectPersistenceManager(m);return null===f?B.removeCurrentUser():B.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,_.Z)(function*(){if(!m.redirectPersistenceManager){const C=f&&qe(f)||m._popupRedirectResolver;me(C,m,"argument-error"),m.redirectPersistenceManager=yield An.create(m,[qe(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,_.Z)(function*(){var C,B;return m._isInitialized&&(yield m.queue((0,_.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===f?m._currentUser:(null===(B=m.redirectUser)||void 0===B?void 0:B._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,_.Z)(function*(){if(f===m.currentUser)return m.queue((0,_.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,C,B){if(this._deleted)return()=>{};const Z="function"==typeof m?m:m.next.bind(m);let _e=!1;const Be=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(Be,this,"internal-error"),Be.then(()=>{_e||Z(this.currentUser)}),"function"==typeof m){const tt=f.addObserver(m,C,B);return()=>{_e=!0,tt()}}{const tt=f.addObserver(m);return()=>{_e=!0,tt()}}}directlySetCurrentUser(f){var m=this;return(0,_.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Dr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,_.Z)(function*(){var m;const C={"X-Client-Version":f.clientVersion};f.app.options.appId&&(C["X-Firebase-gmpid"]=f.app.options.appId);const B=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();B&&(C["X-Firebase-Client"]=B);const Z=yield f._getAppCheckToken();return Z&&(C["X-Firebase-AppCheck"]=Z),C})()}_getAppCheckToken(){var f=this;return(0,_.Z)(function*(){var m;const C=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return C?.error&&function St(D,...f){We.logLevel<=Te.in.WARN&&We.warn(`Auth (${j.Jn}): ${D}`,...f)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function On(D){return(0,J.m9)(D)}class br{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,J.ne)(m=>this.observer=m)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zr(D){return`__${D}${Math.floor(1e6*Math.random())}`}function ci(D){const f=D.indexOf(":");return f<0?"":D.substr(0,f+1)}function Zo(D){if(!D)return null;const f=Number(D);return isNaN(f)?null:f}class No{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return jt("not implemented")}_getIdTokenResponse(f){return jt("not implemented")}_linkToIdToken(f,m){return jt("not implemented")}_getReauthenticationResolver(f){return jt("not implemented")}}function zt(D,f){return $n.apply(this,arguments)}function $n(){return($n=(0,_.Z)(function*(D,f){return function kn(D,f,m,C){return Ut.apply(this,arguments)}(D,"POST","/v1/accounts:signInWithIdp",Ce(D,f))})).apply(this,arguments)}class Hr extends No{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Hr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):ce("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:B}=m,Z=(0,ge._T)(m,["providerId","signInMethod"]);if(!C||!B)return null;const _e=new Hr(C,B);return _e.idToken=Z.idToken||void 0,_e.accessToken=Z.accessToken||void 0,_e.secret=Z.secret,_e.nonce=Z.nonce,_e.pendingToken=Z.pendingToken||null,_e}_getIdTokenResponse(f){return zt(f,this.buildRequest())}_linkToIdToken(f,m){const C=this.buildRequest();return C.idToken=m,zt(f,C)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,zt(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,J.xO)(m)}return f}}class ti{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class vs extends ti{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}let Zt=(()=>{class D extends vs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return Hr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:B}=m;if(!C&&!B)return null;try{return D.credential(C,B)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})();class Mi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,C,B=!1){return(0,_.Z)(function*(){const Z=yield Y._fromIdTokenResponse(f,C,B),_e=Rr(C);return new Mi({user:Z,providerId:_e,_tokenResponse:C,operationType:m})})()}static _forOperation(f,m,C){return(0,_.Z)(function*(){yield f._updateTokensIfNecessary(C,!0);const B=Rr(C);return new Mi({user:f,providerId:B,_tokenResponse:C,operationType:m})})()}}function Rr(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}class $i extends J.ZR{constructor(f,m,C,B){var Z;super(m.code,m.message),this.operationType=C,this.user=B,Object.setPrototypeOf(this,$i.prototype),this.customData={appName:f.name,tenantId:null!==(Z=f.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(f,m,C,B){return new $i(f,m,C,B)}}function qi(D,f,m,C){return("reauthenticate"===f?m._getReauthenticationResolver(D):m._getIdTokenResponse(D)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?$i._fromErrorAndOperation(D,Z,f,C):Z})}function xo(){return(xo=(0,_.Z)(function*(D,f,m=!1){const C=yield Pt(D,f._linkToIdToken(D.auth,yield D.getIdToken()),m);return Mi._forOperation(D,"link",C)})).apply(this,arguments)}function q(){return(q=(0,_.Z)(function*(D,f,m=!1){const{auth:C}=D,B="reauthenticate";try{const Z=yield Pt(D,qi(C,B,f,D),m);me(Z.idToken,C,"internal-error");const _e=In(Z.idToken);me(_e,C,"internal-error");const{sub:Be}=_e;return me(D.uid===Be,C,"user-mismatch"),Mi._forOperation(D,B,Z)}catch(Z){throw"auth/user-not-found"===Z?.code&&ce(C,"user-mismatch"),Z}})).apply(this,arguments)}function pt(){return(pt=(0,_.Z)(function*(D,f,m=!1){const C="signIn",B=yield qi(D,C,f),Z=yield Mi._fromIdTokenResponse(D,C,B);return m||(yield D._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function fi(D){return(0,J.m9)(D).signOut()}const Ts="__sak";class hn{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ts,"1"),this.storage.removeItem(Ts),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const po=(()=>{class D extends hn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pi(){const D=(0,J.z$)();return kr(D)||Et(D)}()&&function Nn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=nr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const B=this.storage.getItem(C),Z=this.localCache[C];B!==Z&&m(C,Z,B)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((Be,tt,Ot)=>{this.notifyListeners(Be,Ot)});const B=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Be=this.storage.getItem(B);if(m.newValue!==Be)null!==m.newValue?this.storage.setItem(B,m.newValue):this.storage.removeItem(B);else if(this.localCache[B]===m.newValue&&!C)return}const Z=()=>{const Be=this.storage.getItem(B);!C&&this.localCache[B]===Be||this.notifyListeners(B,Be)},_e=this.storage.getItem(B);!function fn(){return(0,J.w1)()&&10===document.documentMode}()||_e===m.newValue||m.newValue===m.oldValue?Z():setTimeout(Z,10)}notifyListeners(m,C){this.localCache[m]=C;const B=this.listeners[m];if(B)for(const Z of Array.from(B))Z(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,B)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:B}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var B=()=>super._set,Z=this;return(0,_.Z)(function*(){yield B().call(Z,m,C),Z.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,B=this;return(0,_.Z)(function*(){const Z=yield C().call(B,m);return B.localCache[m]=JSON.stringify(Z),Z})()}_remove(m){var C=()=>super._remove,B=this;return(0,_.Z)(function*(){yield C().call(B,m),delete B.localCache[m]})()}}return D.type="LOCAL",D})(),il=(()=>{class D extends hn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return D.type="SESSION",D})();let vt=(()=>{class D{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(Z=>Z.isListeningto(m));if(C)return C;const B=new D(m);return this.receivers.push(B),B}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,_.Z)(function*(){const B=m,{eventId:Z,eventType:_e,data:Be}=B.data,tt=C.handlersMap[_e];if(!tt?.size)return;B.ports[0].postMessage({status:"ack",eventId:Z,eventType:_e});const Ot=Array.from(tt).map(function(){var ir=(0,_.Z)(function*(bs){return bs(B.origin,Be)});return function(bs){return ir.apply(this,arguments)}}()),at=yield function gi(D){return Promise.all(D.map(function(){var f=(0,_.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return f.apply(this,arguments)}}()))}(Ot);B.ports[0].postMessage({status:"done",eventId:Z,eventType:_e,response:at})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function $o(D="",f=10){let m="";for(let C=0;C<f;C++)m+=Math.floor(10*Math.random());return D+m}class Bl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,C=50){var B=this;return(0,_.Z)(function*(){const Z=typeof MessageChannel<"u"?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let _e,Be;return new Promise((tt,Ot)=>{const at=$o("",20);Z.port1.start();const ir=setTimeout(()=>{Ot(new Error("unsupported_event"))},C);Be={messageChannel:Z,onMessage(bs){const Pa=bs;if(Pa.data.eventId===at)switch(Pa.data.status){case"ack":clearTimeout(ir),_e=setTimeout(()=>{Ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(_e),tt(Pa.data.response);break;default:clearTimeout(ir),clearTimeout(_e),Ot(new Error("invalid_response"))}}},B.handlers.add(Be),Z.port1.addEventListener("message",Be.onMessage),B.target.postMessage({eventType:f,eventId:at,data:m},[Z.port2])}).finally(()=>{Be&&B.removeMessageHandler(Be)})})()}}function Nr(){return window}function Ho(){return typeof Nr().WorkerGlobalScope<"u"&&"function"==typeof Nr().importScripts}function Go(){return(Go=(0,_.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ye="firebaseLocalStorageDb",Fa="firebaseLocalStorage",sl="fbase_key";class _r{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ea(D,f){return D.transaction([Fa],f?"readwrite":"readonly").objectStore(Fa)}function ws(){const D=indexedDB.open(Ye,1);return new Promise((f,m)=>{D.addEventListener("error",()=>{m(D.error)}),D.addEventListener("upgradeneeded",()=>{const C=D.result;try{C.createObjectStore(Fa,{keyPath:sl})}catch(B){m(B)}}),D.addEventListener("success",(0,_.Z)(function*(){const C=D.result;C.objectStoreNames.contains(Fa)?f(C):(C.close(),yield function Se(){const D=indexedDB.deleteDatabase(Ye);return new _r(D).toPromise()}(),f(yield ws()))}))})}function Ws(D,f,m){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,_.Z)(function*(D,f,m){const C=Ea(D,!0).put({[sl]:f,value:m});return new _r(C).toPromise()})).apply(this,arguments)}function sa(){return(sa=(0,_.Z)(function*(D,f){const m=Ea(D,!1).get(f),C=yield new _r(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Hl(D,f){const m=Ea(D,!0).delete(f);return new _r(m).toPromise()}const v=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,_.Z)(function*(){return m.db||(m.db=yield ws()),m.db})()}_withRetries(m){var C=this;return(0,_.Z)(function*(){let B=0;for(;;)try{const Z=yield C._openDb();return yield m(Z)}catch(Z){if(B++>3)throw Z;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,_.Z)(function*(){return Ho()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,_.Z)(function*(){m.receiver=vt._getInstance(function $l(){return Ho()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,_.Z)(function*(B,Z){return{keyProcessed:(yield m._poll()).includes(Z.key)}});return function(B,Z){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,_.Z)(function*(B,Z){return["keyChanged"]});return function(B,Z){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,_.Z)(function*(){var C,B;if(m.activeServiceWorker=yield function dh(){return Go.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Bl(m.activeServiceWorker);const Z=yield m.sender._send("ping",{},800);Z&&null!==(C=Z[0])&&void 0!==C&&C.fulfilled&&null!==(B=Z[0])&&void 0!==B&&B.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,_.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function jl(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ws();return yield Ws(m,Ts,"1"),yield Hl(m,Ts),!0}catch{}return!1})()}_withPendingWrite(m){var C=this;return(0,_.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var B=this;return(0,_.Z)(function*(){return B._withPendingWrite((0,_.Z)(function*(){return yield B._withRetries(Z=>Ws(Z,m,C)),B.localCache[m]=C,B.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,_.Z)(function*(){const B=yield C._withRetries(Z=>function Mu(D,f){return sa.apply(this,arguments)}(Z,m));return C.localCache[m]=B,B})()}_remove(m){var C=this;return(0,_.Z)(function*(){return C._withPendingWrite((0,_.Z)(function*(){return yield C._withRetries(B=>Hl(B,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,_.Z)(function*(){const C=yield m._withRetries(_e=>{const Be=Ea(_e,!1).getAll();return new _r(Be).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const B=[],Z=new Set;if(0!==C.length)for(const{fbase_key:_e,value:Be}of C)Z.add(_e),JSON.stringify(m.localCache[_e])!==JSON.stringify(Be)&&(m.notifyListeners(_e,Be),B.push(_e));for(const _e of Object.keys(m.localCache))m.localCache[_e]&&!Z.has(_e)&&(m.notifyListeners(_e,null),B.push(_e));return B})()}notifyListeners(m,C){this.localCache[m]=C;const B=this.listeners[m];if(B)for(const Z of Array.from(B))Z(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function aa(D,f){return f?qe(f):(me(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}Zr("rcb"),new Ht(3e4,6e4);class La extends No{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return zt(f,this._buildIdpRequest())}_linkToIdToken(f,m){return zt(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return zt(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Oi(D){return function ue(D,f){return pt.apply(this,arguments)}(D.auth,new La(D),D.bypassAuthState)}function zl(D){const{auth:f,user:m}=D;return me(m,f,"internal-error"),function N(D,f){return q.apply(this,arguments)}(m,new La(D),D.bypassAuthState)}function Ta(D){return ul.apply(this,arguments)}function ul(){return(ul=(0,_.Z)(function*(D){const{auth:f,user:m}=D;return me(m,f,"internal-error"),function Xs(D,f){return xo.apply(this,arguments)}(m,new La(D),D.bypassAuthState)})).apply(this,arguments)}class Lr{constructor(f,m,C,B,Z=!1){this.auth=f,this.resolver=C,this.user=B,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,_.Z)(function*(C,B){f.pendingPromise={resolve:C,reject:B};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(Z){f.reject(Z)}});return function(C,B){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,_.Z)(function*(){const{urlResponse:C,sessionId:B,postBody:Z,tenantId:_e,error:Be,type:tt}=f;if(Be)return void m.reject(Be);const Ot={auth:m.auth,requestUri:C,sessionId:B,tenantId:_e||void 0,postBody:Z||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(tt)(Ot))}catch(at){m.reject(at)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Oi;case"linkViaPopup":case"linkViaRedirect":return Ta;case"reauthViaPopup":case"reauthViaRedirect":return zl;default:ce(this.auth,"internal-error")}}resolve(f){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wa=new Ht(2e3,1e4);function xi(D,f,m){return yr.apply(this,arguments)}function yr(){return(yr=(0,_.Z)(function*(D,f,m){const C=On(D);!function Me(D,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&ce(D,"argument-error"),He(D,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(D,f,ti);const B=aa(C,m);return new hh(C,"signInViaPopup",f,B).executeNotNull()})).apply(this,arguments)}let hh=(()=>{class D extends Lr{constructor(m,C,B,Z,_e){super(m,C,Z,_e),this.provider=B,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var m=this;return(0,_.Z)(function*(){const C=yield m.execute();return me(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,_.Z)(function*(){Qt(1===m.filter.length,"Popup operations only handle one event");const C=$o();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(B=>{m.reject(B)}),m.resolver._isIframeWebStorageSupported(m.auth,B=>{B||m.reject(Ue(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,B;this.pollId=null!==(B=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==B&&B.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,wa.get())};m()}}return D.currentPopupAction=null,D})();const cs="pendingRedirect",ql=new Map;class la extends Lr{constructor(f,m,C=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,_.Z)(function*(){let C=ql.get(m.auth._key());if(!C){try{const Z=(yield function qr(D,f){return Wo.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;C=()=>Promise.resolve(Z)}catch(B){C=()=>Promise.reject(B)}ql.set(m.auth._key(),C)}return m.bypassAuthState||ql.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,C=this;return(0,_.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(C,f);if("unknown"!==f.type){if(f.eventId){const B=yield C.auth._redirectUserForId(f.eventId);if(B)return C.user=B,m().call(C,f);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function Wo(){return(Wo=(0,_.Z)(function*(D,f){const m=function da(D){return $t(cs,D.config.apiKey,D.name)}(f),C=function Da(D){return qe(D._redirectPersistence)}(D);if(!(yield C._isAvailable()))return!1;const B="true"===(yield C._get(m));return yield C._remove(m),B})).apply(this,arguments)}function sm(D,f){ql.set(D._key(),f)}function lu(D,f){return dl.apply(this,arguments)}function dl(){return(dl=(0,_.Z)(function*(D,f,m=!1){const C=On(D),B=aa(C,f),_e=yield new la(C,B,m).execute();return _e&&!m&&(delete _e.user._redirectEventId,yield C._persistUserIfCurrent(_e.user),yield C._setRedirectUser(null,f)),_e})).apply(this,arguments)}class fh{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(f,C)&&(m=!0,this.sendToConsumer(f,C),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Fu(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qc(D);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var C;if(f.error&&!Qc(f)){const B=(null===(C=f.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(Ue(this.auth,B))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const C=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&C}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kc(f))}saveEventToCache(f){this.cachedEventUids.add(Kc(f)),this.lastProcessedEventTime=Date.now()}}function Kc(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(f=>f).join("-")}function Qc({type:D,error:f}){return"unknown"===D&&"auth/no-auth-event"===f?.code}function lr(){return(lr=(0,_.Z)(function*(D,f={}){return ze(D,"GET","/v1/projects",f)})).apply(this,arguments)}const gh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kr=/^https?/;function Kl(){return Kl=(0,_.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:f}=yield function ph(D){return lr.apply(this,arguments)}(D);for(const m of f)try{if(Yc(m))return}catch{}ce(D,"unauthorized-domain")}),Kl.apply(this,arguments)}function Yc(D){const f=ht(),{protocol:m,hostname:C}=new URL(f);if(D.startsWith("chrome-extension://")){const _e=new URL(D);return""===_e.hostname&&""===C?"chrome-extension:"===m&&D.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&_e.hostname===C}if(!Kr.test(m))return!1;if(gh.test(D))return C===D;const B=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+B+"|"+B+")$","i").test(C)}const cu=new Ht(3e4,6e4);function du(){const D=Nr().___jsl;if(D?.H)for(const f of Object.keys(D.H))if(D.H[f].r=D.H[f].r||[],D.H[f].L=D.H[f].L||[],D.H[f].r=[...D.H[f].L],D.CP)for(let m=0;m<D.CP.length;m++)D.CP[m]=null}let wn=null;function vr(D){return wn=wn||function hu(D){return new Promise((f,m)=>{var C,B,Z;function _e(){du(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{du(),m(Ue(D,"network-request-failed"))},timeout:cu.get()})}if(null!==(B=null===(C=Nr().gapi)||void 0===C?void 0:C.iframes)&&void 0!==B&&B.Iframe)f(gapi.iframes.getContext());else{if(null===(Z=Nr().gapi)||void 0===Z||!Z.load){const Be=Zr("iframefcb");return Nr()[Be]=()=>{gapi.load?_e():m(Ue(D,"network-request-failed"))},function Li(D){return new Promise((f,m)=>{const C=document.createElement("script");C.setAttribute("src",D),C.onload=f,C.onerror=B=>{const Z=Ue("internal-error");Z.customData=B,m(Z)},C.type="text/javascript",C.charset="UTF-8",function bi(){var D,f;return null!==(f=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==f?f:document}().appendChild(C)})}(`https://apis.google.com/js/api.js?onload=${Be}`).catch(tt=>m(tt))}_e()}}).catch(f=>{throw wn=null,f})}(D),wn}const ja=new Ht(5e3,15e3),$a="__/auth/iframe",mh="emulator/auth/iframe",_h={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zf(D){const f=D.config;me(f.authDomain,D,"auth-domain-config-required");const m=f.emulator?Mt(f,mh):`https://${D.config.authDomain}/${$a}`,C={apiKey:f.apiKey,appName:D.name,v:j.Jn},B=yh.get(D.config.apiHost);B&&(C.eid=B);const Z=D._getFrameworks();return Z.length&&(C.fw=Z.join(",")),`${m}?${(0,J.xO)(C).slice(1)}`}function Zc(){return Zc=(0,_.Z)(function*(D){const f=yield vr(D),m=Nr().gapi;return me(m,D,"internal-error"),f.open({where:document.body,url:Zf(D),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_h,dontclear:!0},C=>new Promise(function(){var B=(0,_.Z)(function*(Z,_e){yield C.restyle({setHideOnLeave:!1});const Be=Ue(D,"network-request-failed"),tt=Nr().setTimeout(()=>{_e(Be)},ja.get());function Ot(){Nr().clearTimeout(tt),Z(C)}C.ping(Ot).then(Ot,()=>{_e(Be)})});return function(Z,_e){return B.apply(this,arguments)}}()))}),Zc.apply(this,arguments)}const om={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ki{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const tp="__/auth/handler",oo="emulator/auth/handler",Ao=encodeURIComponent("fac");function fu(D,f,m,C,B,Z){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,_.Z)(function*(D,f,m,C,B,Z){me(D.config.authDomain,D,"auth-domain-config-required"),me(D.config.apiKey,D,"invalid-api-key");const _e={apiKey:D.config.apiKey,appName:D.name,authType:m,redirectUrl:C,v:j.Jn,eventId:B};if(f instanceof ti){f.setDefaultLanguage(D.languageCode),_e.providerId=f.providerId||"",(0,J.xb)(f.getCustomParameters())||(_e.customParameters=JSON.stringify(f.getCustomParameters()));for(const[at,ir]of Object.entries(Z||{}))_e[at]=ir}if(f instanceof vs){const at=f.getScopes().filter(ir=>""!==ir);at.length>0&&(_e.scopes=at.join(","))}D.tenantId&&(_e.tid=D.tenantId);const Be=_e;for(const at of Object.keys(Be))void 0===Be[at]&&delete Be[at];const tt=yield D._getAppCheckToken(),Ot=tt?`#${Ao}=${encodeURIComponent(tt)}`:"";return`${function Ha({config:D}){return D.emulator?Mt(D,oo):`https://${D.authDomain}/${tp}`}(D)}?${(0,J.xO)(Be).slice(1)}${Ot}`})).apply(this,arguments)}const Ql="webStorageSupport",ba=class np{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=il,this._completeRedirectFn=lu,this._overrideRedirectResult=sm}_openPopup(f,m,C,B){var Z=this;return(0,_.Z)(function*(){var _e;Qt(null===(_e=Z.eventManagers[f._key()])||void 0===_e?void 0:_e.manager,"_initialize() not called before _openPopup()");const Be=yield fu(f,m,C,ht(),B);return function ep(D,f,m,C=500,B=600){const Z=Math.max((window.screen.availHeight-B)/2,0).toString(),_e=Math.max((window.screen.availWidth-C)/2,0).toString();let Be="";const tt=Object.assign(Object.assign({},om),{width:C.toString(),height:B.toString(),top:Z,left:_e}),Ot=(0,J.z$)().toLowerCase();m&&(Be=wr(Ot)?"_blank":m),qn(Ot)&&(f=f||"http://localhost",tt.scrollbars="yes");const at=Object.entries(tt).reduce((bs,[Pa,Jl])=>`${bs}${Pa}=${Jl},`,"");if(function qt(D=(0,J.z$)()){var f;return Et(D)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ot)&&"_self"!==Be)return function hl(D,f){const m=document.createElement("a");m.href=D,m.target=f;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(f||"",Be),new ki(null);const ir=window.open(f||"",Be,at);me(ir,D,"popup-blocked");try{ir.focus()}catch{}return new ki(ir)}(f,Be,$o())})()}_openRedirect(f,m,C,B){var Z=this;return(0,_.Z)(function*(){return yield Z._originValidation(f),function su(D){Nr().location.href=D}(yield fu(f,m,C,ht(),B)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:B,promise:Z}=this.eventManagers[m];return B?Promise.resolve(B):(Qt(Z,"If manager is not set, promise should be"),Z)}const C=this.initAndGetManager(f);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(f){var m=this;return(0,_.Z)(function*(){const C=yield function Jf(D){return Zc.apply(this,arguments)}(f),B=new fh(f);return C.register("authEvent",Z=>(me(Z?.authEvent,f,"invalid-auth-event"),{status:B.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:B},m.iframes[f._key()]=C,B})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Ql,{type:Ql},B=>{var Z;const _e=null===(Z=B?.[0])||void 0===Z?void 0:Z[Ql];void 0!==_e&&m(!!_e),ce(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function fa(D){return Kl.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return nr()||kr()||Et()}};var Yl="@firebase/auth";class gl{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,_.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(C=>{f(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ml=(0,J.Pz)("authIdTokenMaxAge")||300;let Xc=null;const Zl=D=>function(){var f=(0,_.Z)(function*(m){const C=m&&(yield m.getIdTokenResult()),B=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(B&&B>ml)return;const Z=C?.token;Xc!==Z&&(Xc=Z,yield fetch(D,{method:Z?"POST":"DELETE",headers:Z?{Authorization:`Bearer ${Z}`}:{}}))});return function(m){return f.apply(this,arguments)}}();function Sa(D=(0,j.Mq)()){const f=(0,j.qX)(D,"auth");if(f.isInitialized())return f.getImmediate();const m=function Ro(D,f){const m=(0,j.qX)(D,"auth");if(m.isInitialized()){const B=m.getImmediate(),Z=m.getOptions();if((0,J.vZ)(Z,f??{}))return B;ce(B,"already-initialized")}return m.initialize({options:f})}(D,{popupRedirectResolver:ba,persistence:[v,po,il]}),C=(0,J.Pz)("authTokenSyncURL");if(C){const Z=Zl(C);(function Vr(D,f,m){(0,J.m9)(D).beforeAuthStateChanged(f,m)})(m,Z,()=>Z(m.currentUser)),function pr(D,f,m,C){(0,J.m9)(D).onIdTokenChanged(f,m,C)}(m,_e=>Z(_e))}const B=(0,J.q4)("auth");return B&&function Hi(D,f,m){const C=On(D);me(C._canInitEmulator,C,"emulator-config-failed"),me(/^https?:\/\//.test(f),C,"invalid-emulator-scheme");const B=!!m?.disableWarnings,Z=ci(f),{host:_e,port:Be}=function Mo(D){const f=ci(D),m=/(\/\/)?([^?#/]+)/.exec(D.substr(f.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",B=/^(\[[^\]]+\])(:|$)/.exec(C);if(B){const Z=B[1];return{host:Z,port:Zo(C.substr(Z.length+1))}}{const[Z,_e]=C.split(":");return{host:Z,port:Zo(_e)}}}(f);C.config.emulator={url:`${Z}//${_e}${null===Be?"":`:${Be}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:_e,port:Be,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:B})}),B||function Jo(){function D(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(m,`http://${B}`),m}!function Lu(D){(0,j.Xd)(new ie.wA("auth",(f,{options:m})=>{const C=f.getProvider("app").getImmediate(),B=f.getProvider("heartbeat"),Z=f.getProvider("app-check-internal"),{apiKey:_e,authDomain:Be}=C.options;me(_e&&!_e.includes(":"),"invalid-api-key",{appName:C.name});const tt={apiKey:_e,authDomain:Be,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dr(D)},Ot=new Ms(C,B,Z,tt);return function gs(D,f){const m=f?.persistence||[],C=(Array.isArray(m)?m:[m]).map(qe);f?.errorMap&&D._updateErrorMap(f.errorMap),D._initializeWithPersistence(C,f?.popupRedirectResolver)}(Ot,m),Ot},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,C)=>{f.getProvider("auth-internal").initialize()})),(0,j.Xd)(new ie.wA("auth-internal",f=>{const m=On(f.getProvider("auth").getImmediate());return new gl(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,j.KN)(Yl,"1.5.1",function Eh(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,j.KN)(Yl,"1.5.1","esm2017")}("Browser")},5861:(bt,je,$)=>{function _(j,Te,ge,ie,Pe,Oe,Ie){try{var ne=j[Oe](Ie),se=ne.value}catch(he){return void ge(he)}ne.done?Te(se):Promise.resolve(se).then(ie,Pe)}function J(j){return function(){var Te=this,ge=arguments;return new Promise(function(ie,Pe){var Oe=j.apply(Te,ge);function Ie(se){_(Oe,ie,Pe,Ie,ne,"next",se)}function ne(se){_(Oe,ie,Pe,Ie,ne,"throw",se)}Ie(void 0)})}}$.d(je,{Z:()=>J})},7582:(bt,je,$)=>{function Te(ye,we){var Ne={};for(var Ce in ye)Object.prototype.hasOwnProperty.call(ye,Ce)&&we.indexOf(Ce)<0&&(Ne[Ce]=ye[Ce]);if(null!=ye&&"function"==typeof Object.getOwnPropertySymbols){var ze=0;for(Ce=Object.getOwnPropertySymbols(ye);ze<Ce.length;ze++)we.indexOf(Ce[ze])<0&&Object.prototype.propertyIsEnumerable.call(ye,Ce[ze])&&(Ne[Ce[ze]]=ye[Ce[ze]])}return Ne}function he(ye,we,Ne,Ce){return new(Ne||(Ne=Promise))(function(Je,Bt){function vn(pn){try{Ut(Ce.next(pn))}catch(Jn){Bt(Jn)}}function kn(pn){try{Ut(Ce.throw(pn))}catch(Jn){Bt(Jn)}}function Ut(pn){pn.done?Je(pn.value):function ze(Je){return Je instanceof Ne?Je:new Ne(function(Bt){Bt(Je)})}(pn.value).then(vn,kn)}Ut((Ce=Ce.apply(ye,we||[])).next())})}function ce(ye){return this instanceof ce?(this.v=ye,this):new ce(ye)}function Ue(ye,we,Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,Ce=Ne.apply(ye,we||[]),Je=[];return ze={},Bt("next"),Bt("throw"),Bt("return"),ze[Symbol.asyncIterator]=function(){return this},ze;function Bt(Fn){Ce[Fn]&&(ze[Fn]=function(Ct){return new Promise(function(Dn,gt){Je.push([Fn,Ct,Dn,gt])>1||vn(Fn,Ct)})})}function vn(Fn,Ct){try{!function kn(Fn){Fn.value instanceof ce?Promise.resolve(Fn.value.v).then(Ut,pn):Jn(Je[0][2],Fn)}(Ce[Fn](Ct))}catch(Dn){Jn(Je[0][3],Dn)}}function Ut(Fn){vn("next",Fn)}function pn(Fn){vn("throw",Fn)}function Jn(Fn,Ct){Fn(Ct),Je.shift(),Je.length&&vn(Je[0][0],Je[0][1])}}function Me(ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,we=ye[Symbol.asyncIterator];return we?we.call(ye):(ye=function st(ye){var we="function"==typeof Symbol&&Symbol.iterator,Ne=we&&ye[we],Ce=0;if(Ne)return Ne.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&Ce>=ye.length&&(ye=void 0),{value:ye&&ye[Ce++],done:!ye}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye),Ne={},Ce("next"),Ce("throw"),Ce("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne);function Ce(Je){Ne[Je]=ye[Je]&&function(Bt){return new Promise(function(vn,kn){!function ze(Je,Bt,vn,kn){Promise.resolve(kn).then(function(Ut){Je({value:Ut,done:vn})},Bt)}(vn,kn,(Bt=ye[Je](Bt)).done,Bt.value)})}}}$.d(je,{FC:()=>Ue,KL:()=>Me,_T:()=>Te,mG:()=>he,qq:()=>ce}),"function"==typeof SuppressedError&&SuppressedError}},bt=>{bt(bt.s=2303)}]);